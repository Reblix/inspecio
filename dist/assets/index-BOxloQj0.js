var GF=Object.defineProperty;var VF=(r,e,t)=>e in r?GF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ne=(r,e,t)=>VF(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();try{self["workbox:window:7.2.0"]&&_()}catch{}function z0(r,e){return new Promise(function(t){var n=new MessageChannel;n.port1.onmessage=function(i){t(i.data)},r.postMessage(e,[n.port2])})}function qF(r){var e=function(t,n){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var o=i.call(t,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r,"string");return typeof e=="symbol"?e:e+""}function $F(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,qF(n.key),n)}}function fw(r,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},fw(r,e)}function W0(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function jF(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=function(i,o){if(i){if(typeof i=="string")return W0(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?W0(i,o):void 0}}(r))||e){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.2.0"]&&_()}catch{}var im=function(){var r=this;this.promise=new Promise(function(e,t){r.resolve=e,r.reject=t})};function om(r,e){var t=location.href;return new URL(r,t).href===new URL(e,t).href}var zl=function(r,e){this.type=r,Object.assign(this,e)};function js(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}function zF(){}var WF={type:"SKIP_WAITING"};function Y0(r,e){return r&&r.then?r.then(zF):Promise.resolve()}var YF=function(r){function e(a,A){var c,l;return A===void 0&&(A={}),(c=r.call(this)||this).nn={},c.tn=0,c.rn=new im,c.en=new im,c.on=new im,c.un=0,c.an=new Set,c.cn=function(){var u=c.fn,d=u.installing;c.tn>0||!om(d.scriptURL,c.sn.toString())||performance.now()>c.un+6e4?(c.vn=d,u.removeEventListener("updatefound",c.cn)):(c.hn=d,c.an.add(d),c.rn.resolve(d)),++c.tn,d.addEventListener("statechange",c.ln)},c.ln=function(u){var d=c.fn,f=u.target,m=f.state,w=f===c.vn,B={sw:f,isExternal:w,originalEvent:u};!w&&c.mn&&(B.isUpdate=!0),c.dispatchEvent(new zl(m,B)),m==="installed"?c.wn=self.setTimeout(function(){m==="installed"&&d.waiting===f&&c.dispatchEvent(new zl("waiting",B))},200):m==="activating"&&(clearTimeout(c.wn),w||c.en.resolve(f))},c.yn=function(u){var d=c.hn,f=d!==navigator.serviceWorker.controller;c.dispatchEvent(new zl("controlling",{isExternal:f,originalEvent:u,sw:d,isUpdate:c.mn})),f||c.on.resolve(d)},c.gn=(l=function(u){var d=u.data,f=u.ports,m=u.source;return js(c.getSW(),function(){c.an.has(m)&&c.dispatchEvent(new zl("message",{data:d,originalEvent:u,ports:f,sw:m}))})},function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];try{return Promise.resolve(l.apply(this,u))}catch(f){return Promise.reject(f)}}),c.sn=a,c.nn=A,navigator.serviceWorker.addEventListener("message",c.gn),c}var t,n;n=r,(t=e).prototype=Object.create(n.prototype),t.prototype.constructor=t,fw(t,n);var i,o,s=e.prototype;return s.register=function(a){var A=(a===void 0?{}:a).immediate,c=A!==void 0&&A;try{var l=this;return js(function(u,d){var f=u();return f&&f.then?f.then(d):d(f)}(function(){if(!c&&document.readyState!=="complete")return Y0(new Promise(function(u){return window.addEventListener("load",u)}))},function(){return l.mn=!!navigator.serviceWorker.controller,l.dn=l.pn(),js(l.bn(),function(u){l.fn=u,l.dn&&(l.hn=l.dn,l.en.resolve(l.dn),l.on.resolve(l.dn),l.dn.addEventListener("statechange",l.ln,{once:!0}));var d=l.fn.waiting;return d&&om(d.scriptURL,l.sn.toString())&&(l.hn=d,Promise.resolve().then(function(){l.dispatchEvent(new zl("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.yn),l.fn})}))}catch(u){return Promise.reject(u)}},s.update=function(){try{return this.fn?js(Y0(this.fn.update())):js()}catch(a){return Promise.reject(a)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(a){try{return js(this.getSW(),function(A){return z0(A,a)})}catch(A){return Promise.reject(A)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&z0(this.fn.waiting,WF)},s.pn=function(){var a=navigator.serviceWorker.controller;return a&&om(a.scriptURL,this.sn.toString())?a:void 0},s.bn=function(){try{var a=this;return js(function(A,c){try{var l=A()}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(function(){return js(navigator.serviceWorker.register(a.sn,a.nn),function(A){return a.un=performance.now(),A})},function(A){throw A}))}catch(A){return Promise.reject(A)}},i=e,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&$F(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}(function(){function r(){this.Pn=new Map}var e=r.prototype;return e.addEventListener=function(t,n){this.jn(t).add(n)},e.removeEventListener=function(t,n){this.jn(t).delete(n)},e.dispatchEvent=function(t){t.target=this;for(var n,i=jF(this.jn(t.type));!(n=i()).done;)(0,n.value)(t)},e.jn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},r}());function JF(){if("serviceWorker"in navigator){const r=new YF("/sw.js");r.addEventListener("waiting",()=>r.messageSW({type:"SKIP_WAITING"})),r.register()}}/*! @azure/msal-common v14.16.1 2025-08-05 */const we={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},sd={CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},ul=[we.OPENID_SCOPE,we.PROFILE_SCOPE,we.OFFLINE_ACCESS_SCOPE],J0=[...ul,we.EMAIL_SCOPE],Vr={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},nr={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},ha={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ad={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Ar={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},X0={PLAIN:"plain",S256:"S256"},ru={QUERY:"query",FRAGMENT:"fragment"},XF={...ru},mE={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Ad={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Rr={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},ut={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},gy="appmetadata",ZF="client_info",vh="1",Rf={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},ui={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},fr={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Yt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Bh={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Z0={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},eB={username:"username",password:"password"},cd={httpSuccess:200,httpBadRequest:400},cc={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},sm={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Js={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},eU={Pop:"pop"},tU=300;/*! @azure/msal-common v14.16.1 2025-08-05 */const py="unexpected_error",nU="post_request_failed";/*! @azure/msal-common v14.16.1 2025-08-05 */const tB={[py]:"Unexpected error in authentication.",[nU]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};let Bn=class wE extends Error{constructor(e,t,n){const i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,wE.prototype),this.errorCode=e||we.EMPTY_STRING,this.errorMessage=t||we.EMPTY_STRING,this.subError=n||we.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function CE(r,e){return new Bn(r,e?`${tB[r]} ${e}`:tB[r])}/*! @azure/msal-common v14.16.1 2025-08-05 */const my="client_info_decoding_error",yE="client_info_empty_error",wy="token_parsing_error",vE="null_or_empty_token",us="endpoints_resolution_error",BE="network_error",bE="openid_config_error",IE="hash_not_deserialized",Xc="invalid_state",EE="state_mismatch",Nf="state_not_found",SE="nonce_mismatch",Cy="auth_time_not_found",TE="max_age_transpired",rU="multiple_matching_tokens",iU="multiple_matching_accounts",_E="multiple_matching_appMetadata",kE="request_cannot_be_made",FE="cannot_remove_empty_scope",UE="cannot_append_scopeset",gw="empty_input_scopeset",oU="device_code_polling_cancelled",sU="device_code_expired",aU="device_code_unknown_error",yy="no_account_in_silent_request",xE="invalid_cache_record",vy="invalid_cache_environment",pw="no_account_found",mw="no_crypto_object",ww="unexpected_credential_type",AU="invalid_assertion",cU="invalid_client_credential",ps="token_refresh_required",lU="user_timeout_reached",RE="token_claims_cnf_required_for_signedjwt",NE="authorization_code_missing_from_server_response",hU="binding_key_not_removed",PE="end_session_endpoint_not_supported",By="key_id_missing",uU="no_network_connectivity",dU="user_canceled",fU="missing_tenant_id_error",Bt="method_not_implemented",gU="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.16.1 2025-08-05 */const nB={[my]:"The client info could not be parsed/decoded correctly",[yE]:"The client info was empty",[wy]:"Token cannot be parsed",[vE]:"The token is null or empty",[us]:"Endpoints cannot be resolved",[BE]:"Network request failed",[bE]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[IE]:"The hash parameters could not be deserialized",[Xc]:"State was not the expected format",[EE]:"State mismatch error",[Nf]:"State not found",[SE]:"Nonce mismatch error",[Cy]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[TE]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[rU]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[iU]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[_E]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[kE]:"Token request cannot be made without authorization code or refresh token.",[FE]:"Cannot remove null or empty scope from ScopeSet",[UE]:"Cannot append ScopeSet",[gw]:"Empty input ScopeSet cannot be processed",[oU]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[sU]:"Device code is expired.",[aU]:"Device code stopped polling for unknown reasons.",[yy]:"Please pass an account object, silent flow is not supported without account information",[xE]:"Cache record object was null or undefined.",[vy]:"Invalid environment when attempting to create cache entry",[pw]:"No account found in cache for given key.",[mw]:"No crypto object detected.",[ww]:"Unexpected credential type.",[AU]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[cU]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[ps]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[lU]:"User defined timeout for device code polling reached",[RE]:"Cannot generate a POP jwt if the token_claims are not populated",[NE]:"Server response does not contain an authorization code to proceed",[hU]:"Could not remove the credential's binding key from storage.",[PE]:"The provided authority does not support logout",[By]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[uU]:"No network connectivity. Check your internet connection.",[dU]:"User cancelled the flow.",[fU]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Bt]:"This method has not been implemented",[gU]:"The nested app auth bridge is disabled"};let LE=class OE extends Bn{constructor(e,t){super(e,t?`${nB[e]}: ${t}`:nB[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,OE.prototype)}};function Te(r,e){return new LE(r,e)}/*! @azure/msal-common v14.16.1 2025-08-05 */const Pf={createNewGuid:()=>{throw Te(Bt)},base64Decode:()=>{throw Te(Bt)},base64Encode:()=>{throw Te(Bt)},base64UrlEncode:()=>{throw Te(Bt)},encodeKid:()=>{throw Te(Bt)},async getPublicKeyThumbprint(){throw Te(Bt)},async removeTokenBindingKey(){throw Te(Bt)},async clearKeystore(){throw Te(Bt)},async signJwt(){throw Te(Bt)},async hashString(){throw Te(Bt)}};/*! @azure/msal-common v14.16.1 2025-08-05 */var gn;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(gn||(gn={}));let iu=class Cw{constructor(e,t,n){this.level=gn.Info;const i=()=>{},o=e||Cw.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:gn.Info,this.correlationId=o.correlationId||we.EMPTY_STRING,this.packageName=t||we.EMPTY_STRING,this.packageVersion=n||we.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:gn.Info}}clone(e,t,n){return new Cw({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${gn[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:gn.Error,containsPii:!1,correlationId:t||we.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:gn.Error,containsPii:!0,correlationId:t||we.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:gn.Warning,containsPii:!1,correlationId:t||we.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:gn.Warning,containsPii:!0,correlationId:t||we.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:gn.Info,containsPii:!1,correlationId:t||we.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:gn.Info,containsPii:!0,correlationId:t||we.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:gn.Verbose,containsPii:!1,correlationId:t||we.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:gn.Verbose,containsPii:!0,correlationId:t||we.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:gn.Trace,containsPii:!1,correlationId:t||we.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:gn.Trace,containsPii:!0,correlationId:t||we.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};/*! @azure/msal-common v14.16.1 2025-08-05 */const ME="@azure/msal-common",by="14.16.1";/*! @azure/msal-common v14.16.1 2025-08-05 */const Iy={None:"none"};/*! @azure/msal-common v14.16.1 2025-08-05 */function TA(r,e){const t=pU(r);try{const n=e(t);return JSON.parse(n)}catch{throw Te(wy)}}function pU(r){if(!r)throw Te(vE);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!t||t.length<4)throw Te(wy);return t[2]}function QE(r,e){if(e===0||Date.now()-3e5>r+e)throw Te(TE)}/*! @azure/msal-common v14.16.1 2025-08-05 */function Ho(){return Math.round(new Date().getTime()/1e3)}function yw(r,e){const t=Number(r)||0;return Ho()+e>t}function mU(r){return Number(r)>Ho()}/*! @azure/msal-common v14.16.1 2025-08-05 */function Nc(r){return[wU(r),CU(r),yU(r),vU(r),BU(r)].join(Rr.CACHE_KEY_SEPARATOR).toLowerCase()}function Bg(r,e,t,n,i){return{credentialType:ut.ID_TOKEN,homeAccountId:r,environment:e,clientId:n,secret:t,realm:i}}function bg(r,e,t,n,i,o,s,a,A,c,l,u,d,f,m){var B,y;const w={homeAccountId:r,credentialType:ut.ACCESS_TOKEN,secret:t,cachedAt:Ho().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:n,realm:i,target:o,tokenType:l||Yt.BEARER};if(u&&(w.userAssertionHash=u),c&&(w.refreshOn=c.toString()),f&&(w.requestedClaims=f,w.requestedClaimsHash=m),((B=w.tokenType)==null?void 0:B.toLowerCase())!==Yt.BEARER.toLowerCase())switch(w.credentialType=ut.ACCESS_TOKEN_WITH_AUTH_SCHEME,w.tokenType){case Yt.POP:const b=TA(t,A);if(!((y=b==null?void 0:b.cnf)!=null&&y.kid))throw Te(RE);w.keyId=b.cnf.kid;break;case Yt.SSH:w.keyId=d}return w}function HE(r,e,t,n,i,o,s){const a={credentialType:ut.REFRESH_TOKEN,homeAccountId:r,environment:e,clientId:n,secret:t};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function Ey(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function rB(r){return r?Ey(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===ut.ACCESS_TOKEN||r.credentialType===ut.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function iB(r){return r?Ey(r)&&r.hasOwnProperty("realm")&&r.credentialType===ut.ID_TOKEN:!1}function oB(r){return r?Ey(r)&&r.credentialType===ut.REFRESH_TOKEN:!1}function wU(r){return[r.homeAccountId,r.environment].join(Rr.CACHE_KEY_SEPARATOR).toLowerCase()}function CU(r){const e=r.credentialType===ut.REFRESH_TOKEN&&r.familyId||r.clientId;return[r.credentialType,e,r.realm||""].join(Rr.CACHE_KEY_SEPARATOR).toLowerCase()}function yU(r){return(r.target||"").toLowerCase()}function vU(r){return(r.requestedClaimsHash||"").toLowerCase()}function BU(r){return r.tokenType&&r.tokenType.toLowerCase()!==Yt.BEARER.toLowerCase()?r.tokenType.toLowerCase():""}function bU(r,e){const t=r.indexOf(fr.CACHE_KEY)===0;let n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&n}function IU(r,e){let t=!1;r&&(t=r.indexOf(Bh.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),t&&n}function EU({environment:r,clientId:e}){return[gy,r,e].join(Rr.CACHE_KEY_SEPARATOR).toLowerCase()}function SU(r,e){return e?r.indexOf(gy)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function TU(r,e){return e?r.indexOf(Rf.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function sB(){return Ho()+Rf.REFRESH_TIME_SECONDS}function ld(r,e,t){r.authorization_endpoint=e.authorization_endpoint,r.token_endpoint=e.token_endpoint,r.end_session_endpoint=e.end_session_endpoint,r.issuer=e.issuer,r.endpointsFromNetwork=t,r.jwks_uri=e.jwks_uri}function am(r,e,t){r.aliases=e.aliases,r.preferred_cache=e.preferred_cache,r.preferred_network=e.preferred_network,r.aliasesFromNetwork=t}function aB(r){return r.expiresAt<=Ho()}/*! @azure/msal-common v14.16.1 2025-08-05 */const DE="redirect_uri_empty",_U="claims_request_parsing_error",KE="authority_uri_insecure",sh="url_parse_error",GE="empty_url_error",VE="empty_input_scopes_error",qE="invalid_prompt_value",Sy="invalid_claims",$E="token_request_empty",jE="logout_request_empty",zE="invalid_code_challenge_method",Ty="pkce_params_missing",_y="invalid_cloud_discovery_metadata",WE="invalid_authority_metadata",YE="untrusted_authority",Ig="missing_ssh_jwk",JE="missing_ssh_kid",kU="missing_nonce_authentication_header",FU="invalid_authentication_header",XE="cannot_set_OIDCOptions",ZE="cannot_allow_native_broker",e2="authority_mismatch";/*! @azure/msal-common v14.16.1 2025-08-05 */const UU={[DE]:"A redirect URI is required for all calls, and none has been set.",[_U]:"Could not parse the given claims request object.",[KE]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[sh]:"URL could not be parsed into appropriate segments.",[GE]:"URL was empty or null.",[VE]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[qE]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Sy]:"Given claims parameter must be a stringified JSON object.",[$E]:"Token request was empty and not found in cache.",[jE]:"The logout request was null or undefined.",[zE]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ty]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[_y]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[WE]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[YE]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Ig]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[JE]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[kU]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[FU]:"Invalid authentication header provided",[XE]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[ZE]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[e2]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};let xU=class t2 extends Bn{constructor(e){super(e,UU[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t2.prototype)}};function nn(r){return new xU(r)}/*! @azure/msal-common v14.16.1 2025-08-05 */let to=class{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return n.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[i(s)]=i(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}};/*! @azure/msal-common v14.16.1 2025-08-05 */let mr=class hf{constructor(e){const t=e?to.trimArrayEntries([...e]):[],n=t?to.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){const n=(e||we.EMPTY_STRING).split(" ");return new hf(n)}static createSearchScopes(e){const t=new hf(e);return t.containsOnlyOIDCScopes()?t.removeScope(we.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw nn(VE)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new hf(t);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return J0.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw Te(UE)}}removeScope(e){if(!e)throw Te(FE);this.scopes.delete(e.trim())}removeOIDCScopes(){J0.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Te(gw);const t=new Set;return e.scopes.forEach(n=>t.add(n.toLowerCase())),this.scopes.forEach(n=>t.add(n.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw Te(gw);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return t.size<i+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):we.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};/*! @azure/msal-common v14.16.1 2025-08-05 */function Lf(r,e){if(!r)throw Te(yE);try{const t=e(r);return JSON.parse(t)}catch{throw Te(my)}}function Pc(r){if(!r)throw Te(my);const e=r.split(Rr.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?we.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.16.1 2025-08-05 */function Of(r,e){return!!r&&!!e&&r===e.split(".")[1]}function ky(r,e,t,n){if(n){const{oid:i,sub:o,tid:s,name:a,tfp:A,acr:c}=n,l=s||A||c||"";return{tenantId:l,localAccountId:i||o||"",name:a,isHomeTenant:Of(l,r)}}else return{tenantId:t,localAccountId:e,isHomeTenant:Of(t,r)}}function Fy(r,e,t,n){let i=r;if(e){const{isHomeTenant:o,...s}=e;i={...r,...s}}if(t){const{isHomeTenant:o,...s}=ky(r.homeAccountId,r.localAccountId,r.tenantId,t);return i={...i,...s,idTokenClaims:t,idToken:n},i}return i}/*! @azure/msal-common v14.16.1 2025-08-05 */const Xi={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.16.1 2025-08-05 */function n2(r){return r&&(r.tid||r.tfp||r.acr)||null}/*! @azure/msal-common v14.16.1 2025-08-05 */const bs={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.16.1 2025-08-05 */let $r=class uf{generateAccountId(){return[this.homeAccountId,this.environment].join(Rr.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return uf.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Rr.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){var c,l,u,d,f,m;const i=new uf;t.authorityType===Xi.Adfs?i.authorityType=Ad.ADFS_ACCOUNT_TYPE:t.protocolMode===bs.AAD?i.authorityType=Ad.MSSTS_ACCOUNT_TYPE:i.authorityType=Ad.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&n&&(o=Lf(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw Te(vy);i.environment=s,i.realm=(o==null?void 0:o.utid)||n2(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((c=e.idTokenClaims)==null?void 0:c.oid)||((l=e.idTokenClaims)==null?void 0:l.sub)||"";const a=((u=e.idTokenClaims)==null?void 0:u.preferred_username)||((d=e.idTokenClaims)==null?void 0:d.upn),A=(f=e.idTokenClaims)!=null&&f.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||A||"",i.name=((m=e.idTokenClaims)==null?void 0:m.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const w=ky(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[w]}return i}static createFromAccountInfo(e,t,n){var o;const i=new uf;return i.authorityType=e.authorityType||Ad.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=n,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,t,n,i,o){if(!(t===Xi.Adfs||t===Xi.Dsts)){if(e)try{const s=Lf(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let i=!0;if(n){const o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}};/*! @azure/msal-common v14.16.1 2025-08-05 */function r2(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function Mf(r){if(!r||r.indexOf("=")<0)return null;try{const e=r2(r),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw Te(IE)}return null}/*! @azure/msal-common v14.16.1 2025-08-05 */let Wt=class Bc{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw nn(GE);e.includes("#")||(this._urlString=Bc.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return to.endsWith(t,"?")?t=t.slice(0,-1):to.endsWith(t,"?/")&&(t=t.slice(0,-2)),to.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw nn(sh)}if(!e.HostNameAndPort||!e.PathSegments)throw nn(sh);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw nn(KE)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Bc.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return e&&n.length!==0&&(n[0]===ha.COMMON||n[0]===ha.ORGANIZATIONS)&&(n[0]=e),Bc.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw nn(sh);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let i=n.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw nn(sh);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===we.FORWARD_SLASH){const i=new Bc(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Bc(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Mf(e)}};/*! @azure/msal-common v14.16.1 2025-08-05 */const i2={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},AB=i2.endpointMetadata,Uy=i2.instanceDiscoveryMetadata,o2=new Set;Uy.metadata.forEach(r=>{r.aliases.forEach(e=>{o2.add(e)})});function RU(r,e){var i;let t;const n=r.canonicalAuthority;if(n){const o=new Wt(n).getUrlComponents().HostNameAndPort;t=cB(o,(i=r.cloudDiscoveryMetadata)==null?void 0:i.metadata,ui.CONFIG,e)||cB(o,Uy.metadata,ui.HARDCODED_VALUES,e)||r.knownAuthorities}return t||[]}function cB(r,e,t,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${t}`),r&&e){const i=Qf(e,r);if(i)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function NU(r){return Qf(Uy.metadata,r)}function Qf(r,e){for(let t=0;t<r.length;t++){const n=r[t];if(n.aliases.includes(e))return n}return null}/*! @azure/msal-common v14.16.1 2025-08-05 */const xy="cache_quota_exceeded",Ry="cache_error_unknown";/*! @azure/msal-common v14.16.1 2025-08-05 */const Am={[xy]:"Exceeded cache storage capacity.",[Ry]:"Unexpected error occurred when using cache storage."};let df=class s2 extends Error{constructor(e,t){const n=t||(Am[e]?Am[e]:Am[Ry]);super(`${e}: ${n}`),Object.setPrototypeOf(this,s2.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}};function a2(r){return r instanceof Error?r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED"||r.message.includes("exceeded the quota")?new df(xy):new df(r.name,r.message):new df(Ry)}/*! @azure/msal-common v14.16.1 2025-08-05 */let Hf=class A2{constructor(e,t,n,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(ME,by),this.staticAuthorityOptions=i}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(t||{},e),e,t)}getAccountInfoFilteredBy(e,t){const n=this.getAllAccounts(t,e);return n.length>1?n.sort(o=>o.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,t){const n=this.getAccountsFilteredBy(e,t);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,t,n){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,t,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(e,t,n,i,o){let s=null,a;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;const A=this.getIdToken(e,i,t,n.tenantId);return A&&(a=TA(A.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,o))?null:(s=Fy(e,n,a,A==null?void 0:A.secret),s)}getTenantProfilesFromAccountEntity(e,t,n,i){const o=e.getAccountInfo();let s=o.tenantProfiles||new Map;const a=this.getTokenKeys();if(n){const c=s.get(n);if(c)s=new Map([[n,c]]);else return[]}const A=[];return s.forEach(c=>{const l=this.getTenantedAccountInfoByFilter(o,a,c,t,i);l&&A.push(l)}),A}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,n){var i;if(!e)throw Te(xE);try{e.account&&this.setAccount(e.account,t),e.idToken&&(n==null?void 0:n.idToken)!==!1&&this.setIdTokenCredential(e.idToken,t),e.accessToken&&(n==null?void 0:n.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&(n==null?void 0:n.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(o){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),o instanceof Bn?o:a2(o)}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),o=mr.fromString(e.target);i.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,n,!1))return;const a=this.getAccessTokenCredential(s,t);a&&this.credentialMatchesFilter(a,n)&&mr.fromString(a.target).intersectingScopeSets(o)&&this.removeAccessToken(s,t)}),this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e,t){const n=this.getAccountKeys(),i=[];return n.forEach(o=>{var c;if(!this.isAccountKey(o,e.homeAccountId))return;const s=this.getAccount(o,t,this.commonLogger);if(!s||e.homeAccountId&&!this.matchHomeAccountId(s,e.homeAccountId)||e.username&&!this.matchUsername(s.username,e.username)||e.environment&&!this.matchEnvironment(s,e.environment)||e.realm&&!this.matchRealm(s,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(s,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(s,e.authorityType))return;const a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},A=(c=s.tenantProfiles)==null?void 0:c.filter(l=>this.tenantProfileMatchesFilter(l,a));A&&A.length===0||i.push(s)}),i}isAccountKey(e,t,n){return!(e.split(Rr.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Rr.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(ut.ID_TOKEN.toLowerCase())===-1&&t.indexOf(ut.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(ut.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(ut.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(ut.REFRESH_TOKEN.toLowerCase())>-1){const n=`${ut.REFRESH_TOKEN}${Rr.CACHE_KEY_SEPARATOR}${this.clientId}${Rr.CACHE_KEY_SEPARATOR}`,i=`${ut.REFRESH_TOKEN}${Rr.CACHE_KEY_SEPARATOR}${vh}${Rr.CACHE_KEY_SEPARATOR}`;if(t.indexOf(n.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===ut.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===Yt.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(n[i]=o))}),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(n=o)}),n}async removeAllAccounts(e){const t=this.getAccountKeys(),n=[];t.forEach(i=>{n.push(this.removeAccount(i,e))}),await Promise.all(n)}async removeAccount(e,t){const n=this.getAccount(e,t,this.commonLogger);n&&(await this.removeAccountContext(n,t),this.removeItem(e,t))}async removeAccountContext(e,t){const n=this.getTokenKeys(),i=e.generateAccountId();n.idToken.forEach(o=>{o.indexOf(i)===0&&this.removeIdToken(o,t)}),n.accessToken.forEach(o=>{o.indexOf(i)===0&&this.removeAccessToken(o,t)}),n.refreshToken.forEach(o=>{o.indexOf(i)===0&&this.removeRefreshToken(o,t)}),this.getKeys().forEach(o=>{o.includes(i)&&this.removeItem(o,t)})}updateOutdatedCachedAccount(e,t,n,i){var o;if(t&&t.isSingleTenant()){(o=this.commonLogger)==null||o.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const s=this.getAccountKeys().filter(u=>u.startsWith(t.homeAccountId)),a=[];s.forEach(u=>{const d=this.getCachedAccountEntity(u,n);d&&a.push(d)});const A=a.find(u=>Of(u.realm,u.homeAccountId))||a[0];A.tenantProfiles=a.map(u=>({tenantId:u.realm,localAccountId:u.localAccountId,name:u.name,isHomeTenant:Of(u.realm,u.homeAccountId)}));const c=A2.toObject(new $r,{...A}),l=c.generateAccountKey();return s.forEach(u=>{u!==l&&this.removeOutdatedAccount(e,n)}),this.setAccount(c,n),i==null||i.verbose("Updated an outdated account entity in the cache"),c}return t}removeAccessToken(e,t){const n=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),!n||n.credentialType.toLowerCase()!==ut.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==Yt.POP)return;const i=n.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{this.commonLogger.error("Binding key could not be removed")})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}readAccountFromCache(e,t){const n=$r.generateAccountCacheKey(e);return this.getAccount(n,t,this.commonLogger)}getIdToken(e,t,n,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ut.ID_TOKEN,clientId:this.clientId,realm:i},a=this.getIdTokensByFilter(s,t,n),A=a.size;if(A<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(A>1){let c=a;if(!i){const l=new Map;a.forEach((d,f)=>{d.realm===e.tenantId&&l.set(f,d)});const u=l.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(u===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),l.values().next().value;c=l}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),c.forEach((l,u)=>{this.removeIdToken(u,t)}),o&&t&&o.addFields({multiMatchedID:a.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t,n){const i=n&&n.idToken||this.getTokenKeys().idToken,o=new Map;return i.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...e}))return;const a=this.getIdTokenCredential(s,t);a&&this.credentialMatchesFilter(a,e)&&o.set(s,a)}),o}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return!(t.clientId&&n.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&n.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,n,i,o){this.commonLogger.trace("CacheManager - getAccessToken called");const s=mr.createSearchScopes(t.scopes),a=t.authenticationScheme||Yt.BEARER,A=a.toLowerCase()!==Yt.BEARER.toLowerCase()?ut.ACCESS_TOKEN_WITH_AUTH_SCHEME:ut.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:A,clientId:this.clientId,realm:i||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},l=n&&n.accessToken||this.getTokenKeys().accessToken,u=[];l.forEach(f=>{if(this.accessTokenKeyMatchesFilter(f,c,!0)){const m=this.getAccessTokenCredential(f,t.correlationId);m&&this.credentialMatchesFilter(m,c)&&u.push(m)}});const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),u.forEach(f=>{this.removeAccessToken(Nc(f),t.correlationId)}),o&&t.correlationId&&o.addFields({multiMatchedAT:u.length},t.correlationId),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0])}accessTokenKeyMatchesFilter(e,t,n){const i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const o=t.target.asArray();for(let s=0;s<o.length;s++){if(n&&!i.includes(o[s].toLowerCase()))return!1;if(!n&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,t){const n=this.getTokenKeys(),i=[];return n.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const s=this.getAccessTokenCredential(o,t);s&&this.credentialMatchesFilter(s,e)&&i.push(s)}),i}getRefreshToken(e,t,n,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=t?vh:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ut.REFRESH_TOKEN,clientId:this.clientId,familyId:s},A=i&&i.refreshToken||this.getTokenKeys().refreshToken,c=[];A.forEach(u=>{if(this.refreshTokenKeyMatchesFilter(u,a)){const d=this.getRefreshTokenCredential(u,n);d&&this.credentialMatchesFilter(d,a)&&c.push(d)}});const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&o&&n&&o.addFields({multiMatchedRT:l},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return!(t.familyId&&n.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&n.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&n.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),i=Object.keys(n).map(s=>n[s]),o=i.length;if(o<1)return null;if(o>1)throw Te(_E);return i[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===vh)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const n=e.oid||e.sub;return t===n}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return t.toLowerCase()===((n=e.name)==null?void 0:n.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const i=RU(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var n;return((n=e.realm)==null?void 0:n.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==ut.ACCESS_TOKEN&&e.credentialType!==ut.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:mr.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(gy)!==-1}isAuthorityMetadata(e){return e.indexOf(Rf.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Rf.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}},PU=class extends Hf{setAccount(){throw Te(Bt)}getAccount(){throw Te(Bt)}getCachedAccountEntity(){throw Te(Bt)}setIdTokenCredential(){throw Te(Bt)}getIdTokenCredential(){throw Te(Bt)}setAccessTokenCredential(){throw Te(Bt)}getAccessTokenCredential(){throw Te(Bt)}setRefreshTokenCredential(){throw Te(Bt)}getRefreshTokenCredential(){throw Te(Bt)}setAppMetadata(){throw Te(Bt)}getAppMetadata(){throw Te(Bt)}setServerTelemetry(){throw Te(Bt)}getServerTelemetry(){throw Te(Bt)}setAuthorityMetadata(){throw Te(Bt)}getAuthorityMetadata(){throw Te(Bt)}getAuthorityMetadataKeys(){throw Te(Bt)}setThrottlingCache(){throw Te(Bt)}getThrottlingCache(){throw Te(Bt)}removeItem(){throw Te(Bt)}getKeys(){throw Te(Bt)}getAccountKeys(){throw Te(Bt)}getTokenKeys(){throw Te(Bt)}updateCredentialCacheKey(){throw Te(Bt)}removeOutdatedAccount(){throw Te(Bt)}};/*! @azure/msal-common v14.16.1 2025-08-05 */const c2={tokenRenewalOffsetSeconds:tU,preventCorsPreflight:!1},LU={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:gn.Info,correlationId:we.EMPTY_STRING},OU={claimsBasedCachingEnabled:!1},MU={async sendGetRequestAsync(){throw Te(Bt)},async sendPostRequestAsync(){throw Te(Bt)}},QU={sku:we.SKU,version:by,cpu:we.EMPTY_STRING,os:we.EMPTY_STRING},HU={clientSecret:we.EMPTY_STRING,clientAssertion:void 0},DU={azureCloudInstance:Iy.None,tenant:`${we.DEFAULT_COMMON_TENANT}`},KU={application:{appName:"",appVersion:""}};function GU({authOptions:r,systemOptions:e,loggerOptions:t,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:A,telemetry:c,serverTelemetryManager:l,persistencePlugin:u,serializableCache:d}){const f={...LU,...t};return{authOptions:VU(r),systemOptions:{...c2,...e},loggerOptions:f,cacheOptions:{...OU,...n},storageInterface:i||new PU(r.clientId,Pf,new iu(f)),networkInterface:o||MU,cryptoInterface:s||Pf,clientCredentials:a||HU,libraryInfo:{...QU,...A},telemetry:{...KU,...c},serverTelemetryManager:l||null,persistencePlugin:u||null,serializableCache:d||null}}function VU(r){return{clientCapabilities:[],azureCloudOptions:DU,skipAuthorityMetadataCache:!1,instanceAware:!1,...r}}function vw(r){return r.authOptions.authority.options.protocolMode===bs.OIDC}/*! @azure/msal-common v14.16.1 2025-08-05 */const Ci={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.16.1 2025-08-05 */const CA="client_id",l2="redirect_uri",lB="response_type",qU="response_mode",$U="grant_type",jU="claims",zU="scope",WU="refresh_token",YU="state",JU="nonce",XU="prompt",ZU="code",ex="code_challenge",tx="code_challenge_method",nx="code_verifier",rx="client-request-id",ix="x-client-SKU",ox="x-client-VER",sx="x-client-OS",ax="x-client-CPU",Ax="x-client-current-telemetry",cx="x-client-last-telemetry",lx="x-ms-lib-capability",hx="x-app-name",ux="x-app-ver",dx="post_logout_redirect_uri",fx="id_token_hint",gx="device_code",px="client_secret",mx="client_assertion",wx="client_assertion_type",hB="token_type",uB="req_cnf",Cx="assertion",yx="requested_token_use",dB="return_spa_code",vx="nativebroker",Bx="logout_hint",bx="sid",Ix="login_hint",Ex="domain_hint",Sx="x-client-xtra-sku",Ny="brk_client_id",Bw="brk_redirect_uri";/*! @azure/msal-common v14.16.1 2025-08-05 */let bc=class{static validateRedirectUri(e){if(!e)throw nn(DE)}static validatePrompt(e){const t=[];for(const n in Ar)t.push(Ar[n]);if(t.indexOf(e)<0)throw nn(qE)}static validateClaims(e){try{JSON.parse(e)}catch{throw nn(Sy)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw nn(Ty);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([X0.PLAIN,X0.S256].indexOf(e)<0)throw nn(zE)}};/*! @azure/msal-common v14.16.1 2025-08-05 */function Tx(r,e,t){if(!e)return;const n=r.get(CA);n&&r.has(Ny)&&(t==null||t.addFields({embeddedClientId:n,embeddedRedirectUri:r.get(l2)},e))}let bh=class{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(lB,encodeURIComponent(we.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(lB,encodeURIComponent(`${we.TOKEN_RESPONSE_TYPE} ${we.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(qU,encodeURIComponent(e||XF.QUERY))}addNativeBroker(){this.parameters.set(vx,encodeURIComponent("1"))}addScopes(e,t=!0,n=ul){t&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");const i=t?[...e||[],...n]:e||[],o=new mr(i);this.parameters.set(zU,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(CA,encodeURIComponent(e))}addRedirectUri(e){bc.validateRedirectUri(e),this.parameters.set(l2,encodeURIComponent(e))}addPostLogoutRedirectUri(e){bc.validateRedirectUri(e),this.parameters.set(dx,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(fx,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(Ex,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(Ix,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Vr.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Vr.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(bx,encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);bc.validateClaims(n),this.parameters.set(jU,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(rx,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(ix,e.sku),this.parameters.set(ox,e.version),e.os&&this.parameters.set(sx,e.os),e.cpu&&this.parameters.set(ax,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(hx,e.appName),e!=null&&e.appVersion&&this.parameters.set(ux,e.appVersion)}addPrompt(e){bc.validatePrompt(e),this.parameters.set(`${XU}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(YU,encodeURIComponent(e))}addNonce(e){this.parameters.set(JU,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(bc.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(ex,encodeURIComponent(e)),this.parameters.set(tx,encodeURIComponent(t));else throw nn(Ty)}addAuthorizationCode(e){this.parameters.set(ZU,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(gx,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(WU,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(nx,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(px,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(mx,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(wx,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(Cx,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(yx,encodeURIComponent(e))}addGrantType(e){this.parameters.set($U,encodeURIComponent(e))}addClientInfo(){this.parameters.set(ZF,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,n])=>{!this.parameters.has(t)&&n&&this.parameters.set(t,n)})}addClientCapabilitiesToClaims(e,t){let n;if(!e)n={};else try{n=JSON.parse(e)}catch{throw nn(Sy)}return t&&t.length>0&&(n.hasOwnProperty(ad.ACCESS_TOKEN)||(n[ad.ACCESS_TOKEN]={}),n[ad.ACCESS_TOKEN][ad.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(eB.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(eB.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(hB,Yt.POP),this.parameters.set(uB,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(hB,Yt.SSH),this.parameters.set(uB,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(Ax,e.generateCurrentRequestHeaderValue()),this.parameters.set(cx,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(lx,Bh.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(Bx,encodeURIComponent(e))}addBrokerParameters(e){const t={};t[Ny]=e.brokerClientId,t[Bw]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach((t,n)=>{e.push(`${n}=${t}`)}),Tx(this.parameters,this.correlationId,this.performanceClient),e.join("&")}};/*! @azure/msal-common v14.16.1 2025-08-05 */function _x(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.16.1 2025-08-05 */function kx(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}/*! @azure/msal-common v14.16.1 2025-08-05 */function Fx(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}/*! @azure/msal-common v14.16.1 2025-08-05 */const le={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},Ux={InProgress:1};/*! @azure/msal-common v14.16.1 2025-08-05 */const _A=(r,e,t,n,i)=>(...o)=>{t.trace(`Executing function ${e}`);const s=n==null?void 0:n.startMeasurement(e,i);if(i){const a=e+"CallCount";n==null||n.incrementFields({[a]:1},i)}try{const a=r(...o);return s==null||s.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},xe=(r,e,t,n,i)=>(...o)=>{t.trace(`Executing function ${e}`);const s=n==null?void 0:n.startMeasurement(e,i);if(i){const a=e+"CallCount";n==null||n.incrementFields({[a]:1},i)}return n==null||n.setPreQueueTime(e,i),r(...o).then(a=>(t.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v14.16.1 2025-08-05 */let h2=class u2{constructor(e,t,n,i){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=i}async detectRegion(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(le.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)t.region_source=cc.ENVIRONMENT_VARIABLE;else{const o=u2.IMDS_OPTIONS;try{const s=await xe(this.getRegionFromIMDS.bind(this),le.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(we.IMDS_VERSION,o);if(s.status===cd.httpSuccess&&(n=s.body,t.region_source=cc.IMDS),s.status===cd.httpBadRequest){const a=await xe(this.getCurrentVersion.bind(this),le.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return t.region_source=cc.FAILED_AUTO_DETECTION,null;const A=await xe(this.getRegionFromIMDS.bind(this),le.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);A.status===cd.httpSuccess&&(n=A.body,t.region_source=cc.IMDS)}}catch{return t.region_source=cc.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=cc.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(le.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${we.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,we.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(le.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${we.IMDS_ENDPOINT}?format=json`,e);return n.status===cd.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}};h2.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.16.1 2025-08-05 */let Zc=class To{constructor(e,t,n,i,o,s,a,A){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=A||!1,this.regionDiscovery=new h2(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(we.CIAM_AUTH_URL))return Xi.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case we.ADFS:return Xi.Adfs;case we.DSTS:return Xi.Dsts}return Xi.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Wt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Te(us)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Te(us)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Te(us)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Te(PE);return this.replacePath(this.metadata.end_session_endpoint)}else throw Te(us)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Te(us)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Te(us)}canReplaceTenant(e){return e.PathSegments.length===1&&!To.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Xi.Default&&this.protocolMode===bs.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const i=new Wt(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,A)=>{let c=o[A];if(A===0&&this.canReplaceTenant(i)){const l=new Wt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];c!==l&&(this.logger.verbose(`Replacing tenant domain name ${c} with id ${l}`),c=l)}a!==c&&(t=t.replace(`/${c}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Xi.Adfs||this.protocolMode!==bs.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(le.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await xe(this.updateCloudDiscoveryMetadata.bind(this),le.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await xe(this.updateEndpointMetadata.bind(this),le.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:sB(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==ui.CACHE&&(n==null?void 0:n.source)!==ui.CACHE&&(e.expiresAt=sB(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(le.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===ui.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&t.metadata){const a=await xe(this.updateMetadataWithRegionalInformation.bind(this),le.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);ld(e,a,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await xe(this.getEndpointMetadataFromNetwork.bind(this),le.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(n=await xe(this.updateMetadataWithRegionalInformation.bind(this),le.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),ld(e,n,!0),ui.NETWORK;throw Te(bE,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),ld(e,t,!1),{source:ui.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return ld(e,i,!1),{source:ui.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=aB(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ui.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Wt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw nn(WE)}return null}async getEndpointMetadataFromNetwork(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(le.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const i=await this.networkInterface.sendGetRequestAsync(t,e);return _x(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in AB?AB[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var n,i,o;(n=this.performanceClient)==null||n.addQueueMeasurement(le.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(t){if(t!==we.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=sm.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,To.replaceWithRegionalInformation(e,t);const s=await xe(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),le.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=sm.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,To.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=sm.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(le.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await xe(this.getCloudDiscoveryMetadataFromNetwork.bind(this),le.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return am(e,n,!0),ui.NETWORK;throw nn(YE)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||we.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||we.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||we.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),am(e,t,!1),ui.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=NU(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),am(e,i,!1),ui.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=aB(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),ui.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Xi.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),To.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=Qf(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),nn(_y)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),To.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(le.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${we.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,t);let s,a;if(kx(o.body))s=o.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(Fx(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===we.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Qf(a,this.hostnameAndPort)}catch(o){if(o instanceof Bn)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=To.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Wt.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Iy.None){const i=t.tenant?t.tenant:we.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return we.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Te(us)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return o2.has(e)}static isPublicCloudAuthority(e){return we.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const i=new Wt(e);i.validateAsUri();const o=i.getUrlComponents();let s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${we.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Wt.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=To.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=To.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=To.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const i=new Wt(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(we.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];t=`${t}${o}${we.AAD_TENANT_DOMAIN_SUFFIX}`}return t}};Zc.reservedTenantDomains=new Set(["{tenant}","{tenantid}",ha.COMMON,ha.CONSUMERS,ha.ORGANIZATIONS]);function xx(r){var i;const n=(i=new Wt(r).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(n){case ha.COMMON:case ha.ORGANIZATIONS:case ha.CONSUMERS:return;default:return n}}function d2(r){return r.endsWith(we.FORWARD_SLASH)?r:`${r}${we.FORWARD_SLASH}`}function Rx(r){const e=r.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw nn(_y)}return{canonicalAuthority:r.authority?d2(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v14.16.1 2025-08-05 */async function f2(r,e,t,n,i,o,s){s==null||s.addQueueMeasurement(le.AuthorityFactoryCreateDiscoveredInstance,o);const a=Zc.transformCIAMAuthority(d2(r)),A=new Zc(a,e,t,n,i,o,s);try{return await xe(A.resolveEndpointsAsync.bind(A),le.AuthorityResolveEndpointsAsync,i,s,o)(),A}catch{throw Te(us)}}/*! @azure/msal-common v14.16.1 2025-08-05 */let el=class g2 extends Bn{constructor(e,t,n,i,o){super(e,t,n),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,g2.prototype)}};/*! @azure/msal-common v14.16.1 2025-08-05 */let Df=class Ic{static generateThrottlingStorageKey(e){return`${Bh.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t,n){var s;const i=Ic.generateThrottlingStorageKey(t),o=e.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now()){e.removeItem(i,n);return}throw new el(((s=o.errorCodes)==null?void 0:s.join(" "))||we.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,t,n,i){if(Ic.checkResponseStatus(n)||Ic.checkResponseForRetryAfter(n)){const o={throttleTime:Ic.calculateThrottleTime(parseInt(n.headers[Vr.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Ic.generateThrottlingStorageKey(t),o,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Vr.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(t||Bh.DEFAULT_THROTTLE_TIME_SECONDS),n+Bh.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,n,i){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:i,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},s=this.generateThrottlingStorageKey(o);e.removeItem(s,n.correlationId)}};/*! @azure/msal-common v14.16.1 2025-08-05 */let p2=class m2 extends Bn{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,m2.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}};function fB(r,e,t){return new p2(r,e,t)}/*! @azure/msal-common v14.16.1 2025-08-05 */let Py=class{constructor(e,t){this.config=GU(e),this.logger=new iu(this.config.loggerOptions,ME,by),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[Vr.CONTENT_TYPE]=we.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Ci.HOME_ACCOUNT_ID:try{const n=Pc(e.credential);t[Vr.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Ci.UPN:t[Vr.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,n,i,o,s){var A;s&&((A=this.performanceClient)==null||A.addQueueMeasurement(s,o));const a=await this.sendPostRequest(i,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,i){var s,a,A;Df.preProcess(this.cacheManager,e,i);let o;try{o=await xe(this.networkClient.sendPostRequestAsync.bind(this.networkClient),le.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(t,n);const c=o.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=o.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:c[Vr.X_MS_HTTP_VERSION]||"",requestId:c[Vr.X_MS_REQUEST_ID]||""},i)}catch(c){if(c instanceof p2){const l=c.responseHeaders;throw l&&((A=this.performanceClient)==null||A.addFields({httpVerToken:l[Vr.X_MS_HTTP_VERSION]||"",requestId:l[Vr.X_MS_REQUEST_ID]||"",contentTypeHeader:l[Vr.CONTENT_TYPE]||void 0,contentLengthHeader:l[Vr.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},i)),c.error}throw c instanceof Bn?c:Te(BE)}return Df.postProcess(this.cacheManager,e,o,i),o}async updateAuthority(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(le.UpdateTokenEndpointAuthority,t);const n=`https://${e}/${this.authority.tenant}/`,i=await f2(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const t=new bh(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}};/*! @azure/msal-common v14.16.1 2025-08-05 */const Kf="no_tokens_found",w2="native_account_unavailable",Ly="refresh_token_expired",Nx="interaction_required",Px="consent_required",Lx="login_required",Eg="bad_token";/*! @azure/msal-common v14.16.1 2025-08-05 */const gB=[Nx,Px,Lx,Eg],Ox=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Mx={[Kf]:"No refresh token found in the cache. Please sign-in.",[w2]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Ly]:"Refresh token has expired.",[Eg]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};let Ts=class C2 extends Bn{constructor(e,t,n,i,o,s,a,A){super(e,t,n),Object.setPrototypeOf(this,C2.prototype),this.timestamp=i||we.EMPTY_STRING,this.traceId=o||we.EMPTY_STRING,this.correlationId=s||we.EMPTY_STRING,this.claims=a||we.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=A}};function pB(r,e,t){const n=!!r&&gB.indexOf(r)>-1,i=!!t&&Ox.indexOf(t)>-1,o=!!e&&gB.some(s=>e.indexOf(s)>-1);return n||o||i}function bw(r){return new Ts(r,Mx[r])}/*! @azure/msal-common v14.16.1 2025-08-05 */let Is=class y2{static setRequestState(e,t,n){const i=y2.generateLibraryState(e,n);return t?`${i}${we.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw Te(mw);const n={id:e.createNewGuid()};t&&(n.meta=t);const i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw Te(mw);if(!t)throw Te(Xc);try{const n=t.split(we.RESOURCE_DELIM),i=n[0],o=n.length>1?n.slice(1).join(we.RESOURCE_DELIM):we.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||we.EMPTY_STRING,libraryState:a}}catch{throw Te(Xc)}}};/*! @azure/msal-common v14.16.1 2025-08-05 */const Qx={SW:"sw"};let tl=class{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(le.PopTokenGenerateCnf,e.correlationId);const n=await xe(this.generateKid.bind(this),le.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(le.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Qx.SW}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,i){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:A,shrOptions:c}=n,l=s?new Wt(s):void 0,u=l==null?void 0:l.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Ho(),m:o==null?void 0:o.toUpperCase(),u:u==null?void 0:u.HostNameAndPort,nonce:A||this.cryptoUtils.createNewGuid(),p:u==null?void 0:u.AbsolutePath,q:u!=null&&u.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...i},t,c,n.correlationId)}};/*! @azure/msal-common v14.16.1 2025-08-05 */let Hx=class{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};/*! @azure/msal-common v14.16.1 2025-08-05 */function Dx(r){var n,i;const e="code=",t=(n=r.error_uri)==null?void 0:n.lastIndexOf(e);return t&&t>=0?(i=r.error_uri)==null?void 0:i.substring(t+e.length):void 0}let Gf=class Iw{constructor(e,t,n,i,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?Te(Nf,"Cached State"):Te(Nf,"Server State");let n,i;try{n=decodeURIComponent(e.state)}catch{throw Te(Xc,e.state)}try{i=decodeURIComponent(t)}catch{throw Te(Xc,e.state)}if(n!==i)throw Te(EE);if(e.error||e.error_description||e.suberror){const o=Dx(e);throw pB(e.error,e.error_description,e.suberror)?new Ts(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new el(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,t){var n;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||we.NOT_AVAILABLE} - Timestamp: ${e.timestamp||we.NOT_AVAILABLE} - Description: ${e.error_description||we.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||we.NOT_AVAILABLE} - Trace ID: ${e.trace_id||we.NOT_AVAILABLE}`,o=(n=e.error_codes)!=null&&n.length?e.error_codes[0]:void 0,s=new el(e.error,i,e.suberror,o,e.status);if(t&&e.status&&e.status>=sd.SERVER_ERROR_RANGE_START&&e.status<=sd.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(t&&e.status&&e.status>=sd.CLIENT_ERROR_RANGE_START&&e.status<=sd.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw pB(e.error,e.error_description,e.suberror)?new Ts(e.error,e.error_description,e.suberror,e.timestamp||we.EMPTY_STRING,e.trace_id||we.EMPTY_STRING,e.correlation_id||we.EMPTY_STRING,e.claims||we.EMPTY_STRING,o):s}}async handleServerTokenResponse(e,t,n,i,o,s,a,A,c){var m;(m=this.performanceClient)==null||m.addQueueMeasurement(le.HandleServerTokenResponse,e.correlation_id);let l;if(e.id_token){if(l=TA(e.id_token||we.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&l.nonce!==o.nonce)throw Te(SE);if(i.maxAge||i.maxAge===0){const w=l.auth_time;if(!w)throw Te(Cy);QE(w,i.maxAge)}}this.homeAccountIdentifier=$r.generateHomeAccountId(e.client_info||we.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l);let u;o&&o.state&&(u=Is.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,i,l,s,o);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new Hx(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),a&&!A&&d.account){const w=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(w,i.correlationId,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Iw.generateAuthenticationResult(this.cryptoObj,t,d,!1,i,l,u,void 0,c)}await this.cacheStorage.saveCacheRecord(d,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return Iw.generateAuthenticationResult(this.cryptoObj,t,d,!1,i,l,u,e,c)}generateCacheRecord(e,t,n,i,o,s,a){const A=t.getPreferredCache();if(!A)throw Te(vy);const c=n2(o);let l,u;e.id_token&&o&&(l=Bg(this.homeAccountIdentifier,A,e.id_token,this.clientId,c||""),u=Oy(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,o,e.client_info,A,c,a,void 0,this.logger));let d=null;if(e.access_token){const w=e.scope?mr.fromString(e.scope):new mr(i.scopes||[]),B=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,b=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,x=n+B,O=x+y,L=b&&b>0?n+b:void 0;d=bg(this.homeAccountIdentifier,A,e.access_token,this.clientId,c||t.tenant||"",w.printScopes(),x,O,this.cryptoObj.base64Decode,L,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let f=null;if(e.refresh_token){let w;if(e.refresh_token_expires_in){const B=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;w=n+B}f=HE(this.homeAccountIdentifier,A,e.refresh_token,this.clientId,e.foci,s,w)}let m=null;return e.foci&&(m={clientId:this.clientId,environment:A,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:f,appMetadata:m}}static async generateAuthenticationResult(e,t,n,i,o,s,a,A,c){var x,O,L,K,H;let l=we.EMPTY_STRING,u=[],d=null,f,m,w=we.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Yt.POP&&!o.popKid){const P=new tl(e),{secret:q,keyId:ee}=n.accessToken;if(!ee)throw Te(By);l=await P.signPopToken(q,ee,o)}else l=n.accessToken.secret;u=mr.fromString(n.accessToken.target).asArray(),d=new Date(Number(n.accessToken.expiresOn)*1e3),f=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(m=new Date(Number(n.accessToken.refreshOn)*1e3))}n.appMetadata&&(w=n.appMetadata.familyId===vh?vh:"");const B=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",y=(s==null?void 0:s.tid)||"";A!=null&&A.spa_accountid&&n.account&&(n.account.nativeAccountId=A==null?void 0:A.spa_accountid);const b=n.account?Fy(n.account.getAccountInfo(),void 0,s,(x=n.idToken)==null?void 0:x.secret):null;return{authority:t.canonicalAuthority,uniqueId:B,tenantId:y,scopes:u,account:b,idToken:((O=n==null?void 0:n.idToken)==null?void 0:O.secret)||"",idTokenClaims:s||{},accessToken:l,fromCache:i,expiresOn:d,extExpiresOn:f,refreshOn:m,correlationId:o.correlationId,requestId:c||we.EMPTY_STRING,familyId:w,tokenType:((L=n.accessToken)==null?void 0:L.tokenType)||we.EMPTY_STRING,state:a?a.userRequestState:we.EMPTY_STRING,cloudGraphHostName:((K=n.account)==null?void 0:K.cloudGraphHostName)||we.EMPTY_STRING,msGraphHost:((H=n.account)==null?void 0:H.msGraphHost)||we.EMPTY_STRING,code:A==null?void 0:A.spa_code,fromNativeBroker:!1}}};function Oy(r,e,t,n,i,o,s,a,A,c,l,u){u==null||u.verbose("setCachedAccount called");const f=r.getAccountKeys().find(b=>b.startsWith(t));let m=null;f&&(m=r.getAccount(f,i,u));const w=m||$r.createAccount({homeAccountId:t,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:c==null?void 0:c.cloud_graph_host_name,msGraphHost:c==null?void 0:c.msgraph_host,nativeAccountId:l},e,n),B=w.tenantProfiles||[],y=A||w.realm;if(y&&!B.find(b=>b.tenantId===y)){const b=ky(t,w.localAccountId,y,o);B.push(b)}return w.tenantProfiles=B,w}/*! @azure/msal-common v14.16.1 2025-08-05 */async function v2(r,e,t){return typeof r=="string"?r:r({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v14.16.1 2025-08-05 */let B2=class extends Py{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes}async getAuthCodeUrl(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(le.GetAuthCodeUrl,e.correlationId);const t=await xe(this.createAuthCodeUrlQueryString.bind(this),le.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Wt.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){var a,A;if((a=this.performanceClient)==null||a.addQueueMeasurement(le.AuthClientAcquireToken,e.correlationId),!e.code)throw Te(kE);const n=Ho(),i=await xe(this.executeTokenRequest.bind(this),le.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(A=i.headers)==null?void 0:A[Vr.X_MS_REQUEST_ID],s=new Gf(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),xe(s.handleServerTokenResponse.bind(s),le.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new Gf(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw Te(NE);return e}getLogoutUri(e){if(!e)throw nn(jE);const t=this.createLogoutUrlQueryString(e);return Wt.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var c,l;(c=this.performanceClient)==null||c.addQueueMeasurement(le.AuthClientExecuteTokenRequest,t.correlationId);const n=this.createTokenQueryParameters(t),i=Wt.appendQueryString(e.tokenEndpoint,n),o=await xe(this.createTokenRequestBody.bind(this),le.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const u=Lf(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${u.uid}${Rr.CLIENT_INFO_SEPARATOR}${u.utid}`,type:Ci.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const a=this.createTokenRequestHeaders(s||t.ccsCredential),A={clientId:((l=t.tokenBodyParameters)==null?void 0:l.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return xe(this.executePostToTokenEndpoint.bind(this),le.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,a,A,t.correlationId,le.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(le.AuthClientCreateTokenRequestBody,e.correlationId);const t=new bh(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[CA])||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):bc.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!vw(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await v2(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(s.assertionType)}if(t.addGrantType(mE.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===Yt.POP){const s=new tl(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await xe(s.generateCnf.bind(s),le.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(a)}else if(e.authenticationScheme===Yt.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw nn(Ig);(!to.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{const s=Lf(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${s.uid}${Rr.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Ci.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Ci.HOME_ACCOUNT_ID:try{const s=Pc(n.credential);t.addCcsOid(s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Ci.UPN:t.addCcsUpn(n.credential);break}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[dB])&&t.addExtraQueryParameters({[dB]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){var o,s;const t=e.correlationId||this.config.cryptoInterface.createNewGuid();(o=this.performanceClient)==null||o.addQueueMeasurement(le.AuthClientCreateQueryString,t);const n=new bh(t,this.performanceClient);n.addClientId(e.embeddedClientId||((s=e.extraQueryParameters)==null?void 0:s[CA])||this.config.authOptions.clientId);const i=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(i,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),vw(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==Ar.SELECT_ACCOUNT)if(e.sid&&e.prompt===Ar.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){const a=this.extractAccountSid(e.account);let A=this.extractLoginHint(e.account);if(A&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),A=null),A){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(A);try{const c=Pc(e.account.homeAccountId);n.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===Ar.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(a);try{const c=Pc(e.account.homeAccountId);n.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{const c=Pc(e.account.homeAccountId);n.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.nativeBroker&&(n.addNativeBroker(),e.authenticationScheme===Yt.POP)){const a=new tl(this.cryptoUtils);let A;e.popKid?A=this.cryptoUtils.encodeKid(e.popKid):A=(await xe(a.generateCnf.bind(a),le.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(A)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new bh(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var t;return((t=e.idTokenClaims)==null?void 0:t.sid)||null}extractLoginHint(e){var t;return((t=e.idTokenClaims)==null?void 0:t.login_hint)||null}};/*! @azure/msal-common v14.16.1 2025-08-05 */const Kx=300;let Ew=class extends Py{constructor(e,t){super(e,t)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(le.RefreshTokenClientAcquireToken,e.correlationId);const t=Ho(),n=await xe(this.executeTokenRequest.bind(this),le.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(a=n.headers)==null?void 0:a[Vr.X_MS_REQUEST_ID],o=new Gf(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),xe(o.handleServerTokenResponse.bind(o),le.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var n;if(!e)throw nn($E);if((n=this.performanceClient)==null||n.addQueueMeasurement(le.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Te(yy);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await xe(this.acquireTokenWithCachedRefreshToken.bind(this),le.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof Ts&&i.errorCode===Kf,s=i instanceof el&&i.errorCode===Z0.INVALID_GRANT_ERROR&&i.subError===Z0.CLIENT_MISMATCH_ERROR;if(o||s)return xe(this.acquireTokenWithCachedRefreshToken.bind(this),le.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return xe(this.acquireTokenWithCachedRefreshToken.bind(this),le.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(le.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=_A(this.cacheManager.getRefreshToken.bind(this.cacheManager),le.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!n)throw bw(Kf);if(n.expiresOn&&yw(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||Kx))throw bw(Ly);const i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Yt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ci.HOME_ACCOUNT_ID}};try{return await xe(this.acquireToken.bind(this),le.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){if(s instanceof Ts&&s.subError===Eg){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const a=Nc(n);this.cacheManager.removeRefreshToken(a,e.correlationId)}throw s}}async executeTokenRequest(e,t){var A,c;(A=this.performanceClient)==null||A.addQueueMeasurement(le.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),i=Wt.appendQueryString(t.tokenEndpoint,n),o=await xe(this.createTokenRequestBody.bind(this),le.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:((c=e.tokenBodyParameters)==null?void 0:c.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return xe(this.executePostToTokenEndpoint.bind(this),le.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,le.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(le.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,n=new bh(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[CA])||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),n.addGrantType(mE.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!vw(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await v2(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(a.assertionType)}if(e.authenticationScheme===Yt.POP){const a=new tl(this.cryptoUtils,this.performanceClient);let A;e.popKid?A=this.cryptoUtils.encodeKid(e.popKid):A=(await xe(a.generateCnf.bind(a),le.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(A)}else if(e.authenticationScheme===Yt.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw nn(Ig);if((!to.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ci.HOME_ACCOUNT_ID:try{const a=Pc(e.ccsCredential.credential);n.addCcsOid(a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Ci.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}};/*! @azure/msal-common v14.16.1 2025-08-05 */let Gx=class extends Py{constructor(e,t){super(e,t)}async acquireToken(e){var t;try{const[n,i]=await this.acquireCachedToken({...e,scopes:(t=e.scopes)!=null&&t.length?e.scopes:[...ul]});return i===Js.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Ew(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),n}catch(n){if(n instanceof LE&&n.errorCode===ps)return new Ew(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw n}}async acquireCachedToken(e){var A;(A=this.performanceClient)==null||A.addQueueMeasurement(le.SilentFlowClientAcquireCachedToken,e.correlationId);let t=Js.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!to.isEmptyObj(e.claims))throw this.setCacheOutcome(Js.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Te(ps);if(!e.account)throw Te(yy);const n=e.account.tenantId||xx(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,n,this.performanceClient);if(o){if(mU(o.cachedAt)||yw(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Js.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Te(ps);o.refreshOn&&yw(o.refreshOn,0)&&(t=Js.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Js.NO_CACHED_ACCESS_TOKEN,e.correlationId),Te(ps);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await xe(this.generateResultFromCacheRecord.bind(this),le.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){var n,i;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},t),e!==Js.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(le.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let n;if(e.idToken&&(n=TA(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const o=n==null?void 0:n.auth_time;if(!o)throw Te(Cy);QE(o,t.maxAge)}return Gf.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}};/*! @azure/msal-common v14.16.1 2025-08-05 */const Vx={sendGetRequestAsync:()=>Promise.reject(Te(Bt)),sendPostRequestAsync:()=>Promise.reject(Te(Bt))};/*! @azure/msal-common v14.16.1 2025-08-05 */const mB=",",b2="|";function qx(r){const{skus:e,libraryName:t,libraryVersion:n,extensionName:i,extensionVersion:o}=r,s=new Map([[0,[t,n]],[2,[i,o]]]);let a=[];if(e!=null&&e.length){if(a=e.split(mB),a.length<4)return e}else a=Array.from({length:4},()=>b2);return s.forEach((A,c)=>{var l,u;A.length===2&&((l=A[0])!=null&&l.length)&&((u=A[1])!=null&&u.length)&&$x({skuArr:a,index:c,skuName:A[0],skuVersion:A[1]})}),a.join(mB)}function $x(r){const{skuArr:e,index:t,skuName:n,skuVersion:i}=r;t>=e.length||(e[t]=[n,i].join(b2))}let I2=class Sw{constructor(e,t){this.cacheOutcome=Js.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||we.EMPTY_STRING,this.wrapperVer=e.wrapperVer||we.EMPTY_STRING,this.telemetryCacheKey=fr.CACHE_KEY+Rr.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${fr.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&t.push(`broker_error=${n}`);const i=t.join(fr.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(fr.VALUE_SEPARATOR);return[fr.SCHEMA_VERSION,s,i].join(fr.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Sw.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(fr.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(fr.VALUE_SEPARATOR),o=e.errors.length,s=t<o?fr.OVERFLOW_TRUE:fr.OVERFLOW_FALSE,a=[o,s].join(fr.VALUE_SEPARATOR);return[fr.SCHEMA_VERSION,e.cacheHits,n,i,a].join(fr.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=fr.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Bn?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(fr.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=Sw.maxErrorsToSend(e),n=e.errors.length;if(t===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let t,n=0,i=0;const o=e.errors.length;for(t=0;t<o;t++){const s=e.failedRequests[2*t]||we.EMPTY_STRING,a=e.failedRequests[2*t+1]||we.EMPTY_STRING,A=e.errors[t]||we.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+A.length+3,i<fr.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||we.EMPTY_STRING),e.push(this.regionSource||we.EMPTY_STRING),e.push(this.regionOutcome||we.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return qx(e)}};/*! @azure/msal-common v14.16.1 2025-08-05 */const E2="missing_kid_error",S2="missing_alg_error";/*! @azure/msal-common v14.16.1 2025-08-05 */const jx={[E2]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[S2]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};let zx=class T2 extends Bn{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,T2.prototype)}};function wB(r){return new zx(r,jx[r])}/*! @azure/msal-common v14.16.1 2025-08-05 */let Wx=class _2{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw wB(E2);if(!e.alg)throw wB(S2);const t=new _2({typ:e.typ||eU.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}};/*! @azure/msal-common v14.16.1 2025-08-05 */let CB=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},Yx=class{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Ux.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new CB}}startPerformanceMeasurement(){return new CB}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};/*! @azure/msal-browser v3.30.0 2025-08-05 */const My="pkce_not_created",Tw="crypto_nonexistent",Sg="empty_navigate_uri",k2="hash_empty_error",Qy="no_state_in_hash",F2="hash_does_not_contain_known_properties",U2="unable_to_parse_state",x2="state_interaction_type_mismatch",R2="interaction_in_progress",N2="popup_window_error",P2="empty_window_error",yA="user_cancelled",Jx="monitor_popup_timeout",L2="monitor_window_timeout",O2="redirect_in_iframe",M2="block_iframe_reload",Q2="block_nested_popups",Xx="iframe_closed_prematurely",Tg="silent_logout_unsupported",H2="no_account_error",Zx="silent_prompt_value_error",D2="no_token_request_cache_error",K2="unable_to_parse_token_request_cache_error",Hy="no_cached_authority_error",eR="auth_request_not_set_error",tR="invalid_cache_type",_g="non_browser_environment",Ec="database_not_open",Vf="no_network_connectivity",G2="post_request_failed",V2="get_request_failed",_w="failed_to_parse_response",q2="unable_to_load_token",Dy="crypto_key_not_found",$2="auth_code_required",j2="auth_code_or_nativeAccountId_required",z2="spa_code_and_nativeAccountId_present",Ky="database_unavailable",W2="unable_to_acquire_token_from_native_platform",Y2="native_handshake_timeout",J2="native_extension_not_installed",ou="native_connection_not_established",X2="uninitialized_public_client_application",Z2="native_prompt_not_supported",eS="invalid_base64_string",tS="invalid_pop_token_request",nS="failed_to_build_headers",rS="failed_to_parse_headers";/*! @azure/msal-browser v3.30.0 2025-08-05 */const is="For more visit: aka.ms/msaljs/browser-errors",nR={[My]:"The PKCE code challenge and verifier could not be generated.",[Tw]:"The crypto object or function is not available.",[Sg]:"Navigation URI is empty. Please check stack trace for more info.",[k2]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${is}`,[Qy]:"Hash does not contain state. Please verify that the request originated from msal.",[F2]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${is}`,[U2]:"Unable to parse state. Please verify that the request originated from msal.",[x2]:"Hash contains state but the interaction type does not match the caller.",[R2]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${is}`,[N2]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[P2]:"window.open returned null or undefined window object.",[yA]:"User cancelled the flow.",[Jx]:`Token acquisition in popup failed due to timeout.  ${is}`,[L2]:`Token acquisition in iframe failed due to timeout.  ${is}`,[O2]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[M2]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${is}`,[Q2]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Xx]:"The iframe being monitored was closed prematurely.",[Tg]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[H2]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Zx]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[D2]:"No token request found in cache.",[K2]:"The cached token request could not be parsed.",[Hy]:"No cached authority found.",[eR]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[tR]:"Invalid cache type",[_g]:"Login and token requests are not supported in non-browser environments.",[Ec]:"Database is not open!",[Vf]:"No network connectivity. Check your internet connection.",[G2]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[V2]:"Network request failed. Please check the network trace to determine root cause.",[_w]:"Failed to parse network response. Check network trace.",[q2]:"Error loading token to cache.",[Dy]:"Cryptographic Key or Keypair not found in browser storage.",[$2]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[j2]:"An authorization code or nativeAccountId must be provided to this flow.",[z2]:"Request cannot contain both spa code and native account id.",[Ky]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[W2]:`Unable to acquire token from native platform.  ${is}`,[Y2]:"Timed out while attempting to establish connection to browser extension",[J2]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[ou]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${is}`,[X2]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${is}`,[Z2]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[eS]:"Invalid base64 encoded string.",[tS]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[nS]:"Failed to build request headers object.",[rS]:"Failed to parse response headers"};let Gy=class iS extends Bn{constructor(e,t){super(e,nR[e],t),Object.setPrototypeOf(this,iS.prototype),this.name="BrowserAuthError"}};function ze(r,e){return new Gy(r,e)}/*! @azure/msal-browser v3.30.0 2025-08-05 */const mi={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Lc={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},rA={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},ni={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},yB={GET:"GET",POST:"POST"},Gt={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Fi={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys",VERSION:"msal.version"},hd={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},cn={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var et;(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(et||(et={}));const vB={scopes:ul},oS="jwk",kw="msal.db",rR=1,iR=`${kw}.keys`,fi={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},oR=[fi.Default,fi.Skip,fi.RefreshTokenAndNetwork],sR="msal.browser.log.level",aR="msal.browser.log.pii";/*! @azure/msal-browser v3.30.0 2025-08-05 */function ud(r){return encodeURIComponent(Vy(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function kg(r){return sS(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vy(r){return sS(new TextEncoder().encode(r))}function sS(r){const e=Array.from(r,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v3.30.0 2025-08-05 */const AR="RSASSA-PKCS1-v1_5",aS="SHA-256",cR=2048,lR=new Uint8Array([1,0,1]),BB="0123456789abcdef",bB=new Uint32Array(1),hR="crypto_subtle_undefined",qy={name:AR,hash:aS,modulusLength:cR,publicExponent:lR};function uR(r){if(!window)throw ze(_g);if(!window.crypto)throw ze(Tw);if(!r&&!window.crypto.subtle)throw ze(Tw,hR)}async function AS(r,e,t){e==null||e.addQueueMeasurement(le.Sha256Digest,t);const i=new TextEncoder().encode(r);return window.crypto.subtle.digest(aS,i)}function dR(r){return window.crypto.getRandomValues(r)}function cm(){return window.crypto.getRandomValues(bB),bB[0]}function Do(){const r=Date.now(),e=cm()*1024+(cm()&1023),t=new Uint8Array(16),n=Math.trunc(e/2**30),i=e&2**30-1,o=cm();t[0]=r/2**40,t[1]=r/2**32,t[2]=r/2**24,t[3]=r/2**16,t[4]=r/2**8,t[5]=r,t[6]=112|n>>>8,t[7]=n,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=BB.charAt(t[a]>>>4),s+=BB.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function fR(r,e){return window.crypto.subtle.generateKey(qy,r,e)}async function lm(r){return window.crypto.subtle.exportKey(oS,r)}async function gR(r,e,t){return window.crypto.subtle.importKey(oS,r,qy,e,t)}async function pR(r,e){return window.crypto.subtle.sign(qy,r,e)}async function cS(r){const e=await AS(r),t=new Uint8Array(e);return kg(t)}/*! @azure/msal-browser v3.30.0 2025-08-05 */const $y="storage_not_supported",mR="stubbed_public_client_application_called",lS="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.30.0 2025-08-05 */const wR={[$y]:"Given storage configuration option was not supported.",[mR]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[lS]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};let CR=class hS extends Bn{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,hS.prototype)}};function jy(r){return new CR(r,wR[r])}/*! @azure/msal-browser v3.30.0 2025-08-05 */function yR(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function vR(r){const e=r.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function zy(){return window.parent!==window}function BR(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${mi.POPUP_NAME_PREFIX}.`)===0}function ms(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function bR(){const e=new Wt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function IR(){if(Wt.hashContainsKnownProperties(window.location.hash)&&zy())throw ze(M2)}function ER(r){if(zy()&&!r)throw ze(O2)}function SR(){if(BR())throw ze(Q2)}function uS(){if(typeof window>"u")throw ze(_g)}function dS(r){if(!r)throw ze(X2)}function Wy(r){uS(),IR(),SR(),dS(r)}function IB(r,e){if(Wy(r),ER(e.system.allowRedirectInIframe),e.cache.cacheLocation===ni.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw jy(lS)}function fS(r){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(r).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function TR(){return Do()}/*! @azure/msal-browser v3.30.0 2025-08-05 */let _R=class Fw{navigateInternal(e,t){return Fw.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Fw.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(n=>{setTimeout(()=>{n(!0)},t.timeout)})}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let kR=class{async sendGetRequestAsync(e,t){let n,i={},o=0;const s=EB(t);try{n=await fetch(e,{method:yB.GET,headers:s})}catch{throw ze(window.navigator.onLine?V2:Vf)}i=SB(n.headers);try{return o=n.status,{headers:i,body:await n.json(),status:o}}catch{throw fB(ze(_w),o,i)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",i=EB(t);let o,s=0,a={};try{o=await fetch(e,{method:yB.POST,headers:i,body:n})}catch{throw ze(window.navigator.onLine?G2:Vf)}a=SB(o.headers);try{return s=o.status,{headers:a,body:await o.json(),status:s}}catch{throw fB(ze(_w),s,a)}}};function EB(r){try{const e=new Headers;if(!(r&&r.headers))return e;const t=r.headers;return Object.entries(t).forEach(([n,i])=>{e.append(n,i)}),e}catch{throw ze(nS)}}function SB(r){try{const e={};return r.forEach((t,n)=>{e[n]=t}),e}catch{throw ze(rS)}}/*! @azure/msal-browser v3.30.0 2025-08-05 */const FR=6e4,Uw=1e4,UR=3e4,xR=2e3;function RR({auth:r,cache:e,system:t,telemetry:n},i){const o={clientId:we.EMPTY_STRING,authority:`${we.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:we.EMPTY_STRING,authorityMetadata:we.EMPTY_STRING,redirectUri:typeof window<"u"?ms():"",postLogoutRedirectUri:we.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:bs.AAD,OIDCOptions:{serverResponseType:ru.FRAGMENT,defaultScopes:[we.OPENID_SCOPE,we.PROFILE_SCOPE,we.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Iy.None,tenant:we.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:ni.SessionStorage,temporaryCacheLocation:ni.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===ni.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:gn.Info,piiLoggingEnabled:!1},c={...{...c2,loggerOptions:a,networkClient:i?new kR:Vx,navigationClient:new _R,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||FR,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||Uw,navigateFrameWait:0,redirectNavigationTimeout:UR,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||xR,pollIntervalMilliseconds:mi.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||a},l={application:{appName:we.EMPTY_STRING,appVersion:we.EMPTY_STRING},client:new Yx};if((r==null?void 0:r.protocolMode)!==bs.OIDC&&(r!=null&&r.OIDCOptions)&&new iu(c.loggerOptions).warning(JSON.stringify(nn(XE))),r!=null&&r.protocolMode&&r.protocolMode!==bs.AAD&&(c!=null&&c.allowNativeBroker))throw nn(ZE);return{auth:{...o,...r,OIDCOptions:{...o.OIDCOptions,...r==null?void 0:r.OIDCOptions}},cache:{...s,...e},system:c,telemetry:{...l,...n}}}/*! @azure/msal-browser v3.30.0 2025-08-05 */const NR="@azure/msal-browser",nl="3.30.0";/*! @azure/msal-browser v3.30.0 2025-08-05 */let PR=class gS{static loggerCallback(e,t){switch(e){case gn.Error:console.error(t);return;case gn.Info:console.info(t);return;case gn.Verbose:console.debug(t);return;case gn.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var A;this.browserEnvironment=typeof window<"u",this.config=RR(e,this.browserEnvironment);let t;try{t=window[ni.SessionStorage]}catch{}const n=t==null?void 0:t.getItem(sR),i=(A=t==null?void 0:t.getItem(aR))==null?void 0:A.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=n&&Object.keys(gn).includes(n)?gn[n]:void 0;a&&(s.loggerCallback=gS.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new iu(s,NR,nl),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let Fg=class xw extends PR{getModuleName(){return xw.MODULE_NAME}getId(){return xw.ID}async initialize(){return this.available=typeof window<"u",this.available}};Fg.MODULE_NAME="";Fg.ID="StandardOperatingContext";/*! @azure/msal-browser v3.30.0 2025-08-05 */function Lo(r){return new TextDecoder().decode(LR(r))}function LR(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ze(eS)}const t=atob(e);return Uint8Array.from(t,n=>n.codePointAt(0)||0)}/*! @azure/msal-browser v3.30.0 2025-08-05 */let OR=class{constructor(){this.dbName=kw,this.version=rR,this.tableName=iR,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),n.addEventListener("error",()=>t(ze(Ky)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ze(Ec));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const A=a;this.closeConnection(),t(A.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((n,i)=>{if(!this.db)return i(ze(Ec));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",A=>{this.closeConnection(),i(A)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ze(Ec));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(ze(Ec));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),t(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ze(Ec));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const A=a;this.closeConnection(),t(A.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const n=window.indexedDB.deleteDatabase(kw),i=setTimeout(()=>t(!1),200);n.addEventListener("success",()=>(clearTimeout(i),e(!0))),n.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),n.addEventListener("error",()=>(clearTimeout(i),t(!1)))})}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let Rw=class{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,n)=>{e.push(n)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let MR=class{constructor(e){this.inMemoryCache=new Rw,this.indexedDBCache=new OR,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Gy&&e.errorCode===Ky)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let Yy=class Nw{constructor(e,t,n){this.logger=e,uR(n??!1),this.cache=new MR(this.logger),this.performanceClient=t}createNewGuid(){return Do()}base64Encode(e){return Vy(e)}base64Decode(e){return Lo(e)}base64UrlEncode(e){return ud(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var l;const t=(l=this.performanceClient)==null?void 0:l.startMeasurement(le.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await fR(Nw.EXTRACTABLE,Nw.POP_KEY_USAGES),i=await lm(n.publicKey),o={e:i.e,kty:i.kty,n:i.n},s=TB(o),a=await this.hashString(s),A=await lm(n.privateKey),c=await gR(A,!1,["sign"]);return await this.cache.setItem(a,{privateKey:c,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,i){var x;const o=(x=this.performanceClient)==null?void 0:x.startMeasurement(le.CryptoOptsSignJwt,i),s=await this.cache.getItem(t);if(!s)throw ze(Dy);const a=await lm(s.publicKey),A=TB(a),c=ud(JSON.stringify({kid:t})),l=Wx.getShrHeaderString({...n==null?void 0:n.header,alg:a.alg,kid:c}),u=ud(l);e.cnf={jwk:JSON.parse(A)};const d=ud(JSON.stringify(e)),f=`${u}.${d}`,w=new TextEncoder().encode(f),B=await pR(s.privateKey,w),y=kg(new Uint8Array(B)),b=`${f}.${y}`;return o&&o.end({success:!0}),b}async hashString(e){return cS(e)}};Yy.POP_KEY_USAGES=["sign","verify"];Yy.EXTRACTABLE=!0;function TB(r){return JSON.stringify(r,Object.keys(r).sort())}/*! @azure/msal-browser v3.30.0 2025-08-05 */let QR=class{constructor(){if(!window.localStorage)throw jy($y)}getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let HR=class{constructor(){if(!window.sessionStorage)throw jy($y)}getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}};/*! @azure/msal-browser v3.30.0 2025-08-05 */function pS(r,e){if(!e)return null;try{return Is.parseRequestState(r,e).libraryState.meta}catch{throw Te(Xc)}}/*! @azure/msal-browser v3.30.0 2025-08-05 */const DR=24*60*60*1e3;let KR=class{getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){const o=n[i],[s,...a]=decodeURIComponent(o).trim().split("="),A=a.join("=");if(s===t)return A}return""}setItem(e,t,n,i=!0){let o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){const s=GR(n);o+=`expires=${s};`}i&&(o+="Secure;"),document.cookie=o}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(n=>{const i=decodeURIComponent(n).trim().split("=");t.push(i[0])}),t}containsKey(e){return this.getKeys().includes(e)}};function GR(r){const e=new Date;return new Date(e.getTime()+r*DR).toUTCString()}/*! @azure/msal-browser v3.30.0 2025-08-05 */let Pw=class extends Hf{constructor(e,t,n,i,o,s){super(e,n,i,o),this.cacheConfig=t,this.logger=i,this.internalStorage=new Rw,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new KR,t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){try{switch(e){case ni.LocalStorage:return new QR;case ni.SessionStorage:return new HR;case ni.MemoryStorage:default:break}}catch(t){this.logger.error(t)}return this.cacheConfig.cacheLocation=ni.MemoryStorage,new Rw}migrateCacheEntries(){const e=this.browserStorage.getItem(Fi.VERSION);e&&this.logger.info(`MSAL.js was last initialized with version ${e}`),e!==nl&&this.browserStorage.setItem(Fi.VERSION,nl);const t=`${we.CACHE_PREFIX}.${nr.ID_TOKEN}`,n=`${we.CACHE_PREFIX}.${nr.CLIENT_INFO}`,i=`${we.CACHE_PREFIX}.${nr.ERROR}`,o=`${we.CACHE_PREFIX}.${nr.ERROR_DESC}`,s=this.browserStorage.getItem(t),a=this.browserStorage.getItem(n),A=this.browserStorage.getItem(i),c=this.browserStorage.getItem(o),l=[s,a,A,c];[nr.ID_TOKEN,nr.CLIENT_INFO,nr.ERROR,nr.ERROR_DESC].forEach((d,f)=>{const m=l[f];m&&this.setTemporaryCache(d,m,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.cryptoImpl.createNewGuid(),t=this.getItem(Fi.ACCOUNT_KEYS),n=this.getItem(`${Fi.TOKEN_KEYS}.${this.clientId}`);if(t&&n){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(o=>{if(this.isCredentialKey(o)){const s=this.getItem(o);if(s){const a=this.validateAndParseJson(s);if(a&&a.hasOwnProperty("credentialType"))switch(a.credentialType){case ut.ID_TOKEN:if(iB(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${o} found, saving key to token key map`);const A=a,c=this.updateCredentialCacheKey(o,A,e);this.addTokenKey(c,ut.ID_TOKEN,e);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${o}`);break;case ut.ACCESS_TOKEN:case ut.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(rB(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${o} found, saving key to token key map`);const A=a,c=this.updateCredentialCacheKey(o,A,e);this.addTokenKey(c,ut.ACCESS_TOKEN,e);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${o}`);break;case ut.REFRESH_TOKEN:if(oB(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${o} found, saving key to token key map`);const A=a,c=this.updateCredentialCacheKey(o,A,e);this.addTokenKey(c,ut.REFRESH_TOKEN,e);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${o}`);break}}}if(this.isAccountKey(o)){const s=this.getItem(o);if(s){const a=this.validateAndParseJson(s);a&&$r.isAccountEntity(a)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${o} found, saving key to account key map`),this.addAccountKeyToMap(o,e))}}})}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t,n){let i=[];for(let s=0;s<=20;s++)try{this.browserStorage.setItem(e,t),s>0&&this.removeAccessTokenKeys(i.slice(0,s),n);break}catch(a){const A=a2(a);if(A.errorCode===xy&&s<20){if(i.length||(e===`${Fi.TOKEN_KEYS}.${this.clientId}`?i=JSON.parse(t).accessToken:i=this.getTokenKeys().accessToken),i.length<=s)throw A;this.removeAccessToken(i[s],n,!1)}else throw A}}getAccount(e,t,n){this.logger.trace("BrowserCacheManager.getAccount called");const i=this.getCachedAccountEntity(e,t);return this.updateOutdatedCachedAccount(e,i,t,n)}getCachedAccountEntity(e,t){const n=this.getItem(e);if(!n)return this.removeAccountKeyFromMap(e,t),null;const i=this.validateAndParseJson(n);return!i||!$r.isAccountEntity(i)?null:Hf.toObject(new $r,i)}setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();e.lastUpdatedAt=Date.now().toString(),this.setItem(n,JSON.stringify(e),t),this.addAccountKeyToMap(n,t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(Fi.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e,t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const n=this.getAccountKeys();n.indexOf(e)===-1?(n.push(e),this.setItem(Fi.ACCOUNT_KEYS,JSON.stringify(n),t),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e,t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const n=this.getAccountKeys(),i=n.indexOf(e);if(i>-1){if(n.splice(i,1),n.length===0){this.removeItem(Fi.ACCOUNT_KEYS);return}else this.setItem(Fi.ACCOUNT_KEYS,JSON.stringify(n),t);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e,t){super.removeAccount(e,t),this.removeAccountKeyFromMap(e,t)}removeOutdatedAccount(e,t){this.removeItem(e),this.removeAccountKeyFromMap(e,t)}removeIdToken(e,t){super.removeIdToken(e,t),this.removeTokenKey(e,ut.ID_TOKEN,t)}removeAccessToken(e,t,n=!0){var i;super.removeAccessToken(e,t),(i=this.performanceClient)==null||i.incrementFields({accessTokensRemoved:1},t),n&&this.removeTokenKey(e,ut.ACCESS_TOKEN,t)}removeAccessTokenKeys(e,t){this.logger.trace("removeAccessTokenKey called");const n=this.getTokenKeys();let i=0;if(e.forEach(o=>{const s=n.accessToken.indexOf(o);s>-1&&(n.accessToken.splice(s,1),i++)}),i>0){this.logger.info(`removed ${i} accessToken keys from tokenKeys map`),this.setTokenKeys(n,t);return}}removeRefreshToken(e,t){super.removeRefreshToken(e,t),this.removeTokenKey(e,ut.REFRESH_TOKEN,t)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${Fi.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}setTokenKeys(e,t){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(`${Fi.TOKEN_KEYS}.${this.clientId}`);return}else this.setItem(`${Fi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(e),t)}addTokenKey(e,t,n){this.logger.trace("BrowserCacheManager addTokenKey called");const i=this.getTokenKeys();switch(t){case ut.ID_TOKEN:i.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(e));break;case ut.ACCESS_TOKEN:const o=i.accessToken.indexOf(e);o!==-1&&i.accessToken.splice(o,1),this.logger.trace(`access token ${o===-1?"added to":"updated in"} map`),i.accessToken.push(e);break;case ut.REFRESH_TOKEN:i.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Te(ww)}this.setTokenKeys(i,n)}removeTokenKey(e,t,n,i=this.getTokenKeys()){switch(this.logger.trace("BrowserCacheManager removeTokenKey called"),t){case ut.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const o=i.idToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),i.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case ut.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const s=i.accessToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),i.accessToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case ut.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const a=i.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),i.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Te(ww)}this.setTokenKeys(i,n)}getIdTokenCredential(e,t){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,t),null;const i=this.validateAndParseJson(n);return!i||!iB(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),i)}setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=Nc(e);e.lastUpdatedAt=Date.now().toString(),this.setItem(n,JSON.stringify(e),t),this.addTokenKey(n,ut.ID_TOKEN,t)}getAccessTokenCredential(e,t){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,ut.ACCESS_TOKEN,t),null;const i=this.validateAndParseJson(n);return!i||!rB(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),i)}setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=Nc(e);e.lastUpdatedAt=Date.now().toString(),this.setItem(n,JSON.stringify(e),t),this.addTokenKey(n,ut.ACCESS_TOKEN,t)}getRefreshTokenCredential(e,t){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,ut.REFRESH_TOKEN,t),null;const i=this.validateAndParseJson(n);return!i||!oB(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),i)}setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=Nc(e);e.lastUpdatedAt=Date.now().toString(),this.setItem(n,JSON.stringify(e),t),this.addTokenKey(n,ut.REFRESH_TOKEN,t)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!SU(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n)}setAppMetadata(e,t){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=EU(e);this.setItem(n,JSON.stringify(e),t)}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!bU(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n)}setServerTelemetry(e,t,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t),n)}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&TU(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(hd.WRAPPER_SKU,e),this.internalStorage.setItem(hd.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(hd.WRAPPER_SKU)||we.EMPTY_STRING,t=this.internalStorage.getItem(hd.WRAPPER_VER)||we.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(e){const t=this.generateCacheKey(nr.ACTIVE_ACCOUNT_FILTERS),n=this.getItem(t);if(!n){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const o=this.generateCacheKey(nr.ACTIVE_ACCOUNT),s=this.getItem(o);if(!s)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const a=this.getAccountInfoFilteredBy({localAccountId:s},e);return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(a,e),a):null}const i=this.validateAndParseJson(n);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId,tenantId:i.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,t){const n=this.generateCacheKey(nr.ACTIVE_ACCOUNT_FILTERS),i=this.generateCacheKey(nr.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const o={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Date.now().toString()};this.setItem(n,JSON.stringify(o),t),this.setItem(i,e.localAccountId,t)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n),this.browserStorage.removeItem(i)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!IU(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n)}setThrottlingCache(e,t,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t),n)}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(n);if(!i){if(this.cacheConfig.cacheLocation===ni.LocalStorage){const o=this.browserStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,n){const i=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(e){await this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(t=>{(t.indexOf(we.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(t.indexOf(we.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(le.ClearTokensAndKeysWithClaims,t);const n=this.getTokenKeys();let i=0;n.accessToken.forEach(o=>{const s=this.getAccessTokenCredential(o,t);s!=null&&s.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(o,t),i++)}),i>0&&this.logger.warning(`${i} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):to.startsWith(e,we.CACHE_PREFIX)||to.startsWith(e,nr.ADAL_ID_TOKEN)?e:`${we.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Is.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Gt.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Is.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Gt.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Is.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Gt.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const i=this.generateAuthorityKey(n);return this.getTemporaryCache(i)}updateCacheEntries(e,t,n,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const A=this.generateAuthorityKey(e);if(this.setTemporaryCache(A,n,!1),o){const c={credential:o.homeAccountId,type:Ci.HOME_ACCOUNT_ID};this.setTemporaryCache(Gt.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(i){const c={credential:i,type:Ci.UPN};this.setTemporaryCache(Gt.CCS_CREDENTIAL,JSON.stringify(c),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(Gt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Gt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Gt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Gt.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(Gt.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(Gt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||we.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(Gt.REQUEST_STATE)===-1)return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const i=pS(this.cryptoImpl,n);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))}),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Vy(JSON.stringify(e));this.setTemporaryCache(Gt.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(Gt.REQUEST_PARAMS,!0);if(!t)throw ze(D2);let n;try{n=JSON.parse(Lo(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),ze(K2)}if(this.removeTemporaryItem(this.generateCacheKey(Gt.REQUEST_PARAMS)),!n.authority){const i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw ze(Hy);n.authority=o}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Gt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${we.CACHE_PREFIX}.${Gt.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${we.CACHE_PREFIX}.${Gt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ze(R2);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(nr.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(nr.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(nr.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(nr.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const i=TA(n,Lo);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t,n){const i=Nc(t);if(e!==i){const o=this.getItem(e);if(o)return this.browserStorage.removeItem(e),this.setItem(i,o,n),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),i;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){var a,A,c;const n=Bg((a=e.account)==null?void 0:a.homeAccountId,(A=e.account)==null?void 0:A.environment,e.idToken,this.clientId,e.tenantId);let i;t.claims&&(i=await this.cryptoImpl.hashString(t.claims));const o=bg((c=e.account)==null?void 0:c.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,Lo,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),s={idToken:n,accessToken:o};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(i){if(i instanceof df&&this.performanceClient&&t)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},t)}catch{}throw i}}};const VR=(r,e)=>{const t={cacheLocation:ni.MemoryStorage,temporaryCacheLocation:ni.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Pw(r,t,Pf,e)};/*! @azure/msal-browser v3.30.0 2025-08-05 */function qR(r,e,t,n,i){return r.verbose("getAllAccounts called"),t?e.getAllAccounts(n,i):[]}function $R(r,e,t,n){if(e.trace("getAccount called"),Object.keys(r).length===0)return e.warning("getAccount: No accountFilter provided"),null;const i=t.getAccountInfoFilteredBy(r,n);return i?(e.verbose("getAccount: Account matching provided filter found, returning"),i):(e.verbose("getAccount: No matching account found, returning null"),null)}function jR(r,e,t,n){if(e.trace("getAccountByUsername called"),!r)return e.warning("getAccountByUsername: No username provided"),null;const i=t.getAccountInfoFilteredBy({username:r},n);return i?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${r}`),i):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function zR(r,e,t,n){if(e.trace("getAccountByHomeId called"),!r)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=t.getAccountInfoFilteredBy({homeAccountId:r},n);return i?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${r}`),i):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function WR(r,e,t,n){if(e.trace("getAccountByLocalId called"),!r)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const i=t.getAccountInfoFilteredBy({localAccountId:r},n);return i?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${r}`),i):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function YR(r,e,t){e.setActiveAccount(r,t)}function JR(r,e){return r.getActiveAccount(e)}/*! @azure/msal-browser v3.30.0 2025-08-05 */const rt={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.30.0 2025-08-05 */let XR=class{constructor(e){this.eventCallbacks=new Map,this.logger=e||new iu({})}addEventCallback(e,t,n){if(typeof window<"u"){const i=n||TR();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,i){if(typeof window<"u"){const o={eventType:e,interactionType:t||null,payload:n||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],A)=>{(a.length===0||a.includes(e))&&(this.logger.verbose(`Emitting event to callback ${A}: ${e}`),s.apply(null,[o]))})}}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let mS=class{constructor(e,t,n,i,o,s,a,A,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=A,this.correlationId=c||Do(),this.logger=i.clone(mi.MSAL_SKU,nl,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){$r.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(this.correlationId),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null,this.correlationId));try{await this.browserStorage.removeAccount($r.generateAccountCacheKey(e),this.correlationId),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(this.correlationId),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Wt.getAbsoluteUrl(t,ms())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new I2(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(le.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=n!=null&&n.length?n==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(Wt.getDomainFromUrl(o),t.environment):o,A=Zc.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await xe(f2,le.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(A,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw nn(e2);return c}};/*! @azure/msal-browser v3.30.0 2025-08-05 */const ZR=32;async function eN(r,e,t){r.addQueueMeasurement(le.GeneratePkceCodes,t);const n=_A(tN,le.GenerateCodeVerifier,e,r,t)(r,e,t),i=await xe(nN,le.GenerateCodeChallengeFromVerifier,e,r,t)(n,r,e,t);return{verifier:n,challenge:i}}function tN(r,e,t){try{const n=new Uint8Array(ZR);return _A(dR,le.GetRandomValues,e,r,t)(n),kg(n)}catch{throw ze(My)}}async function nN(r,e,t,n){e.addQueueMeasurement(le.GenerateCodeChallengeFromVerifier,n);try{const i=await xe(AS,le.Sha256Digest,t,e,n)(r,e,n);return kg(new Uint8Array(i))}catch{throw ze(My)}}/*! @azure/msal-browser v3.30.0 2025-08-05 */async function Jy(r,e,t,n){t.addQueueMeasurement(le.InitializeBaseRequest,r.correlationId);const i=r.authority||e.auth.authority,o=[...r&&r.scopes||[]],s={...r,correlationId:r.correlationId,authority:i,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=Yt.BEARER,n.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Yt.SSH){if(!r.sshJwk)throw nn(Ig);if(!r.sshKid)throw nn(JE)}n.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&r.claims&&!to.isEmptyObj(r.claims)&&(s.requestedClaimsHash=await cS(r.claims)),s}async function rN(r,e,t,n,i){n.addQueueMeasurement(le.InitializeSilentRequest,r.correlationId);const o=await xe(Jy,le.InitializeBaseRequest,i,n,r.correlationId)(r,t,n,i);return{...r,...o,account:e,forceRefresh:r.forceRefresh||!1}}/*! @azure/msal-browser v3.30.0 2025-08-05 */let dl=class extends mS{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(le.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await xe(eN,le.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:we.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=we.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||Do(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Wt.getAbsoluteUrl(e.postLogoutRedirectUri,ms())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Wt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ms())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Wt.getAbsoluteUrl(ms(),ms())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(le.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await xe(this.getClientConfiguration.bind(this),le.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new B2(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(le.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await xe(this.getDiscoveredAuthority.bind(this),le.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),A=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:A.loggerCallback,piiLoggingEnabled:A.piiLoggingEnabled,logLevel:A.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:mi.MSAL_SKU,version:nl,cpu:we.EMPTY_STRING,os:we.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(le.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),i={interactionType:t},o=Is.setRequestState(this.browserCrypto,e&&e.state||we.EMPTY_STRING,i),a={...await xe(Jy,le.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Do(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const A=e.account||this.browserStorage.getActiveAccount(this.correlationId);if(A&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${A.homeAccountId}`,this.correlationId),a.account=A),!a.loginHint&&!A){const c=this.browserStorage.getLegacyLoginHint();c&&(a.loginHint=c)}return a}};/*! @azure/msal-browser v3.30.0 2025-08-05 */const iN="ContentError",wS="user_switch";/*! @azure/msal-browser v3.30.0 2025-08-05 */const oN="USER_INTERACTION_REQUIRED",sN="USER_CANCEL",aN="NO_NETWORK",AN="PERSISTENT_ERROR",cN="DISABLED",lN="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.30.0 2025-08-05 */const hN=-2147186943,uN={[wS]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};let na=class CS extends Bn{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,CS.prototype),this.name="NativeAuthError",this.ext=n}};function Sc(r){if(r.ext&&r.ext.status&&(r.ext.status===AN||r.ext.status===cN)||r.ext&&r.ext.error&&r.ext.error===hN)return!0;switch(r.errorCode){case iN:return!0;default:return!1}}function Lw(r,e,t){if(t&&t.status)switch(t.status){case lN:return bw(w2);case oN:return new Ts(r,e);case sN:return ze(yA);case aN:return ze(Vf)}return new na(r,uN[r]||e,t)}/*! @azure/msal-browser v3.30.0 2025-08-05 */let yS=class extends dl{async acquireToken(e){this.performanceClient.addQueueMeasurement(le.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(cn.acquireTokenSilent_silentFlow),n=await xe(this.getClientConfiguration.bind(this),le.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new Gx(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await xe(i.acquireCachedToken.bind(i),le.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof Gy&&o.errorCode===Dy&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let Gc=class extends mS{constructor(e,t,n,i,o,s,a,A,c,l,u,d){var m;super(e,t,n,i,o,s,A,c,d),this.apiId=a,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new yS(e,this.nativeStorageManager,n,i,o,s,A,c,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const f=this.nativeMessageHandler.getExtensionId()===Lc.PREFERRED_EXTENSION_ID?"chrome":(m=this.nativeMessageHandler.getExtensionId())!=null&&m.length?"unknown":void 0;this.skus=I2.makeExtraSkuString({libraryName:mi.MSAL_SKU,libraryVersion:nl,extensionName:f,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Sx]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(le.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(le.NativeInteractionClientAcquireToken,e.correlationId),n=Ho();try{const i=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...o}=i,s={method:rA.GetToken,request:o},a=await this.nativeMessageHandler.sendMessage(s),A=this.validateNativeResponse(a);return await this.handleNativeResponse(A,i,n).then(c=>(t.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),c)).catch(c=>{throw t.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError,isNativeBroker:!0}),c})}catch(i){throw i instanceof na&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:mr.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Te(pw);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},t.correlationId);if(!n)throw Te(pw);try{const i=this.createSilentCacheRequest(t,n),o=await this.silentCacheClient.acquireToken(i),s={...n,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(i){throw i}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const i=await this.initializeNativeRequest(n),o={method:rA.GetToken,request:i};try{const A=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(A)}catch(A){if(A instanceof na&&(this.serverTelemetryManager.setNativeBrokerErrorCode(A.errorCode),Sc(A)))throw A}this.browserStorage.setTemporaryCache(Gt.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:cn.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:i,...o}=n;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Gt.NATIVE_REQUEST));const s={method:rA.GetToken,request:o},a=Ho();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const A=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(A);const c=this.handleNativeResponse(A,o,a);this.browserStorage.setInteractionInProgress(!1);const l=await c;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),l}catch(A){throw this.browserStorage.setInteractionInProgress(!1),A}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var l;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=TA(e.id_token,Lo),o=this.createHomeAccountIdentifier(e,i),s=(l=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId},this.correlationId))==null?void 0:l.homeAccountId;if(o!==s&&e.account.id!==t.accountId)throw Lw(wS);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),A=Oy(this.browserStorage,a,o,Lo,this.correlationId,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,i,A,a.canonicalAuthority,n);return this.cacheAccount(A),this.cacheNativeTokens(e,t,o,i,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return $r.generateHomeAccountId(e.client_info||we.EMPTY_STRING,Xi.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?mr.fromString(e.scope):mr.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Yt.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new tl(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Te(By);return n.signPopToken(e.access_token,t.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,t,n,i,o,s){const a=this.addTelemetryFromNativeResponse(e),A=e.scope?mr.fromString(e.scope):mr.fromString(t.scope),c=e.account.properties||{},l=c.UID||n.oid||n.sub||we.EMPTY_STRING,u=c.TenantId||n.tid||we.EMPTY_STRING,d=Fy(i.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),m=t.tokenType===Yt.POP?Yt.POP:Yt.BEARER;return{authority:o,uniqueId:l,tenantId:u,scopes:A.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:f,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:m,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e,this.correlationId).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,n,i,o,s,a){const A=Bg(n,t.authority,e.id_token||"",t.clientId,i.tid||""),c=t.tokenType===Yt.POP?we.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,l=a+c,u=this.generateScopes(e,t),d=bg(n,t.authority,o,t.clientId,i.tid||s,u.printScopes(),l,0,Lo,void 0,t.tokenType,void 0,t.keyId),f={idToken:A,accessToken:d};this.nativeStorageManager.saveCacheRecord(f,t.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw CE(py,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Wt(t);n.validateAsUri();const{scopes:i,...o}=e,s=new mr(i||[]);s.appendScopes(ul);const a=()=>{switch(this.apiId){case cn.ssoSilent:case cn.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ar.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case Ar.NONE:case Ar.CONSENT:case Ar.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),ze(Z2)}},A={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(A.signPopToken&&e.popKid)throw ze(tS);if(this.handleExtraBrokerParams(A),A.extraParameters=A.extraParameters||{},A.extraParameters.telemetry=Lc.MATS_TELEMETRY,e.authenticationScheme===Yt.POP){const c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},l=new tl(this.browserCrypto);let u;if(A.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:A.keyId})),A.signPopToken=!1;else{const d=await xe(l.generateCnf.bind(l),le.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(c,this.logger);u=d.reqCnfString,A.keyId=d.kid,A.signPopToken=!0}A.reqCnf=u}return this.addRequestSKUs(A),A}handleExtraBrokerParams(e){var o;const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Ny)&&e.extraParameters.hasOwnProperty(Bw)&&e.extraParameters.hasOwnProperty(CA);if(!e.embeddedClientId&&!t)return;let n="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Bw],n=e.extraParameters[CA]),e.extraParameters={child_client_id:n,child_redirect_uri:i},(o=this.performanceClient)==null||o.addFields({embeddedClientId:n,embeddedRedirectUri:i},e.correlationId)}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let iA=class Ow{constructor(e,t,n,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(le.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Lc.CHANNEL_ID,extensionId:this.extensionId,responseId:Do(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((n,i)=>{this.resolvers.set(t.responseId,{resolve:n,reject:i})})}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const i=new Ow(e,t,n,Lc.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new Ow(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Lc.CHANNEL_ID,extensionId:this.extensionId,responseId:Do(),body:{method:rA.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(ze(Y2)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==Lc.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===rA.HandshakeRequest){const n=this.handshakeResolvers.get(t.responseId);if(!n){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),n.reject(ze(J2))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{const o=t.body.method;if(o===rA.Response){if(!n)return;const s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")n.reject(Lw(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?n.reject(Lw(s.result.code,s.result.description,s.result.ext)):n.resolve(s.result);else throw CE(py,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(o===rA.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Yt.BEARER:case Yt.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let Xy=class{constructor(e,t,n,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(le.HandleCodeResponse,t.correlationId);let n;try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof el&&i.subError===yA?ze(yA):i}return xe(this.handleCodeResponseFromServer.bind(this),le.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(le.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await xe(this.authModule.updateAuthority.bind(this.authModule),le.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(t);o&&(this.authCodeRequest.ccsCredential=o)}return await xe(this.authModule.acquireToken.bind(this.authModule),le.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Ci.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Ci.UPN}:null}};/*! @azure/msal-browser v3.30.0 2025-08-05 */function vS(r,e,t){const n=Mf(r);if(!n)throw r2(r)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${r}`),ze(F2)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ze(k2));return n}function dN(r,e,t){if(!r.state)throw ze(Qy);const n=pS(e,r.state);if(!n)throw ze(U2);if(n.interactionType!==t)throw ze(x2)}/*! @azure/msal-browser v3.30.0 2025-08-05 */let fN=class extends dl{constructor(e,t,n,i,o,s,a,A,c,l){super(e,t,n,i,o,s,a,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=A}acquireToken(e){try{const n={popupName:this.generatePopupName(e.scopes||ul,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,i,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t){var o;this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(cn.acquireTokenPopup),i=await xe(this.initializeAuthorizationRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,et.Popup);fS(i.authority);try{const s=await xe(this.initializeAuthorizationCodeRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),a=await xe(this.createAuthCodeClient.bind(this),le.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),A=iA.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let c;A&&(c=this.performanceClient.startMeasurement(le.FetchAccountIdWithNativeBroker,e.correlationId));const l=await a.getAuthCodeUrl({...i,nativeBroker:A}),u=new Xy(a,this.browserStorage,s,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(rt.POPUP_OPENED,et.Popup,{popupWindow:d},null);const f=await this.monitorPopupForHash(d,t.popupWindowParent),m=_A(vS,le.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Df.removeThrottle(this.browserStorage,this.config.auth.clientId,s),m.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw ze(ou);const B=new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,m.accountId,this.nativeStorage,i.correlationId),{userRequestState:y}=Is.parseRequestState(this.browserCrypto,i.state);return await B.acquireToken({...i,state:y,prompt:void 0})}return await u.handleCodeResponse(m,i)}catch(s){throw(o=t.popup)==null||o.close(),s instanceof Bn&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),s}}async logoutPopupAsync(e,t,n,i){var s,a,A,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(rt.LOGOUT_START,et.Popup,e);const o=this.initializeServerTelemetryManager(cn.logoutPopup);try{await this.clearCacheOnLogout(e.account);const l=await xe(this.createAuthCodeClient.bind(this),le.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===bs.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId,this.correlationId),this.eventHandler.emitEvent(rt.LOGOUT_SUCCESS,et.Popup,e),i){const f={apiId:cn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Wt.getAbsoluteUrl(i,ms());await this.navigationClient.navigateInternal(m,f)}(A=t.popup)==null||A.close();return}}const u=l.getLogoutUri(e);this.eventHandler.emitEvent(rt.LOGOUT_SUCCESS,et.Popup,e);const d=this.openPopup(u,t);if(this.eventHandler.emitEvent(rt.POPUP_OPENED,et.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,t.popupWindowParent).catch(()=>{}),i){const f={apiId:cn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Wt.getAbsoluteUrl(i,ms());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("No main window navigation requested")}catch(l){throw(c=t.popup)==null||c.close(),l instanceof Bn&&(l.setCorrelationId(this.correlationId),o.cacheFailedRequest(l)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(rt.LOGOUT_FAILURE,et.Popup,null,l),this.eventHandler.emitEvent(rt.LOGOUT_END,et.Popup),l}this.eventHandler.emitEvent(rt.LOGOUT_END,et.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),ze(Sg)}monitorPopupForHash(e,t){return new Promise((n,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(ze(yA));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="";const A=this.config.auth.OIDCOptions.serverResponseType;e&&(A===ru.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),n(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw ze(P2);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),ze(N2)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:n,popupWindowParent:i}){var f,m,w,B;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,A=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=(f=n.popupSize)==null?void 0:f.width,l=(m=n.popupSize)==null?void 0:m.height,u=(w=n.popupPosition)==null?void 0:w.top,d=(B=n.popupPosition)==null?void 0:B.left;return(!c||c<0||c>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=mi.POPUP_WIDTH),(!l||l<0||l>A)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=mi.POPUP_HEIGHT),(!u||u<0||u>A)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,A/2-mi.POPUP_HEIGHT/2+s)),(!d||d<0||d>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,a/2-mi.POPUP_WIDTH/2+o)),i.open(e,t,`width=${c}, height=${l}, top=${u}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(et.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${mi.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${mi.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let _B=class{constructor(e,t,n,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Gt.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Gt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:cn.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await t.navigationClient.navigateExternal(e,n);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await t.navigationClient.navigateExternal(e,n);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ze(Sg)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(n);if(!i)throw Te(Nf,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(c){throw c instanceof el&&c.subError===yA?ze(yA):c}const s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await xe(this.authModule.updateAuthority.bind(this.authModule),le.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const c=this.checkCcsCredentials();c&&(this.authCodeRequest.ccsCredential=c)}const A=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),A}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(Gt.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}};/*! @azure/msal-browser v3.30.0 2025-08-05 */function gN(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const r=window.performance.getEntriesByType("navigation"),e=r.length?r[0]:void 0;return e==null?void 0:e.type}let pN=class extends dl{constructor(e,t,n,i,o,s,a,A,c,l){super(e,t,n,i,o,s,a,c,l),this.nativeStorage=A}async acquireToken(e){const t=await xe(this.initializeAuthorizationRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,et.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(cn.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(rt.RESTORE_FROM_BFCACHE,et.Redirect))};try{const o=await xe(this.initializeAuthorizationCodeRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),s=await xe(this.createAuthCodeClient.bind(this),le.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new _B(s,this.browserStorage,o,this.logger,this.performanceClient),A=await s.getAuthCodeUrl({...t,nativeBroker:iA.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",i),await a.initiateAuthRequest(A,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof Bn&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(e="",t){const n=this.initializeServerTelemetryManager(cn.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(et.Redirect),gN()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(Gt.ORIGIN_URI,!0)||we.EMPTY_STRING,a=Wt.removeHashFromUrl(s),A=Wt.removeHashFromUrl(window.location.href);if(a===A&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&vR(s),await this.handleResponse(i,n);if(this.config.auth.navigateToLoginRequestUrl){if(!zy()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Gt.URL_HASH,o,!0);const c={apiId:cn.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let l=!0;if(!s||s==="null"){const u=bR();this.browserStorage.setTemporaryCache(Gt.ORIGIN_URI,u,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),l=await this.navigationClient.navigateInternal(u,c)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),l=await this.navigationClient.navigateInternal(s,c);if(!l)return await this.handleResponse(i,n)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,n);return null}catch(i){throw i instanceof Bn&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(et.Redirect),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===ru.QUERY?t=window.location.search:t=window.location.hash);let n=Mf(t);if(n){try{dN(n,this.browserCrypto,et.Redirect)}catch(o){return o instanceof Bn&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return yR(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const i=this.browserStorage.getTemporaryCache(Gt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Gt.URL_HASH)),i&&(n=Mf(i),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,i]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw ze(Qy);const i=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ze(ou);const A=new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:c}=Is.parseRequestState(this.browserCrypto,n);return A.acquireToken({...i,state:c,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(n)})}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw ze(Hy);const s=await xe(this.createAuthCodeClient.bind(this),le.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});return Df.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new _B(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(cn.logout);try{this.eventHandler.emitEvent(rt.LOGOUT_START,et.Redirect,e),await this.clearCacheOnLogout(t.account);const s={apiId:cn.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await xe(this.createAuthCodeClient.bind(this),le.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===bs.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=t.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=t.account)==null?void 0:o.homeAccountId,this.correlationId),this.eventHandler.emitEvent(rt.LOGOUT_SUCCESS,et.Redirect,t);return}}const A=a.getLogoutUri(t);if(this.eventHandler.emitEvent(rt.LOGOUT_SUCCESS,et.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(A)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(A,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(A,s);return}}catch(s){throw s instanceof Bn&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),this.eventHandler.emitEvent(rt.LOGOUT_FAILURE,et.Redirect,null,s),this.eventHandler.emitEvent(rt.LOGOUT_END,et.Redirect),s}this.eventHandler.emitEvent(rt.LOGOUT_END,et.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Wt.getAbsoluteUrl(t,ms())}};/*! @azure/msal-browser v3.30.0 2025-08-05 */async function mN(r,e,t,n,i){if(e.addQueueMeasurement(le.SilentHandlerInitiateAuthRequest,n),!r)throw t.info("Navigate url is empty"),ze(Sg);return i?xe(CN,le.SilentHandlerLoadFrame,t,e,n)(r,i,e,n):_A(yN,le.SilentHandlerLoadFrameSync,t,e,n)(r)}async function wN(r,e,t,n,i,o,s){return n.addQueueMeasurement(le.SilentHandlerMonitorIframeForHash,o),new Promise((a,A)=>{e<Uw&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Uw}ms). This may result in timeouts.`);const c=window.setTimeout(()=>{window.clearInterval(l),A(ze(L2))},e),l=window.setInterval(()=>{let u="";const d=r.contentWindow;try{u=d?d.location.href:""}catch{}if(!u||u==="about:blank")return;let f="";d&&(s===ru.QUERY?f=d.location.search:f=d.location.hash),window.clearTimeout(c),window.clearInterval(l),a(f)},t)}).finally(()=>{_A(vN,le.RemoveHiddenIframe,i,n,o)(r)})}function CN(r,e,t,n){return t.addQueueMeasurement(le.SilentHandlerLoadFrame,n),new Promise((i,o)=>{const s=BS();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=r,i(s)},e)})}function yN(r){const e=BS();return e.src=r,e}function BS(){const r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(r),r}function vN(r){document.body===r.parentNode&&document.body.removeChild(r)}/*! @azure/msal-browser v3.30.0 2025-08-05 */let BN=class extends dl{constructor(e,t,n,i,o,s,a,A,c,l,u){super(e,t,n,i,o,s,A,l,u),this.apiId=a,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(le.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==Ar.NONE&&t.prompt!==Ar.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Ar.NONE}`),t.prompt=Ar.NONE):t.prompt=Ar.NONE;const n=await xe(this.initializeAuthorizationRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,et.Silent);fS(n.authority);const i=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await xe(this.createAuthCodeClient.bind(this),le.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await xe(this.silentTokenHelper.bind(this),le.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(s){if(s instanceof Bn&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof Bn)||s.errorCode!==mi.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);const a=await xe(this.initializeAuthorizationRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,et.Silent);return await xe(this.silentTokenHelper.bind(this),le.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}}logout(){return Promise.reject(ze(Tg))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(le.SilentIframeClientTokenHelper,n);const i=await xe(this.initializeAuthorizationCodeRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,n)(t),o=await xe(e.getAuthCodeUrl.bind(e),le.GetAuthCodeUrl,this.logger,this.performanceClient,n)({...t,nativeBroker:iA.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),s=new Xy(e,this.browserStorage,i,this.logger,this.performanceClient),a=await xe(mN,le.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),A=this.config.auth.OIDCOptions.serverResponseType,c=await xe(wN,le.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,A),l=_A(vS,le.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(c,A,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ze(ou);const u=new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,n),{userRequestState:d}=Is.parseRequestState(this.browserCrypto,t.state);return xe(u.acquireToken.bind(u),le.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,n)({...t,state:d,prompt:t.prompt||Ar.NONE})}return xe(s.handleCodeResponse.bind(s),le.HandleCodeResponse,this.logger,this.performanceClient,n)(l,t)}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let bN=class extends dl{async acquireToken(e){this.performanceClient.addQueueMeasurement(le.SilentRefreshClientAcquireToken,e.correlationId);const t=await xe(Jy,le.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(cn.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return xe(o.acquireTokenByRefreshToken.bind(o),le.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(ze(Tg))}async createRefreshTokenClient(e){const t=await xe(this.getClientConfiguration.bind(this),le.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Ew(t,this.performanceClient)}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let IN=class{constructor(e,t,n,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=n,this.cryptoObj=i}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw ze(_g);const i=e.correlationId||Do(),o=t.id_token?TA(t.id_token,Lo):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Zc(Zc.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||Do()):void 0,A=this.loadAccount(e,n.clientInfo||t.client_info||"",i,o,a),c=this.loadIdToken(t,A.homeAccountId,A.environment,A.realm,i),l=this.loadAccessToken(e,t,A.homeAccountId,A.environment,A.realm,n,i),u=this.loadRefreshToken(t,A.homeAccountId,A.environment,i);return this.generateAuthenticationResult(e,{account:A,idToken:c,accessToken:l,refreshToken:u},o,a)}loadAccount(e,t,n,i,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const c=$r.createFromAccountInfo(e.account);return this.storage.setAccount(c,n),c}else if(!o||!t&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ze(q2);const s=$r.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,i),a=i==null?void 0:i.tid,A=Oy(this.storage,o,s,Lo,n,i,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(A,n),A}loadIdToken(e,t,n,i,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=Bg(t,n,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(s,o),s}loadAccessToken(e,t,n,i,o,s,a){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const A=t.scope?mr.fromString(t.scope):new mr(e.scopes),c=s.expiresOn||t.expires_in+new Date().getTime()/1e3,l=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,u=bg(n,i,t.access_token,this.config.auth.clientId,o,A.printScopes(),c,l,Lo);return this.storage.setAccessTokenCredential(u,a),u}loadRefreshToken(e,t,n,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=HE(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(o,i),o}generateAuthenticationResult(e,t,n,i){var l,u,d;let o="",s=[],a=null,A;t!=null&&t.accessToken&&(o=t.accessToken.secret,s=mr.fromString(t.accessToken.target).asArray(),a=new Date(Number(t.accessToken.expiresOn)*1e3),A=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));const c=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:c.getAccountInfo(),idToken:((l=t.idToken)==null?void 0:l.secret)||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:A,familyId:((u=t.refreshToken)==null?void 0:u.familyId)||"",tokenType:((d=t==null?void 0:t.accessToken)==null?void 0:d.tokenType)||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let EN=class extends B2{constructor(e){super(e),this.includeRedirectUri=!1}};/*! @azure/msal-browser v3.30.0 2025-08-05 */let SN=class extends dl{constructor(e,t,n,i,o,s,a,A,c,l){super(e,t,n,i,o,s,A,c,l),this.apiId=a}async acquireToken(e){if(!e.code)throw ze($2);const t=await xe(this.initializeAuthorizationRequest.bind(this),le.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,et.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const i={...t,code:e.code},o=await xe(this.getClientConfiguration.bind(this),le.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new EN(o);this.logger.verbose("Auth code client created");const a=new Xy(s,this.browserStorage,i,this.logger,this.performanceClient);return await xe(a.handleCodeResponseFromServer.bind(a),le.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof Bn&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),i}}logout(){return Promise.reject(ze(Tg))}};/*! @azure/msal-browser v3.30.0 2025-08-05 */function Io(r){const e=r==null?void 0:r.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function dd(r,e){try{Wy(r)}catch(t){throw e.end({success:!1},t),t}}let bS=class IS{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Yy(this.logger,this.performanceClient):Pf,this.eventHandler=new XR(this.logger),this.browserStorage=this.isBrowserEnvironment?new Pw(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,Rx(this.config.auth),this.performanceClient):VR(this.config.auth.clientId,this.logger);const t={cacheLocation:ni.MemoryStorage,temporaryCacheLocation:ni.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Pw(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new IN(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const n=new IS(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(rt.INITIALIZE_END);return}const t=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(le.InitializeClientApplication,t);if(this.eventHandler.emitEvent(rt.INITIALIZE_START),n)try{this.nativeExtensionProvider=await iA.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await xe(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),le.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(rt.INITIALIZE_END),i.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),dS(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),i=n&&iA.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?n==null?void 0:n.correlationId:this.browserStorage.getTemporaryCache(Gt.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(le.AcquireTokenRedirect,o);this.eventHandler.emitEvent(rt.HANDLE_REDIRECT_START,et.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const A=new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=xe(A.handleRedirectPromise.bind(A),le.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const A=this.createRedirectClient(o);a=xe(A.handleRedirectPromise.bind(A),le.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(A=>(A?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(rt.LOGIN_SUCCESS,et.Redirect,A),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_SUCCESS,et.Redirect,A),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Io(A.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(rt.HANDLE_REDIRECT_END,et.Redirect),A)).catch(A=>{const c=A;throw t.length>0?this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_FAILURE,et.Redirect,null,c):this.eventHandler.emitEvent(rt.LOGIN_FAILURE,et.Redirect,null,c),this.eventHandler.emitEvent(rt.HANDLE_REDIRECT_END,et.Redirect),s.end({success:!1},c),A})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(le.AcquireTokenPreRedirect,t);n.add({accountType:Io(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{const a=typeof i=="function"?i(s):void 0;return a!==!1?n.end({success:!0}):n.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const A=typeof s=="function"?s(a):void 0;return A!==!1?n.end({success:!0}):n.discard(),A}}const o=this.getAllAccounts().length>0;try{IB(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_START,et.Redirect,e):this.eventHandler.emitEvent(rt.LOGIN_START,et.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch(A=>{if(A instanceof na&&Sc(A))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(A instanceof Ts)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),A}):s=this.createRedirectClient(t).acquireToken(e),await s}catch(s){throw n.end({success:!1},s),o?this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_FAILURE,et.Redirect,null,s):this.eventHandler.emitEvent(rt.LOGIN_FAILURE,et.Redirect,null,s),s}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(le.AcquireTokenPopup,t);n.add({scenarioId:e.scenarioId,accountType:Io(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),dd(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_START,et.Popup,e):this.eventHandler.emitEvent(rt.LOGIN_START,et.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative({...e,correlationId:t},cn.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:Io(s.account)}),s)).catch(s=>{if(s instanceof na&&Sc(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(s instanceof Ts)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(t).acquireToken(e),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(rt.LOGIN_SUCCESS,et.Popup,s):this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_SUCCESS,et.Popup,s),n.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Io(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_FAILURE,et.Popup,null,s):this.eventHandler.emitEvent(rt.LOGIN_FAILURE,et.Popup,null,s),n.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,s;const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(le.SsoSilent,t),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:Io(e.account)}),dd(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(rt.SSO_SILENT_START,et.Silent,n);let i;return this.canUseNative(n)?i=this.acquireTokenNative(n,cn.ssoSilent).catch(a=>{if(a instanceof na&&Sc(a))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw a}):i=this.createSilentIframeClient(n.correlationId).acquireToken(n),i.then(a=>{var A;return this.eventHandler.emitEvent(rt.SSO_SILENT_SUCCESS,et.Silent,a),(A=this.ssoSilentMeasurement)==null||A.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Io(a.account)}),a}).catch(a=>{var A;throw this.eventHandler.emitEvent(rt.SSO_SILENT_FAILURE,et.Silent,null,a),(A=this.ssoSilentMeasurement)==null||A.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(le.AcquireTokenByCode,t);dd(this.initialized,n),this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_BY_CODE_START,et.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ze(z2);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(s=>(this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_BY_CODE_SUCCESS,et.Silent,s),this.hybridAuthCodeResponses.delete(i),n.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Io(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_BY_CODE_FAILURE,et.Silent,null,s),n.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:t},cn.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof na&&Sc(o)&&(this.nativeExtensionProvider=void 0),o});return n.end({accountType:Io(i.account),success:!0}),i}else throw ze(W2);else throw ze(j2)}catch(i){throw this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_BY_CODE_FAILURE,et.Silent,null,i),n.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(le.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(le.AcquireTokenFromCache,e.correlationId),t){case fi.Default:case fi.AccessToken:case fi.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(e.correlationId);return xe(n.acquireToken.bind(n),le.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Te(ps)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(le.AcquireTokenByRefreshToken,e.correlationId),t){case fi.Default:case fi.AccessTokenAndRefreshToken:case fi.RefreshToken:case fi.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(e.correlationId);return xe(n.acquireToken.bind(n),le.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Te(ps)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(le.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return xe(t.acquireToken.bind(t),le.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return IB(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return Wy(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){const t=this.getRequestCorrelationId();return qR(this.logger,this.browserStorage,this.isBrowserEnvironment,t,e)}getAccount(e){const t=this.getRequestCorrelationId();return $R(e,this.logger,this.browserStorage,t)}getAccountByUsername(e){const t=this.getRequestCorrelationId();return jR(e,this.logger,this.browserStorage,t)}getAccountByHomeId(e){const t=this.getRequestCorrelationId();return zR(e,this.logger,this.browserStorage,t)}getAccountByLocalId(e){const t=this.getRequestCorrelationId();return WR(e,this.logger,this.browserStorage,t)}setActiveAccount(e){const t=this.getRequestCorrelationId();YR(e,this.browserStorage,t)}getActiveAccount(){const e=this.getRequestCorrelationId();return JR(this.browserStorage,e)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=$r.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw ze(ou);return new Gc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!iA.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Ar.NONE:case Ar.CONSENT:case Ar.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new fN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new pN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new BN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new yS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new bN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new SN(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,cn.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return uS(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){var t;try{(t=e.key)!=null&&t.includes(nr.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(rt.ACTIVE_ACCOUNT_CHANGED);const n=e.newValue||e.oldValue;if(!n)return;const i=JSON.parse(n);if(typeof i!="object"||!$r.isAccountEntity(i))return;const s=Hf.toObject(new $r,i).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(rt.ACCOUNT_ADDED,void 0,s)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(rt.ACCOUNT_REMOVED,void 0,s))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Do():we.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||vB})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||vB})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(le.AcquireTokenSilent,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),dd(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const i=e.account||this.getActiveAccount();if(!i)throw ze(H2);n.add({accountType:Io(i)});const o={clientId:this.config.auth.clientId,authority:e.authority||we.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const A=xe(this.acquireTokenSilentAsync.bind(this),le.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},i).then(c=>(this.activeSilentTokenRequests.delete(s),n.end({success:!0,fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),c)).catch(c=>{throw this.activeSilentTokenRequests.delete(s),n.end({success:!1},c),c});return this.activeSilentTokenRequests.set(s,A),{...await A,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await a,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(le.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_START,et.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const i=await xe(rN,le.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||fi.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async a=>{if(TN(a,o))if(this.activeIframeRequest)if(o!==fi.Skip){const[c,l]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${l}`,i.correlationId);const u=this.performanceClient.startMeasurement(le.AwaitConcurrentIframe,i.correlationId);u.add({awaitIframeCorrelationId:l});const d=await c;if(u.end({success:d}),d)return this.logger.verbose(`Parallel iframe request with correlationId: ${l} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${l} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),xe(this.acquireTokenBySilentIframe.bind(this),le.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let c;return this.activeIframeRequest=[new Promise(l=>{c=l}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),xe(this.acquireTokenBySilentIframe.bind(this),le.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(l=>(c(!0),l)).catch(l=>{throw c(!1),l}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_SUCCESS,et.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_FAILURE,et.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(e,t){return iA.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,cn.acquireTokenSilent_silentFlow).catch(async n=>{throw n instanceof na&&Sc(n)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,Te(ps)):n})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),xe(this.acquireTokenFromCache.bind(this),le.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(n=>{if(t===fi.AccessToken)throw n;return this.eventHandler.emitEvent(rt.ACQUIRE_TOKEN_NETWORK_START,et.Silent,e),xe(this.acquireTokenByRefreshToken.bind(this),le.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}};function TN(r,e){const t=!(r instanceof Ts&&r.subError!==Eg),n=r.errorCode===mi.INVALID_GRANT_ERROR||r.errorCode===ps,i=t&&n||r.errorCode===Kf||r.errorCode===Ly,o=oR.includes(e);return i&&o}/*! @azure/msal-browser v3.30.0 2025-08-05 */async function _N(r,e){const t=new Fg(r);return await t.initialize(),bS.createController(t,e)}/*! @azure/msal-browser v3.30.0 2025-08-05 */let kN=class ES{static async createPublicClientApplication(e){const t=await _N(e);return new ES(e,t)}constructor(e,t){this.controller=t||new bS(new Fg(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}};const FN="modulepreload",UN=function(r){return"/"+r},kB={},Mw=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(A=>{if(A=UN(A),A in kB)return;kB[A]=!0;const c=A.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${l}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":FN,c||(u.as="script"),u.crossOrigin="",u.href=A,a&&u.setAttribute("nonce",a),document.head.appendChild(u),c)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${A}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},xN="7cf881e5-5436-4a63-bbbb-0be177900711",RN="d3800297-e145-4b6b-b3e3-d427676204aa",NN="https://reblinfelipe.sharepoint.com",cA=new kN({auth:{clientId:RN,authority:`https://login.microsoftonline.com/${xN}`,redirectUri:window.location.origin},cache:{cacheLocation:"localStorage"}});cA.addEventCallback(r=>{if(r.eventType===rt.LOGIN_SUCCESS&&r.payload){const e=r.payload;e.account&&cA.setActiveAccount(e.account)}if(r.eventType===rt.ACQUIRE_TOKEN_SUCCESS&&r.payload){const e=r.payload;e.account&&cA.setActiveAccount(e.account)}});async function PN(){await cA.loginRedirect({scopes:[`${NN}/.default`,"Sites.ReadWrite.All"]})}function LN(){const r=cA.getActiveAccount();return r?cA.logoutRedirect({account:r}):cA.logoutRedirect()}const Qw=(r,e)=>e.some(t=>r instanceof t);let FB,UB;function ON(){return FB||(FB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MN(){return UB||(UB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hw=new WeakMap,hm=new WeakMap,Ug=new WeakMap;function QN(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",s)},o=()=>{t(lA(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",s)});return Ug.set(e,r),e}function HN(r){if(Hw.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",s),r.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",s),r.addEventListener("abort",s)});Hw.set(r,e)}let Dw={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Hw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lA(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SS(r){Dw=r(Dw)}function DN(r){return MN().includes(r)?function(...e){return r.apply(Kw(this),e),lA(this.request)}:function(...e){return lA(r.apply(Kw(this),e))}}function KN(r){return typeof r=="function"?DN(r):(r instanceof IDBTransaction&&HN(r),Qw(r,ON())?new Proxy(r,Dw):r)}function lA(r){if(r instanceof IDBRequest)return QN(r);if(hm.has(r))return hm.get(r);const e=KN(r);return e!==r&&(hm.set(r,e),Ug.set(e,r)),e}const Kw=r=>Ug.get(r);function GN(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(r,e),a=lA(s);return n&&s.addEventListener("upgradeneeded",A=>{n(lA(s.result),A.oldVersion,A.newVersion,lA(s.transaction),A)}),t&&s.addEventListener("blocked",A=>t(A.oldVersion,A.newVersion,A)),a.then(A=>{o&&A.addEventListener("close",()=>o()),i&&A.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const VN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],um=new Map;function xB(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=qN.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||VN.includes(t)))return;const o=async function(s,...a){const A=this.transaction(s,i?"readwrite":"readonly");let c=A.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&A.done]))[0]};return um.set(e,o),o}SS(r=>({...r,get:(e,t,n)=>xB(e,t)||r.get(e,t,n),has:(e,t)=>!!xB(e,t)||r.has(e,t)}));const $N=["continue","continuePrimaryKey","advance"],RB={},Gw=new WeakMap,TS=new WeakMap,jN={get(r,e){if(!$N.includes(e))return r[e];let t=RB[e];return t||(t=RB[e]=function(...n){Gw.set(this,TS.get(this)[e](...n))}),t}};async function*zN(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const t=new Proxy(e,jN);for(TS.set(t,e),Ug.set(t,Kw(e));e;)yield t,e=await(Gw.get(t)||e.continue()),Gw.delete(t)}function NB(r,e){return e===Symbol.asyncIterator&&Qw(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Qw(r,[IDBIndex,IDBObjectStore])}SS(r=>({...r,get(e,t,n){return NB(e,t)?zN:r.get(e,t,n)},has(e,t){return NB(e,t)||r.has(e,t)}}));let dm=null;const Zy=function(){return dm||(dm=GN("hgp-auditoria",2,{upgrade(e,t,n,i){t<1&&(e.createObjectStore("audits"),e.createObjectStore("answers"),e.createObjectStore("photos"),e.createObjectStore("outbox")),t<2&&i.objectStore("photos").createIndex("byAudit","auditId")}})),dm}(),ua={meta1:{title:"Meta 1: Identificao Correta do Paciente",items:["Paciente possui a pulseira/etiqueta de identificao.","A pulseira/etiqueta possui os marcadores descritos no protocolo de Identificao do Paciente, de forma ntegra e legvel?","Evidenciada a colocao da pulseira e/ou etiqueta de identificao no momento do cadastro do paciente?","Evidenciada a sinalizao de alergia no momento do primeiro atendimento?","Evidenciado que paciente/acompanhante/responsvel esto cientes do motivo e importncia do uso da pulseira de identificao?","Evidenciado dupla pulseira nos casos das Parturientes e com duas pulseiras no RN (perna e brao)?","O paciente relata que o colaborador realiza a checagem com o nome completo e data de nascimento antes de qualquer interveno diagnstica, teraputica ou medicamentosa/dieta entregue?","Todos os impressos do pronturio esto identificados com os marcadores do protocolo de Identificao do Paciente?","Evidenciado a dupla conferncia de Identificao antes da administrao de medicamentos (Assistenciais, SADT's, Centro Cirrgico, Distribuio de Dietas e outros).","A identificao das infuses venosas possuem os marcadores descritos no protocolo de Identificao do Paciente?","Identificao correta dos Pacientes em condies clnicas ou emocionais desfavorveis (sem documentao ou confuso)?","Identificao correta para os casos de homnimos?","A identificao das dietas oferecidas possuem os indicadores descritos no Protocolo de Identificao do Paciente.","Todos os frascos para amostra de exames so identificados com os indicadores descritos no protocolo de Identificao do Paciente.","Todas os frascos para as amostras de exames, so conferidas em conjunto aos pacientes / familiares / acompanhantes?"]},meta2:{title:"Meta 2: Melhorar a Comunicao",items:["O registro das informaes nos pronturios so claros, objetivos, com data, hora, evidncia do profissional que realizou?","Evidncia do conhecimento do paciente / acompanhante do tratamento e das orientaes pertinentes a assistncia?","Quadro beira leito com informaes atualizadas e completas?","Termos de Consentimentos aplicados, com orientaes adequadas e esclarecedoras, com assinaturas do paciente e ou responsvel e profissional que orientou, data e horrio?","A equipe multiprofissional possui comunicao eficaz, principalmente nos casos relacionados a emergncias, solicitao de avaliao, coleta ou realizao de exames, transferncias/remoes, entre outros?","Evidncia de realizao em todos os transportes internos do paciente (check list de transporte interno)?","Quadro Kanban com informaes atualizadas e completas?","Preenchimento do formulrio SBAR completo (Transferncia interna)"]},meta3:{title:"Meta 3: Segurana na Prescrio, Uso e Administrao de Medicamentos",items:["Prescrio mdica realizada diariamente?","Evidenciado em pronturio que a prescrio mdica est sendo cumprida? (Checagem) Observar justificativa e tempo de atraso na checagem, se houver.","Todas as prescries mdicas so avaliadas pelos Farmacuticos antes da dispensao?","H mtodo implantado de distribuio de medicamentos (individualizado ou dose unitria)?","Evidncia de dupla checagem antes da dispensao dos medicamentos farmcia/enfermagem?","So aplicados os 13 (treze) certos da Medicao antes da administrao?","No momento da administrao de medicamentos de alta vigilncia  realizada a dupla checagem?","Evidncia de administrao de medicamentos de alta vigilncia realizada pelo profissional enfermeiro?","A identificao no rtulo de medicamento em curso est correta? (Identificao do paciente, droga infundida, dose, horrio de instalao e profissional responsvel)","Evidenciada reao adversa aps a administrao de medicamentos? Se sim, a conduta imediata foi adequada?"]},meta4:{title:"Meta 4: Cirurgia Segura",items:["Realizada conferncia dos dados do paciente com a pulseira de identificao?","Paciente sabe informar o procedimento cirrgico que ser realizado?","Stio cirrgico demarcado?","Presena de avaliao pr-anestsico?","Presena do termo de consentimento para a realizao da cirurgia e da anestesia devidamente preenchidos e assinados?","Os materiais necessrios esto presentes e dentro do prazo de esterilizao?","Paciente apresenta alergia? Se SIM, paciente em uso de pulseira de identificao vermelha?","Realizada conferncia do funcionamento do equipamento anestsico antes da entrada do paciente na sala operatria?","Necessidade de OPME ou materiais especiais, se SIM esto disponveis?","Risco de perda sangunea > 500 ml (7 ml/kg em crianas)? Se SIM, evidenciada a disponibilidade de hemocomponente?","Monitorizao instalada e funcionante (frequncia cardaca, presso arterial, oximetria)?","Cirurgio, anestesiologista e equipe de enfermagem confirmam verbalmente: Time out?","Realizado preenchimento completo do quadro de time out? (Obs. Avaliar tempo final da cirurgia no SAEP)","A profilaxia antimicrobiana foi realizada em at 60 minutos antes do inicio do procedimento cirrgico?","Realizada e evidenciada a contagem de compressas, gazes, agulhas e instrumentais antes/aps o procedimento cirrgico e antes do paciente sair da sala?","Identificada e registrada amostras para anlises clinicas e exame histopatolgico, quando houver?","Evidenciadas ocorrncias inesperadas (durao da operao/perda sangunea/problemas com materiais, equipamentos ou instrumentais / alergia medicamentosa)?","Registro completo do procedimento intraoperatrio, incluindo procedimento executado pelo mdico cirurgio?","Registro completo do procedimento pelo anestesiologista?","Presena do pronturio completo?","Acionado membro da equipe multi para avaliao do paciente, em caso de intercorrncias?","Alta do paciente realizada pelo anestesiologista?","Registro completo da evoluo cuidados de enfermagem?","Paciente com necessidade de uso de antibitico teraputico?"]},meta4_1:{title:"Meta 4.1: Parto Seguro",items:["Realizada conferncia dos dados do paciente com a pulseira de identificao?","Paciente sabe informar o procedimento cirrgico que ser realizado?","Me com necessidade de transferncia hospitalar?","Partograma iniciado (somente caso de parto normal)?","Presena de avaliao pr anestsica?","Presena do termo de consentimento para a realizao da cirurgia e da anestesia devidamente preenchidos e assinados?","Paciente apresenta alergia? Se SIM, paciente em uso de pulseira de identificao vermelha?","Paciente com indicao de uso de antibitico? (Ex. Bolsa rota - Obrigatrio Conforme protocolo)","Paciente com indicao de uso de sulfato de magnsio e/ou tratamento anti hipertensivo? (ex. DHEG)","Acompanhante incentivado a estar presente no parto?","Realizada orientao ao acompanhante quanto a proibio do uso de adornos na unidade e orientaes gerais do CC?","Confirmar que a paciente ou acompanhante pediro ajuda durante o parto, se necessrio (dor abdominal/dor de cabea forte ou distrbio visual), nos casos de parto normal","Monitorizao instalada e funcionante (frequncia cardaca, presso arterial, oximetria)?","Ginecologista, anestesiologista, pediatra e equipe de enfermagem confirmam verbalmente: Time out realizado?","Os materiais necessrios esto presentes e dentro do prazo de esterilizao?","Realizado preenchimento completo do quadro de time out? (Obs. Avaliar tempo final da cirurgia no SAEP)","A profilaxia antimicrobiana foi realizada em at 60 minutos antes do inicio do procedimento cirrgico?","Realizada conferncia do funcionamento do equipamento anestsico antes da entrada do paciente na sala operatria?","Confirmada a existncia de material necessrio para os cuidados do RN?","Realizada e evidenciada a contagem de compressas, gazes, agulhas e instrumentais antes/aps o procedimento cirrgico e antes do paciente sair da sala?","Paciente apresenta sangramento anormal?","Paciente com necessidade de uso de antibitico?","Paciente com indicao de uso de sulfato de magnsio e/ou tratamento anti-hipertensivo? (Ex. DHEG)","RN com indicao de transferncia hospitalar?","RN com indicao de uso de antibitico?","RN com necessidade de cuidados especiais e monitorizao?","Amamentao e contacto pele com pele iniciados (se a me estiver bem, e aps exames HIV e VDRL)?","Alta da RPA realizada pelo mdico anestesista?","Paciente com necessidade de uso de antibitico?","Confirmado com a paciente / acompanhantes pediro ajuda, se houver sinais de perigo? (Observar orientaes da equipe)","Paciente apresenta intercorrncias? Se SIM, adiar a alta e tratar","RN com indicao de uso de antibitico, caso necessrio?","RN em aleitamento materno exclusivo?","Evidencia em pronturio que o RN tem boa pega e suco e foi orientada quanto aleitamento materno exclusivo?"]},meta5:{title:"Meta 5: Higienizao das Mos",items:["Realizado higienizao das mos antes do contato com paciente - Tcnica e tempo adequados","Realizado higienizao das mos antes de procedimentos asspticos - Tcnica e tempo adequados","Realizado higienizao das mos aps contato com fluidos corpreos - Tcnica e tempo adequados","Realizado higienizao das mos aps contato com os pacientes - Tcnica e tempo adequados","Realizado higienizao das mos aps reas prxima a pacientes - Tcnica e tempo adequados"]},meta6:{title:"Meta 6: Preveno de Queda",items:["Paciente foi avaliado na admisso quanto ao risco de queda de acordo com escala adequada? (Morse ou Humpty Dumpty)","Paciente est sendo avaliado diariamente, com evidncias em pronturio de sua reclassificao?","Paciente identificado de acordo com classificao de risco de queda (Pulseira lils)","As medidas bsicas de segurana quanto ao risco de queda esto devidamente aplicadas? (Grades do leito/maca elevadas, rodas de cadeira de rodas/maca travados, piso molhado sinalizado, paciente acompanhado, uso de coxins de proteo, entre outros).","Evidenciado que paciente e acompanhante esto cientes do risco de queda?","Prescrio de Enfermagem est de acordo com o Protocolo de Preveno de Quedas?","Evidenciado em pronturio que a prescrio de Enfermagem est sendo cumprida? (Checagem dos cuidados)"]},meta6_1:{title:"Meta 6.1: Reduzir Risco de Leso por Presso (LPP)",items:["Paciente foi avaliado na admisso quanto ao risco de LPP de acordo com escala adequada? (Braden ou Braden Q)","So avaliados fatores chaves para o desenvolvimento de LPP (Percepo sensorial, umidade, atividade, mobilidade, nutrio, frico e cisalhamento)?","Paciente est sendo avaliado diariamente, com evidncias em pronturio de sua reclassificao?","A Prescrio de Enfermagem est de acordo com o Protocolo de Preveno de Leso de Presso?","Evidenciado sistemtica de controle para mudana de decbito? (Uso do relgio)","Possui mecanismo para minimizar a redistribuio da presso (proeminncias sseas, pele e mobilidade)?","Possui mecanismo para minimizar a redistribuio da presso (proeminncias sseas aparentes, pele debilitada e mobilidade reduzida)?","Evidenciada sistemtica de descompresso? (uso de coxim para elevao de calcneo e cabea, uso de colcho pneumtico, terapia multicamada, elevao da bolsa escrotal, etc)","Presso e fixao de dispositivos mdicos,  adequada? (troca diria e sem sujidades de TOT, TQT, GTT, SVD e dispositivo urinrio externo)","Est definido a conduta tcnica para cada tipo de leso de pele e LPP?"," realizada avaliao nutricional aos pacientes classificados com risco de LPP de acordo com o protocolo?"]}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function su(r){return r+.5|0}const ra=(r,e,t)=>Math.max(Math.min(r,t),e);function ah(r){return ra(su(r*2.55),0,255)}function da(r){return ra(su(r*255),0,255)}function fs(r){return ra(su(r/2.55)/100,0,1)}function PB(r){return ra(su(r*100),0,100)}const Ui={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vw=[..."0123456789ABCDEF"],WN=r=>Vw[r&15],YN=r=>Vw[(r&240)>>4]+Vw[r&15],fd=r=>(r&240)>>4===(r&15),JN=r=>fd(r.r)&&fd(r.g)&&fd(r.b)&&fd(r.a);function XN(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Ui[r[1]]*17,g:255&Ui[r[2]]*17,b:255&Ui[r[3]]*17,a:e===5?Ui[r[4]]*17:255}:(e===7||e===9)&&(t={r:Ui[r[1]]<<4|Ui[r[2]],g:Ui[r[3]]<<4|Ui[r[4]],b:Ui[r[5]]<<4|Ui[r[6]],a:e===9?Ui[r[7]]<<4|Ui[r[8]]:255})),t}const ZN=(r,e)=>r<255?e(r):"";function eP(r){var e=JN(r)?WN:YN;return r?"#"+e(r.r)+e(r.g)+e(r.b)+ZN(r.a,e):void 0}const tP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _S(r,e,t){const n=e*Math.min(t,1-t),i=(o,s=(o+r/30)%12)=>t-n*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function nP(r,e,t){const n=(i,o=(i+r/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function rP(r,e,t){const n=_S(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function iP(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function ev(r){const t=r.r/255,n=r.g/255,i=r.b/255,o=Math.max(t,n,i),s=Math.min(t,n,i),a=(o+s)/2;let A,c,l;return o!==s&&(l=o-s,c=a>.5?l/(2-o-s):l/(o+s),A=iP(t,n,i,l,o),A=A*60+.5),[A|0,c||0,a]}function tv(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(da)}function nv(r,e,t){return tv(_S,r,e,t)}function oP(r,e,t){return tv(rP,r,e,t)}function sP(r,e,t){return tv(nP,r,e,t)}function kS(r){return(r%360+360)%360}function aP(r){const e=tP.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?ah(+e[5]):da(+e[5]));const i=kS(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=oP(i,o,s):e[1]==="hsv"?n=sP(i,o,s):n=nv(i,o,s),{r:n[0],g:n[1],b:n[2],a:t}}function AP(r,e){var t=ev(r);t[0]=kS(t[0]+e),t=nv(t),r.r=t[0],r.g=t[1],r.b=t[2]}function cP(r){if(!r)return;const e=ev(r),t=e[0],n=PB(e[1]),i=PB(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${fs(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const LB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},OB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lP(){const r={},e=Object.keys(OB),t=Object.keys(LB);let n,i,o,s,a;for(n=0;n<e.length;n++){for(s=a=e[n],i=0;i<t.length;i++)o=t[i],a=a.replace(o,LB[o]);o=parseInt(OB[s],16),r[a]=[o>>16&255,o>>8&255,o&255]}return r}let gd;function hP(r){gd||(gd=lP(),gd.transparent=[0,0,0,0]);const e=gd[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dP(r){const e=uP.exec(r);let t=255,n,i,o;if(e){if(e[7]!==n){const s=+e[7];t=e[8]?ah(s):ra(s*255,0,255)}return n=+e[1],i=+e[3],o=+e[5],n=255&(e[2]?ah(n):ra(n,0,255)),i=255&(e[4]?ah(i):ra(i,0,255)),o=255&(e[6]?ah(o):ra(o,0,255)),{r:n,g:i,b:o,a:t}}}function fP(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${fs(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const fm=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,lc=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function gP(r,e,t){const n=lc(fs(r.r)),i=lc(fs(r.g)),o=lc(fs(r.b));return{r:da(fm(n+t*(lc(fs(e.r))-n))),g:da(fm(i+t*(lc(fs(e.g))-i))),b:da(fm(o+t*(lc(fs(e.b))-o))),a:r.a+t*(e.a-r.a)}}function pd(r,e,t){if(r){let n=ev(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=nv(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function FS(r,e){return r&&Object.assign(e||{},r)}function MB(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=da(r[3]))):(e=FS(r,{r:0,g:0,b:0,a:1}),e.a=da(e.a)),e}function pP(r){return r.charAt(0)==="r"?dP(r):aP(r)}class Qh{constructor(e){if(e instanceof Qh)return e;const t=typeof e;let n;t==="object"?n=MB(e):t==="string"&&(n=XN(e)||hP(e)||pP(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=FS(this._rgb);return e&&(e.a=fs(e.a)),e}set rgb(e){this._rgb=MB(e)}rgbString(){return this._valid?fP(this._rgb):void 0}hexString(){return this._valid?eP(this._rgb):void 0}hslString(){return this._valid?cP(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let o;const s=t===o?.5:t,a=2*s-1,A=n.a-i.a,c=((a*A===-1?a:(a+A)/(1+a*A))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=gP(this._rgb,e._rgb,t)),this}clone(){return new Qh(this.rgb)}alpha(e){return this._rgb.a=da(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=su(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return pd(this._rgb,2,e),this}darken(e){return pd(this._rgb,2,-e),this}saturate(e){return pd(this._rgb,1,e),this}desaturate(e){return pd(this._rgb,1,-e),this}rotate(e){return AP(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function os(){}const mP=(()=>{let r=0;return()=>r++})();function St(r){return r==null}function wn(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function kt(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function kn(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function gi(r,e){return kn(r)?r:e}function mt(r,e){return typeof r>"u"?e:r}const wP=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,US=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function an(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function qt(r,e,t,n){let i,o,s;if(wn(r))for(o=r.length,i=0;i<o;i++)e.call(t,r[i],i);else if(kt(r))for(s=Object.keys(r),o=s.length,i=0;i<o;i++)e.call(t,r[s[i]],s[i])}function qf(r,e){let t,n,i,o;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function $f(r){if(wn(r))return r.map($f);if(kt(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=$f(r[t[i]]);return e}return r}function xS(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function CP(r,e,t,n){if(!xS(r))return;const i=e[r],o=t[r];kt(i)&&kt(o)?Hh(i,o,n):e[r]=$f(o)}function Hh(r,e,t){const n=wn(e)?e:[e],i=n.length;if(!kt(r))return r;t=t||{};const o=t.merger||CP;let s;for(let a=0;a<i;++a){if(s=n[a],!kt(s))continue;const A=Object.keys(s);for(let c=0,l=A.length;c<l;++c)o(A[c],r,s,t)}return r}function Ih(r,e){return Hh(r,e,{merger:yP})}function yP(r,e,t){if(!xS(r))return;const n=e[r],i=t[r];kt(n)&&kt(i)?Ih(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=$f(i))}const QB={"":r=>r,x:r=>r.x,y:r=>r.y};function vP(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function BP(r){const e=vP(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Ca(r,e){return(QB[e]||(QB[e]=BP(e)))(r)}function rv(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Dh=r=>typeof r<"u",ya=r=>typeof r=="function",HB=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function bP(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Pt=Math.PI,un=2*Pt,IP=un+Pt,jf=Number.POSITIVE_INFINITY,EP=Pt/180,Hn=Pt/2,Va=Pt/4,DB=Pt*2/3,ia=Math.log10,Oo=Math.sign;function Eh(r,e,t){return Math.abs(r-e)<t}function KB(r){const e=Math.round(r);r=Eh(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(ia(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function SP(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function TP(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function rl(r){return!TP(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function _P(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function RS(r,e,t){let n,i,o;for(n=0,i=r.length;n<i;n++)o=r[n][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function eo(r){return r*(Pt/180)}function iv(r){return r*(180/Pt)}function GB(r){if(!kn(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function NS(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let o=Math.atan2(n,t);return o<-.5*Pt&&(o+=un),{angle:o,distance:i}}function qw(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function kP(r,e){return(r-e+IP)%un-Pt}function Ur(r){return(r%un+un)%un}function Kh(r,e,t,n){const i=Ur(r),o=Ur(e),s=Ur(t),a=Ur(o-i),A=Ur(s-i),c=Ur(i-o),l=Ur(i-s);return i===o||i===s||n&&o===s||a>A&&c<l}function lr(r,e,t){return Math.max(e,Math.min(t,r))}function FP(r){return lr(r,-32768,32767)}function ws(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function ov(r,e,t){t=t||(s=>r[s]<e);let n=r.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,t(o)?i=o:n=o;return{lo:i,hi:n}}const Cs=(r,e,t,n)=>ov(r,t,n?i=>{const o=r[i][e];return o<t||o===t&&r[i+1][e]===t}:i=>r[i][e]<t),UP=(r,e,t)=>ov(r,t,n=>r[n][e]>=t);function xP(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const PS=["push","pop","shift","splice","unshift"];function RP(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),PS.forEach(t=>{const n="_onData"+rv(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...o){const s=i.apply(this,o);return r._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),s}})})}function VB(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(PS.forEach(o=>{delete r[o]}),delete r._chartjs)}function LS(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const OS=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function MS(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,OS.call(window,()=>{n=!1,r.apply(e,t)}))}}function NP(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const sv=r=>r==="start"?"left":r==="end"?"right":"center",kr=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,PP=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function QS(r,e,t){const n=e.length;let i=0,o=n;if(r._sorted){const{iScale:s,vScale:a,_parsed:A}=r,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,l=s.axis,{min:u,max:d,minDefined:f,maxDefined:m}=s.getUserBounds();if(f){if(i=Math.min(Cs(A,l,u).lo,t?n:Cs(e,l,s.getPixelForValue(u)).lo),c){const w=A.slice(0,i+1).reverse().findIndex(B=>!St(B[a.axis]));i-=Math.max(0,w)}i=lr(i,0,n-1)}if(m){let w=Math.max(Cs(A,s.axis,d,!0).hi+1,t?0:Cs(e,l,s.getPixelForValue(d),!0).hi+1);if(c){const B=A.slice(w-1).findIndex(y=>!St(y[a.axis]));w+=Math.max(0,B)}o=lr(w,i,n)-i}else o=n-i}return{start:i,count:o}}function HS(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),o}const md=r=>r===0||r===1,qB=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*un/t)),$B=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*un/t)+1,Sh={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Hn)+1,easeOutSine:r=>Math.sin(r*Hn),easeInOutSine:r=>-.5*(Math.cos(Pt*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>md(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>md(r)?r:qB(r,.075,.3),easeOutElastic:r=>md(r)?r:$B(r,.075,.3),easeInOutElastic(r){return md(r)?r:r<.5?.5*qB(r*2,.1125,.45):.5+.5*$B(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-Sh.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Sh.easeInBounce(r*2)*.5:Sh.easeOutBounce(r*2-1)*.5+.5};function av(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jB(r){return av(r)?r:new Qh(r)}function gm(r){return av(r)?r:new Qh(r).saturate(.5).darken(.1).hexString()}const LP=["x","y","borderWidth","radius","tension"],OP=["color","borderColor","backgroundColor"];function MP(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:OP},numbers:{type:"number",properties:LP}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function QP(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zB=new Map;function HP(r,e){e=e||{};const t=r+JSON.stringify(e);let n=zB.get(t);return n||(n=new Intl.NumberFormat(r,e),zB.set(t,n)),n}function au(r,e,t){return HP(e,t).format(r)}const DS={values(r){return wn(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,o=r;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=DP(r,t)}const s=ia(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),A={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(A,this.options.ticks.format),au(r,n,A)},logarithmic(r,e,t){if(r===0)return"0";const n=t[e].significand||r/Math.pow(10,Math.floor(ia(r)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?DS.numeric.call(this,r,e,t):""}};function DP(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var xg={formatters:DS};function KP(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vA=Object.create(null),$w=Object.create(null);function Th(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const o=t[n];r=r[o]||(r[o]=Object.create(null))}return r}function pm(r,e,t){return typeof e=="string"?Hh(Th(r,e),t):Hh(Th(r,""),e)}class GP{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>gm(i.backgroundColor),this.hoverBorderColor=(n,i)=>gm(i.borderColor),this.hoverColor=(n,i)=>gm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return pm(this,e,t)}get(e){return Th(this,e)}describe(e,t){return pm($w,e,t)}override(e,t){return pm(vA,e,t)}route(e,t,n,i){const o=Th(this,e),s=Th(this,n),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const A=this[a],c=s[i];return kt(A)?Object.assign({},c,A):mt(A,c)},set(A){this[a]=A}}})}apply(e){e.forEach(t=>t(this))}}var Cn=new GP({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[MP,QP,KP]);function VP(r){return!r||St(r.size)||St(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function zf(r,e,t,n,i){let o=e[i];return o||(o=e[i]=r.measureText(i).width,t.push(i)),o>n&&(n=o),n}function qP(r,e,t,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},o=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let s=0;const a=t.length;let A,c,l,u,d;for(A=0;A<a;A++)if(u=t[A],u!=null&&!wn(u))s=zf(r,i,o,s,u);else if(wn(u))for(c=0,l=u.length;c<l;c++)d=u[c],d!=null&&!wn(d)&&(s=zf(r,i,o,s,d));r.restore();const f=o.length/2;if(f>t.length){for(A=0;A<f;A++)delete i[o[A]];o.splice(0,f)}return s}function qa(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function WB(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function jw(r,e,t,n){KS(r,e,t,n,null)}function KS(r,e,t,n,i){let o,s,a,A,c,l,u,d;const f=e.pointStyle,m=e.rotation,w=e.radius;let B=(m||0)*EP;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(B),r.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),r.restore();return}if(!(isNaN(w)||w<=0)){switch(r.beginPath(),f){default:i?r.ellipse(t,n,i/2,w,0,0,un):r.arc(t,n,w,0,un),r.closePath();break;case"triangle":l=i?i/2:w,r.moveTo(t+Math.sin(B)*l,n-Math.cos(B)*w),B+=DB,r.lineTo(t+Math.sin(B)*l,n-Math.cos(B)*w),B+=DB,r.lineTo(t+Math.sin(B)*l,n-Math.cos(B)*w),r.closePath();break;case"rectRounded":c=w*.516,A=w-c,s=Math.cos(B+Va)*A,u=Math.cos(B+Va)*(i?i/2-c:A),a=Math.sin(B+Va)*A,d=Math.sin(B+Va)*(i?i/2-c:A),r.arc(t-u,n-a,c,B-Pt,B-Hn),r.arc(t+d,n-s,c,B-Hn,B),r.arc(t+u,n+a,c,B,B+Hn),r.arc(t-d,n+s,c,B+Hn,B+Pt),r.closePath();break;case"rect":if(!m){A=Math.SQRT1_2*w,l=i?i/2:A,r.rect(t-l,n-A,2*l,2*A);break}B+=Va;case"rectRot":u=Math.cos(B)*(i?i/2:w),s=Math.cos(B)*w,a=Math.sin(B)*w,d=Math.sin(B)*(i?i/2:w),r.moveTo(t-u,n-a),r.lineTo(t+d,n-s),r.lineTo(t+u,n+a),r.lineTo(t-d,n+s),r.closePath();break;case"crossRot":B+=Va;case"cross":u=Math.cos(B)*(i?i/2:w),s=Math.cos(B)*w,a=Math.sin(B)*w,d=Math.sin(B)*(i?i/2:w),r.moveTo(t-u,n-a),r.lineTo(t+u,n+a),r.moveTo(t+d,n-s),r.lineTo(t-d,n+s);break;case"star":u=Math.cos(B)*(i?i/2:w),s=Math.cos(B)*w,a=Math.sin(B)*w,d=Math.sin(B)*(i?i/2:w),r.moveTo(t-u,n-a),r.lineTo(t+u,n+a),r.moveTo(t+d,n-s),r.lineTo(t-d,n+s),B+=Va,u=Math.cos(B)*(i?i/2:w),s=Math.cos(B)*w,a=Math.sin(B)*w,d=Math.sin(B)*(i?i/2:w),r.moveTo(t-u,n-a),r.lineTo(t+u,n+a),r.moveTo(t+d,n-s),r.lineTo(t-d,n+s);break;case"line":s=i?i/2:Math.cos(B)*w,a=Math.sin(B)*w,r.moveTo(t-s,n-a),r.lineTo(t+s,n+a);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(B)*(i?i/2:w),n+Math.sin(B)*w);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function ys(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function Rg(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function Ng(r){r.restore()}function $P(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const o=(e.x+t.x)/2;r.lineTo(o,e.y),r.lineTo(o,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function jP(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function zP(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),St(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function WP(r,e,t,n,i){if(i.strikethrough||i.underline){const o=r.measureText(n),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,A=t-o.actualBoundingBoxAscent,c=t+o.actualBoundingBoxDescent,l=i.strikethrough?(A+c)/2:c;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(s,l),r.lineTo(a,l),r.stroke()}}function YP(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function BA(r,e,t,n,i,o={}){const s=wn(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let A,c;for(r.save(),r.font=i.string,zP(r,o),A=0;A<s.length;++A)c=s[A],o.backdrop&&YP(r,o.backdrop),a&&(o.strokeColor&&(r.strokeStyle=o.strokeColor),St(o.strokeWidth)||(r.lineWidth=o.strokeWidth),r.strokeText(c,t,n,o.maxWidth)),r.fillText(c,t,n,o.maxWidth),WP(r,t,n,c,o),n+=Number(i.lineHeight);r.restore()}function Gh(r,e){const{x:t,y:n,w:i,h:o,radius:s}=e;r.arc(t+s.topLeft,n+s.topLeft,s.topLeft,1.5*Pt,Pt,!0),r.lineTo(t,n+o-s.bottomLeft),r.arc(t+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,Pt,Hn,!0),r.lineTo(t+i-s.bottomRight,n+o),r.arc(t+i-s.bottomRight,n+o-s.bottomRight,s.bottomRight,Hn,0,!0),r.lineTo(t+i,n+s.topRight),r.arc(t+i-s.topRight,n+s.topRight,s.topRight,0,-Hn,!0),r.lineTo(t+s.topLeft,n)}const JP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZP(r,e){const t=(""+r).match(JP);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const eL=r=>+r||0;function Av(r,e){const t={},n=kt(e),i=n?Object.keys(e):e,o=kt(r)?n?s=>mt(r[s],r[e[s]]):s=>r[s]:()=>r;for(const s of i)t[s]=eL(o(s));return t}function GS(r){return Av(r,{top:"y",right:"x",bottom:"y",left:"x"})}function hA(r){return Av(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Mr(r){const e=GS(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wn(r,e){r=r||{},e=e||Cn.font;let t=mt(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=mt(r.style,e.style);n&&!(""+n).match(XP)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:mt(r.family,e.family),lineHeight:ZP(mt(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:mt(r.weight,e.weight),string:""};return i.string=VP(i),i}function Ah(r,e,t,n){let i,o,s;for(i=0,o=r.length;i<o;++i)if(s=r[i],s!==void 0&&s!==void 0)return s}function tL(r,e,t){const{min:n,max:i}=r,o=US(e,(i-n)/2),s=(a,A)=>t&&a===0?0:a+A;return{min:s(n,-Math.abs(o)),max:s(i,o)}}function Sa(r,e){return Object.assign(Object.create(r),e)}function cv(r,e=[""],t,n,i=()=>r[0]){const o=t||r;typeof n>"u"&&(n=jS("_fallback",r));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>cv([a,...r],e,o,n)};return new Proxy(s,{deleteProperty(a,A){return delete a[A],delete a._keys,delete r[0][A],!0},get(a,A){return qS(a,A,()=>cL(A,e,r,a))},getOwnPropertyDescriptor(a,A){return Reflect.getOwnPropertyDescriptor(a._scopes[0],A)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(a,A){return JB(a).includes(A)},ownKeys(a){return JB(a)},set(a,A,c){const l=a._storage||(a._storage=i());return a[A]=l[A]=c,delete a._keys,!0}})}function il(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:VS(r,n),setContext:o=>il(r,o,t,n),override:o=>il(r.override(o),e,t,n)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete r[s],!0},get(o,s,a){return qS(o,s,()=>rL(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(r,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,s)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(o,s){return Reflect.has(r,s)},ownKeys(){return Reflect.ownKeys(r)},set(o,s,a){return r[s]=a,delete o[s],!0}})}function VS(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:ya(t)?t:()=>t,isIndexable:ya(n)?n:()=>n}}const nL=(r,e)=>r?r+rv(e):e,lv=(r,e)=>kt(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qS(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function rL(r,e,t){const{_proxy:n,_context:i,_subProxy:o,_descriptors:s}=r;let a=n[e];return ya(a)&&s.isScriptable(e)&&(a=iL(e,a,r,t)),wn(a)&&a.length&&(a=oL(e,a,r,s.isIndexable)),lv(e,a)&&(a=il(a,i,o&&o[e],s)),a}function iL(r,e,t,n){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(r))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+r);a.add(r);let A=e(o,s||n);return a.delete(r),lv(r,A)&&(A=hv(i._scopes,i,r,A)),A}function oL(r,e,t,n){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&n(r))return e[o.index%e.length];if(kt(e[0])){const A=e,c=i._scopes.filter(l=>l!==A);e=[];for(const l of A){const u=hv(c,i,r,l);e.push(il(u,o,s&&s[r],a))}}return e}function $S(r,e,t){return ya(r)?r(e,t):r}const sL=(r,e)=>r===!0?e:typeof r=="string"?Ca(e,r):void 0;function aL(r,e,t,n,i){for(const o of e){const s=sL(t,o);if(s){r.add(s);const a=$S(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==n)return a}else if(s===!1&&typeof n<"u"&&t!==n)return null}return!1}function hv(r,e,t,n){const i=e._rootScopes,o=$S(e._fallback,t,n),s=[...r,...i],a=new Set;a.add(n);let A=YB(a,s,t,o||t,n);return A===null||typeof o<"u"&&o!==t&&(A=YB(a,s,o,A,n),A===null)?!1:cv(Array.from(a),[""],i,o,()=>AL(e,t,n))}function YB(r,e,t,n,i){for(;t;)t=aL(r,e,t,n,i);return t}function AL(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return wn(i)&&kt(t)?t:i||{}}function cL(r,e,t,n){let i;for(const o of e)if(i=jS(nL(o,r),t),typeof i<"u")return lv(r,i)?hv(t,n,r,i):i}function jS(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function JB(r){let e=r._keys;return e||(e=r._keys=lL(r._scopes)),e}function lL(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function zS(r,e,t,n){const{iScale:i}=r,{key:o="r"}=this._parsing,s=new Array(n);let a,A,c,l;for(a=0,A=n;a<A;++a)c=a+t,l=e[c],s[a]={r:i.parse(Ca(l,o),c)};return s}const hL=Number.EPSILON||1e-14,ol=(r,e)=>e<r.length&&!r[e].skip&&r[e],WS=r=>r==="x"?"y":"x";function uL(r,e,t,n){const i=r.skip?e:r,o=e,s=t.skip?e:t,a=qw(o,i),A=qw(s,o);let c=a/(a+A),l=A/(a+A);c=isNaN(c)?0:c,l=isNaN(l)?0:l;const u=n*c,d=n*l;return{previous:{x:o.x-u*(s.x-i.x),y:o.y-u*(s.y-i.y)},next:{x:o.x+d*(s.x-i.x),y:o.y+d*(s.y-i.y)}}}function dL(r,e,t){const n=r.length;let i,o,s,a,A,c=ol(r,0);for(let l=0;l<n-1;++l)if(A=c,c=ol(r,l+1),!(!A||!c)){if(Eh(e[l],0,hL)){t[l]=t[l+1]=0;continue}i=t[l]/e[l],o=t[l+1]/e[l],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[l]=i*s*e[l],t[l+1]=o*s*e[l])}}function fL(r,e,t="x"){const n=WS(t),i=r.length;let o,s,a,A=ol(r,0);for(let c=0;c<i;++c){if(s=a,a=A,A=ol(r,c+1),!a)continue;const l=a[t],u=a[n];s&&(o=(l-s[t])/3,a[`cp1${t}`]=l-o,a[`cp1${n}`]=u-o*e[c]),A&&(o=(A[t]-l)/3,a[`cp2${t}`]=l+o,a[`cp2${n}`]=u+o*e[c])}}function gL(r,e="x"){const t=WS(e),n=r.length,i=Array(n).fill(0),o=Array(n);let s,a,A,c=ol(r,0);for(s=0;s<n;++s)if(a=A,A=c,c=ol(r,s+1),!!A){if(c){const l=c[e]-A[e];i[s]=l!==0?(c[t]-A[t])/l:0}o[s]=a?c?Oo(i[s-1])!==Oo(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}dL(r,i,o),fL(r,o,e)}function wd(r,e,t){return Math.max(Math.min(r,t),e)}function pL(r,e){let t,n,i,o,s,a=ys(r[0],e);for(t=0,n=r.length;t<n;++t)s=o,o=a,a=t<n-1&&ys(r[t+1],e),o&&(i=r[t],s&&(i.cp1x=wd(i.cp1x,e.left,e.right),i.cp1y=wd(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=wd(i.cp2x,e.left,e.right),i.cp2y=wd(i.cp2y,e.top,e.bottom)))}function mL(r,e,t,n,i){let o,s,a,A;if(e.spanGaps&&(r=r.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")gL(r,i);else{let c=n?r[r.length-1]:r[0];for(o=0,s=r.length;o<s;++o)a=r[o],A=uL(c,a,r[Math.min(o+1,s-(n?0:1))%s],e.tension),a.cp1x=A.previous.x,a.cp1y=A.previous.y,a.cp2x=A.next.x,a.cp2y=A.next.y,c=a}e.capBezierPoints&&pL(r,t)}function uv(){return typeof window<"u"&&typeof document<"u"}function dv(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wf(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const Pg=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function wL(r,e){return Pg(r).getPropertyValue(e)}const CL=["top","right","bottom","left"];function uA(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=CL[i];n[o]=parseFloat(r[e+"-"+o+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const yL=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function vL(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:o}=n;let s=!1,a,A;if(yL(i,o,r.target))a=i,A=o;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,A=n.clientY-c.top,s=!0}return{x:a,y:A,box:s}}function Ja(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=Pg(t),o=i.boxSizing==="border-box",s=uA(i,"padding"),a=uA(i,"border","width"),{x:A,y:c,box:l}=vL(r,t),u=s.left+(l&&a.left),d=s.top+(l&&a.top);let{width:f,height:m}=e;return o&&(f-=s.width+a.width,m-=s.height+a.height),{x:Math.round((A-u)/f*t.width/n),y:Math.round((c-d)/m*t.height/n)}}function BL(r,e,t){let n,i;if(e===void 0||t===void 0){const o=r&&dv(r);if(!o)e=r.clientWidth,t=r.clientHeight;else{const s=o.getBoundingClientRect(),a=Pg(o),A=uA(a,"border","width"),c=uA(a,"padding");e=s.width-c.width-A.width,t=s.height-c.height-A.height,n=Wf(a.maxWidth,o,"clientWidth"),i=Wf(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:n||jf,maxHeight:i||jf}}const Cd=r=>Math.round(r*10)/10;function bL(r,e,t,n){const i=Pg(r),o=uA(i,"margin"),s=Wf(i.maxWidth,r,"clientWidth")||jf,a=Wf(i.maxHeight,r,"clientHeight")||jf,A=BL(r,e,t);let{width:c,height:l}=A;if(i.boxSizing==="content-box"){const d=uA(i,"border","width"),f=uA(i,"padding");c-=f.width+d.width,l-=f.height+d.height}return c=Math.max(0,c-o.width),l=Math.max(0,n?c/n:l-o.height),c=Cd(Math.min(c,s,A.maxWidth)),l=Cd(Math.min(l,a,A.maxHeight)),c&&!l&&(l=Cd(c/2)),(e!==void 0||t!==void 0)&&n&&A.height&&l>A.height&&(l=A.height,c=Cd(Math.floor(l*n))),{width:c,height:l}}function XB(r,e,t){const n=e||1,i=Math.floor(r.height*n),o=Math.floor(r.width*n);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const s=r.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${r.height}px`,s.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||s.height!==i||s.width!==o?(r.currentDevicePixelRatio=n,s.height=i,s.width=o,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const IL=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};uv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function ZB(r,e){const t=wL(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Xa(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function EL(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function SL(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},o={x:e.cp1x,y:e.cp1y},s=Xa(r,i,t),a=Xa(i,o,t),A=Xa(o,e,t),c=Xa(s,a,t),l=Xa(a,A,t);return Xa(c,l,t)}const TL=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},_L=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function Vc(r,e,t){return r?TL(e,t):_L()}function YS(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function JS(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function XS(r){return r==="angle"?{between:Kh,compare:kP,normalize:Ur}:{between:ws,compare:(e,t)=>e-t,normalize:e=>e}}function eb({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function kL(r,e,t){const{property:n,start:i,end:o}=t,{between:s,normalize:a}=XS(n),A=e.length;let{start:c,end:l,loop:u}=r,d,f;if(u){for(c+=A,l+=A,d=0,f=A;d<f&&s(a(e[c%A][n]),i,o);++d)c--,l--;c%=A,l%=A}return l<c&&(l+=A),{start:c,end:l,loop:u,style:r.style}}function ZS(r,e,t){if(!t)return[r];const{property:n,start:i,end:o}=t,s=e.length,{compare:a,between:A,normalize:c}=XS(n),{start:l,end:u,loop:d,style:f}=kL(r,e,t),m=[];let w=!1,B=null,y,b,x;const O=()=>A(i,x,y)&&a(i,x)!==0,L=()=>a(o,y)===0||A(o,x,y),K=()=>w||O(),H=()=>!w||L();for(let P=l,q=l;P<=u;++P)b=e[P%s],!b.skip&&(y=c(b[n]),y!==x&&(w=A(y,i,o),B===null&&K()&&(B=a(y,i)===0?P:q),B!==null&&H()&&(m.push(eb({start:B,end:P,loop:d,count:s,style:f})),B=null),q=P,x=y));return B!==null&&m.push(eb({start:B,end:u,loop:d,count:s,style:f})),m}function eT(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const o=ZS(n[i],r.points,e);o.length&&t.push(...o)}return t}function FL(r,e,t,n){let i=0,o=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&r[o%e].skip;)o--;return o%=e,{start:i,end:o}}function UL(r,e,t,n){const i=r.length,o=[];let s=e,a=r[e],A;for(A=e+1;A<=t;++A){const c=r[A%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:e%i,end:(A-1)%i,loop:n}),e=s=c.stop?A:null):(s=A,a.skip&&(e=A)),a=c}return s!==null&&o.push({start:e%i,end:s%i,loop:n}),o}function xL(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const o=!!r._loop,{start:s,end:a}=FL(t,i,o,n);if(n===!0)return tb(r,[{start:s,end:a,loop:o}],t,e);const A=a<s?a+i:a,c=!!r._fullLoop&&s===0&&a===i-1;return tb(r,UL(t,s,A,c),t,e)}function tb(r,e,t,n){return!n||!n.setContext||!t?e:RL(r,e,t,n)}function RL(r,e,t,n){const i=r._chart.getContext(),o=nb(r.options),{_datasetIndex:s,options:{spanGaps:a}}=r,A=t.length,c=[];let l=o,u=e[0].start,d=u;function f(m,w,B,y){const b=a?-1:1;if(m!==w){for(m+=A;t[m%A].skip;)m-=b;for(;t[w%A].skip;)w+=b;m%A!==w%A&&(c.push({start:m%A,end:w%A,loop:B,style:y}),l=y,u=w%A)}}for(const m of e){u=a?u:m.start;let w=t[u%A],B;for(d=u+1;d<=m.end;d++){const y=t[d%A];B=nb(n.setContext(Sa(i,{type:"segment",p0:w,p1:y,p0DataIndex:(d-1)%A,p1DataIndex:d%A,datasetIndex:s}))),NL(B,l)&&f(u,d-1,m.loop,l),w=y,l=B}u<d-1&&f(u,d-1,m.loop,l)}return c}function nb(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function NL(r,e){if(!e)return!1;const t=[],n=function(i,o){return av(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function yd(r,e,t){return r.options.clip?r[t]:e[t]}function PL(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:yd(t,e,"left"),right:yd(t,e,"right"),top:yd(n,e,"top"),bottom:yd(n,e,"bottom")}:e}function tT(r,e){const t=e._clip;if(t.disabled)return!1;const n=PL(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=OS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let s=o.length-1,a=!1,A;for(;s>=0;--s)A=o[s],A._active?(A._total>n.duration&&(n.duration=A._total),A.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),o.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ls=new LL;const rb="transparent",OL={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=jB(r||rb),i=n.valid&&jB(e||rb);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class ML{constructor(e,t,n,i){const o=t[n];i=Ah([e.to,i,o,e.from]);const s=Ah([e.from,o,i]);this._active=!0,this._fn=e.fn||OL[e.type||typeof s],this._easing=Sh[e.easing]||Sh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ah([e.to,t,i,e.from]),this._from=Ah([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to;let A;if(this._active=o!==a&&(s||t<n),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}A=t/n%2,A=s&&A>1?2-A:A,A=this._easing(Math.min(1,Math.max(0,A))),this._target[i]=this._fn(o,a,A)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class nT{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!kt(e))return;const t=Object.keys(Cn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!kt(o))return;const s={};for(const a of t)s[a]=o[a];(wn(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,s)})})}_animateOptions(e,t){const n=t.options,i=HL(e,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&QL(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,t){const n=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let A;for(A=s.length-1;A>=0;--A){const c=s[A];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const l=t[c];let u=o[c];const d=n.get(c);if(u)if(d&&u.active()){u.update(d,l,a);continue}else u.cancel();if(!d||!d.duration){e[c]=l;continue}o[c]=u=new ML(d,e,c,l),i.push(u)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return ls.add(this._chart,n),!0}}function QL(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const o=r[n[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function HL(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ib(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:n?o:i,end:n?i:o}}function DL(r,e,t){if(t===!1)return!1;const n=ib(r,t),i=ib(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function KL(r){let e,t,n,i;return kt(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function rT(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,o;for(i=0,o=n.length;i<o;++i)t.push(n[i].index);return t}function ob(r,e,t,n={}){const i=r.keys,o=n.mode==="single";let s,a,A,c;if(e===null)return;let l=!1;for(s=0,a=i.length;s<a;++s){if(A=+i[s],A===t){if(l=!0,n.all)continue;break}c=r.values[A],kn(c)&&(o||e===0||Oo(e)===Oo(c))&&(e+=c)}return!l&&!n.all?0:e}function GL(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",s=Object.keys(r),a=new Array(s.length);let A,c,l;for(A=0,c=s.length;A<c;++A)l=s[A],a[A]={[i]:l,[o]:r[l]};return a}function mm(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function VL(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function qL(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function $L(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function sb(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const o=r[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function ab(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=n,A=o.axis,c=s.axis,l=VL(o,s,n),u=e.length;let d;for(let f=0;f<u;++f){const m=e[f],{[A]:w,[c]:B}=m,y=m._stacks||(m._stacks={});d=y[c]=$L(i,l,w),d[a]=B,d._top=sb(d,s,!0,n.type),d._bottom=sb(d,s,!1,n.type);const b=d._visualValues||(d._visualValues={});b[a]=B}}function wm(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function jL(r,e){return Sa(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zL(r,e,t){return Sa(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Wl(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const o=i._stacks;if(!o||o[n]===void 0||o[n][t]===void 0)return;delete o[n][t],o[n]._visualValues!==void 0&&o[n]._visualValues[t]!==void 0&&delete o[n]._visualValues[t]}}}const Cm=r=>r==="reset"||r==="none",Ab=(r,e)=>e?r:Object.assign({},r),WL=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:rT(t,!0),values:null};class no{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(u,d,f,m)=>u==="x"?d:u==="r"?m:f,o=t.xAxisID=mt(n.xAxisID,wm(e,"x")),s=t.yAxisID=mt(n.yAxisID,wm(e,"y")),a=t.rAxisID=mt(n.rAxisID,wm(e,"r")),A=t.indexAxis,c=t.iAxisID=i(A,o,s,a),l=t.vAxisID=i(A,s,o,a);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&VB(this._data,this),e._stacked&&Wl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(kt(t)){const i=this._cachedMeta;this._data=GL(t,i)}else if(n!==t){if(n){VB(n,this);const i=this._cachedMeta;Wl(i),i._parsed=[]}t&&Object.isExtensible(t)&&RP(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=mm(t.vScale,t),t.stack!==n.stack&&(i=!0,Wl(t),t.stack=n.stack),this._resyncElements(e),(i||o!==t._stacked)&&(ab(this,t._parsed),t._stacked=mm(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:s}=n,a=o.axis;let A=e===0&&t===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],l,u,d;if(this._parsing===!1)n._parsed=i,n._sorted=!0,d=i;else{wn(i[e])?d=this.parseArrayData(n,i,e,t):kt(i[e])?d=this.parseObjectData(n,i,e,t):d=this.parsePrimitiveData(n,i,e,t);const f=()=>u[a]===null||c&&u[a]<c[a];for(l=0;l<t;++l)n._parsed[l+e]=u=d[l],A&&(f()&&(A=!1),c=u);n._sorted=A}s&&ab(this,d)}parsePrimitiveData(e,t,n,i){const{iScale:o,vScale:s}=e,a=o.axis,A=s.axis,c=o.getLabels(),l=o===s,u=new Array(i);let d,f,m;for(d=0,f=i;d<f;++d)m=d+n,u[d]={[a]:l||o.parse(c[m],m),[A]:s.parse(t[m],m)};return u}parseArrayData(e,t,n,i){const{xScale:o,yScale:s}=e,a=new Array(i);let A,c,l,u;for(A=0,c=i;A<c;++A)l=A+n,u=t[l],a[A]={x:o.parse(u[0],l),y:s.parse(u[1],l)};return a}parseObjectData(e,t,n,i){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:A="y"}=this._parsing,c=new Array(i);let l,u,d,f;for(l=0,u=i;l<u;++l)d=l+n,f=t[d],c[l]={x:o.parse(Ca(f,a),d),y:s.parse(Ca(f,A),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,o=this._cachedMeta,s=t[e.axis],a={keys:rT(i,!0),values:t._stacks[e.axis]._visualValues};return ob(a,s,o.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const o=n[t.axis];let s=o===null?NaN:o;const a=i&&n._stacks[t.axis];i&&a&&(i.values=a,s=ob(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&e===n.iScale,s=i.length,a=this._getOtherScale(e),A=WL(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:u}=qL(a);let d,f;function m(){f=i[d];const w=f[a.axis];return!kn(f[e.axis])||l>w||u<w}for(d=0;d<s&&!(!m()&&(this.updateRangeFromParsed(c,e,f,A),o));++d);if(o){for(d=s-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,A);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,o,s;for(i=0,o=t.length;i<o;++i)s=t[i][e.axis],kn(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=KL(mt(this.options.clip,DL(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],o=t.chartArea,s=[],a=this._drawStart||0,A=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(e,o,a,A),l=a;l<a+A;++l){const u=i[l];u.hidden||(u.active&&c?s.push(u):u.draw(e,o))}for(l=0;l<s.length;++l)s[l].draw(e,o)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];o=s.$context||(s.$context=zL(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=jL(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",o=this._cachedDataOpts,s=e+"-"+t,a=o[s],A=this.enableOptionSharing&&Dh(n);if(a)return Ab(a,A);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),l),f=Object.keys(Cn.elements[e]),m=()=>this.getContext(n,i,t),w=c.resolveNamedOptions(d,f,m,u);return w.$shared&&(w.$shared=A,o[s]=Object.freeze(Ab(w,A))),w}_resolveAnimations(e,t,n){const i=this.chart,o=this._cachedDataOpts,s=`animation-${t}`,a=o[s];if(a)return a;let A;if(i.options.animation!==!1){const l=this.chart.config,u=l.datasetAnimationScopeKeys(this._type,t),d=l.getOptionScopes(this.getDataset(),u);A=l.createResolver(d,this.getContext(e,n,t))}const c=new nT(i,A&&A.animations);return A&&A._cacheable&&(o[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Cm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(n),s=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,n),{sharedOptions:o,includeOptions:s}}updateElement(e,t,n,i){Cm(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Cm(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,A,c]of this._syncList)this[a](A,c);this._syncList=[];const i=n.length,o=t.length,s=Math.min(o,i);s&&this.parse(0,s),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,n=!0){const i=this._cachedMeta,o=i.data,s=e+t;let a;const A=c=>{for(c.length+=t,a=c.length-1;a>=s;a--)c[a]=c[a-t]};for(A(o),a=e;a<s;++a)o[a]=new this.dataElementType;this._parsing&&A(i._parsed),this.parse(e,t),n&&this.updateElements(o,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Wl(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ne(no,"defaults",{}),Ne(no,"datasetElementType",null),Ne(no,"dataElementType",null);function YL(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let i=0,o=t.length;i<o;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=LS(n.sort((i,o)=>i-o))}return r._cache.$bar}function JL(r){const e=r.iScale,t=YL(e,r.type);let n=e._length,i,o,s,a;const A=()=>{s===32767||s===-32768||(Dh(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(i=0,o=t.length;i<o;++i)s=e.getPixelForValue(t[i]),A();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)s=e.getPixelForTick(i),A();return n}function XL(r,e,t,n){const i=t.barThickness;let o,s;return St(i)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=i*n,s=1),{chunk:o/n,ratio:s,start:e.pixels[r]-o/2}}function ZL(r,e,t,n){const i=e.pixels,o=i[r];let s=r>0?i[r-1]:null,a=r<i.length-1?i[r+1]:null;const A=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*A;return{chunk:Math.abs(a-s)/2*A/n,ratio:t.barPercentage,start:c}}function eO(r,e,t,n){const i=t.parse(r[0],n),o=t.parse(r[1],n),s=Math.min(i,o),a=Math.max(i,o);let A=s,c=a;Math.abs(s)>Math.abs(a)&&(A=a,c=s),e[t.axis]=c,e._custom={barStart:A,barEnd:c,start:i,end:o,min:s,max:a}}function iT(r,e,t,n){return wn(r)?eO(r,e,t,n):e[t.axis]=t.parse(r,n),e}function cb(r,e,t,n){const i=r.iScale,o=r.vScale,s=i.getLabels(),a=i===o,A=[];let c,l,u,d;for(c=t,l=t+n;c<l;++c)d=e[c],u={},u[i.axis]=a||i.parse(s[c],c),A.push(iT(d,u,o,c));return A}function ym(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function tO(r,e,t){return r!==0?Oo(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nO(r){let e,t,n,i,o;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:n,reverse:e,top:i,bottom:o}}function rO(r,e,t,n){let i=e.borderSkipped;const o={};if(!i){r.borderSkipped=o;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:a,reverse:A,top:c,bottom:l}=nO(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=c:(t._bottom||0)===n?i=l:(o[lb(l,s,a,A)]=!0,i=c)),o[lb(i,s,a,A)]=!0,r.borderSkipped=o}function lb(r,e,t,n){return n?(r=iO(r,e,t),r=hb(r,t,e)):r=hb(r,e,t),r}function iO(r,e,t){return r===e?t:r===t?e:r}function hb(r,e,t){return r==="start"?e:r==="end"?t:r}function oO(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class ff extends no{parsePrimitiveData(e,t,n,i){return cb(e,t,n,i)}parseArrayData(e,t,n,i){return cb(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:o,vScale:s}=e,{xAxisKey:a="x",yAxisKey:A="y"}=this._parsing,c=o.axis==="x"?a:A,l=s.axis==="x"?a:A,u=[];let d,f,m,w;for(d=n,f=n+i;d<f;++d)w=t[d],m={},m[o.axis]=o.parse(Ca(w,c),d),u.push(iT(Ca(w,l),m,s,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const o=n._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,o=this.getParsed(e),s=o._custom,a=ym(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const o=i==="reset",{index:s,_cachedMeta:{vScale:a}}=this,A=a.getBasePixel(),c=a.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let f=t;f<t+n;f++){const m=this.getParsed(f),w=o||St(m[a.axis])?{base:A,head:A}:this._calculateBarValuePixels(f),B=this._calculateBarIndexPixels(f,l),y=(m._stacks||{})[a.axis],b={horizontal:c,base:w.base,enableBorderRadius:!y||ym(m._custom)||s===y._top||s===y._bottom,x:c?w.head:B.center,y:c?B.center:w.head,height:c?B.size:Math.abs(w.size),width:c?Math.abs(w.size):B.size};d&&(b.options=u||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=b.options||e[f].options;rO(b,x,y,s),oO(b,x,l.ratio),this.updateElement(e[f],f,b,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),A=a&&a[n.axis],c=l=>{const u=l._parsed.find(f=>f[n.axis]===A),d=u&&u[l.vScale.axis];if(St(d)||isNaN(d))return!0};for(const l of i)if(!(t!==void 0&&c(l))&&((o===!1||s.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&s.push(l.stack),l.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[mt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),o=t!==void 0?i.indexOf(t):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let o,s;for(o=0,s=t.data.length;o<s;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=e.barThickness;return{min:a||JL(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:o,minBarLength:s}}=this,a=o||0,A=this.getParsed(e),c=A._custom,l=ym(c);let u=A[t.axis],d=0,f=n?this.applyStack(t,A,n):u,m,w;f!==u&&(d=f-u,f=u),l&&(u=c.barStart,f=c.barEnd-c.barStart,u!==0&&Oo(u)!==Oo(c.barEnd)&&(d=0),d+=u);const B=!St(o)&&!l?o:d;let y=t.getPixelForValue(B);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(d+f):m=y,w=m-y,Math.abs(w)<s){w=tO(w,t,a)*s,u===a&&(y-=w/2);const b=t.getPixelForDecimal(0),x=t.getPixelForDecimal(1),O=Math.min(b,x),L=Math.max(b,x);y=Math.max(Math.min(y,L),O),m=y+w,n&&!l&&(A._stacks[t.axis]._visualValues[i]=t.getValueForPixel(m)-t.getValueForPixel(y))}if(y===t.getPixelForValue(a)){const b=Oo(w)*t.getLineWidthForValue(a)/2;y+=b,w-=b}return{size:w,base:y,head:m,center:m+w/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,o=i.skipNull,s=mt(i.maxBarThickness,1/0);let a,A;const c=this._getAxisCount();if(t.grouped){const l=o?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?ZL(e,t,i,l*c):XL(e,t,i,l*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(mt(d,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+f;a=u.start+u.chunk*m+u.chunk/2,A=Math.min(s,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),A=Math.min(s,t.min*t.ratio);return{base:a-A/2,head:a+A/2,center:a,size:A}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[t.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}Ne(ff,"id","bar"),Ne(ff,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ne(ff,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class gf extends no{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const o=super.parsePrimitiveData(e,t,n,i);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+n).radius;return o}parseArrayData(e,t,n,i){const o=super.parseArrayData(e,t,n,i);for(let s=0;s<o.length;s++){const a=t[n+s];o[s]._custom=mt(a[2],this.resolveDataElementOptions(s+n).radius)}return o}parseObjectData(e,t,n,i){const o=super.parseObjectData(e,t,n,i);for(let s=0;s<o.length;s++){const a=t[n+s];o[s]._custom=mt(a&&a.r&&+a.r,this.resolveDataElementOptions(s+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=t,s=this.getParsed(e),a=i.getLabelForValue(s.x),A=o.getLabelForValue(s.y),c=s._custom;return{label:n[e]||"",value:"("+a+", "+A+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const o=i==="reset",{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:A,includeOptions:c}=this._getSharedOptions(t,i),l=s.axis,u=a.axis;for(let d=t;d<t+n;d++){const f=e[d],m=!o&&this.getParsed(d),w={},B=w[l]=o?s.getPixelForDecimal(.5):s.getPixelForValue(m[l]),y=w[u]=o?a.getBasePixel():a.getPixelForValue(m[u]);w.skip=isNaN(B)||isNaN(y),c&&(w.options=A||this.resolveDataElementOptions(d,f.active?"active":i),o&&(w.options.radius=0)),this.updateElement(f,d,w,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return t!=="active"&&(i.radius=0),i.radius+=mt(n&&n._custom,o),i}}Ne(gf,"id","bubble"),Ne(gf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ne(gf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function sO(r,e,t){let n=1,i=1,o=0,s=0;if(e<un){const a=r,A=a+e,c=Math.cos(a),l=Math.sin(a),u=Math.cos(A),d=Math.sin(A),f=(x,O,L)=>Kh(x,a,A,!0)?1:Math.max(O,O*t,L,L*t),m=(x,O,L)=>Kh(x,a,A,!0)?-1:Math.min(O,O*t,L,L*t),w=f(0,c,u),B=f(Hn,l,d),y=m(Pt,c,u),b=m(Pt+Hn,l,d);n=(w-y)/2,i=(B-b)/2,o=-(w+y)/2,s=-(B+b)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:s}}class oA extends no{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=A=>+n[A];if(kt(n[e])){const{key:A="value"}=this._parsing;o=c=>+Ca(n[c],A)}let s,a;for(s=e,a=e+t;s<a;++s)i._parsed[s]=o(s)}}_getRotation(){return eo(this.options.rotation-90)}_getCircumference(){return eo(this.options.circumference)}_getRotationExtents(){let e=un,t=-un;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),s=i._getCircumference();e=Math.min(e,o),t=Math.max(t,o+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,o=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),A=Math.min(wP(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:l,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:w}=sO(u,l,A),B=(n.width-s)/d,y=(n.height-s)/f,b=Math.max(Math.min(B,y)/2,0),x=US(this.options.radius,b),O=Math.max(x*A,0),L=(x-O)/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=w*x,i.total=this.calculateTotal(),this.outerRadius=x-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/un)}updateElements(e,t,n,i){const o=i==="reset",s=this.chart,a=s.chartArea,c=s.options.animation,l=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=o&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:w,includeOptions:B}=this._getSharedOptions(t,i);let y=this._getRotation(),b;for(b=0;b<t;++b)y+=this._circumference(b,o);for(b=t;b<t+n;++b){const x=this._circumference(b,o),O=e[b],L={x:l+this.offsetX,y:u+this.offsetY,startAngle:y,endAngle:y+x,circumference:x,outerRadius:m,innerRadius:f};B&&(L.options=w||this.resolveDataElementOptions(b,O.active?"active":i)),y+=x,this.updateElement(O,b,L,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?un*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=au(t._parsed[e],n.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,o,s,a,A;if(!e){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),e=s.data,a=s.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)A=a.resolveDataElementOptions(i),A.borderAlign!=="inner"&&(t=Math.max(t,A.borderWidth||0,A.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const o=this.resolveDataElementOptions(n);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(mt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ne(oA,"id","doughnut"),Ne(oA,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ne(oA,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ne(oA,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((o,s)=>{const A=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,fontColor:i,lineWidth:A.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class pf extends no{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=t,s=this.chart._animationsDisabled;let{start:a,count:A}=QS(t,i,s);this._drawStart=a,this._drawCount=A,HS(t)&&(a=0,A=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:c},e),this.updateElements(i,a,A,e)}updateElements(e,t,n,i){const o=i==="reset",{iScale:s,vScale:a,_stacked:A,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,i),d=s.axis,f=a.axis,{spanGaps:m,segment:w}=this.options,B=rl(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||i==="none",b=t+n,x=e.length;let O=t>0&&this.getParsed(t-1);for(let L=0;L<x;++L){const K=e[L],H=y?K:{};if(L<t||L>=b){H.skip=!0;continue}const P=this.getParsed(L),q=St(P[f]),ee=H[d]=s.getPixelForValue(P[d],L),F=H[f]=o||q?a.getBasePixel():a.getPixelForValue(A?this.applyStack(a,P,A):P[f],L);H.skip=isNaN(ee)||isNaN(F)||q,H.stop=L>0&&Math.abs(P[d]-O[d])>B,w&&(H.parsed=P,H.raw=c.data[L]),u&&(H.options=l||this.resolveDataElementOptions(L,K.active?"active":i)),y||this.updateElement(K,L,H,i),O=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ne(pf,"id","line"),Ne(pf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ne(pf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _h extends no{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=au(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,t,n,i){return zS.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(i/2,0),s=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-s)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,i){const o=i==="reset",s=this.chart,A=s.options.animation,c=this._cachedMeta.rScale,l=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*Pt;let f=d,m;const w=360/this.countVisibleElements();for(m=0;m<t;++m)f+=this._computeAngle(m,i,w);for(m=t;m<t+n;m++){const B=e[m];let y=f,b=f+this._computeAngle(m,i,w),x=s.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=b,o&&(A.animateScale&&(x=0),A.animateRotate&&(y=b=d));const O={x:l,y:u,innerRadius:0,outerRadius:x,startAngle:y,endAngle:b,options:this.resolveDataElementOptions(m,B.active?"active":i)};this.updateElement(B,m,O,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?eo(this.resolveDataElementOptions(e,t).angle||n):0}}Ne(_h,"id","polarArea"),Ne(_h,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ne(_h,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((o,s)=>{const A=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,fontColor:i,lineWidth:A.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class zw extends oA{}Ne(zw,"id","pie"),Ne(zw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class mf extends no{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return zS.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],o=t.iScale.getLabels();if(n.points=i,e!=="resize"){const s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:s};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const o=this._cachedMeta.rScale,s=i==="reset";for(let a=t;a<t+n;a++){const A=e[a],c=this.resolveDataElementOptions(a,A.active?"active":i),l=o.getPointPositionForValue(a,this.getParsed(a).r),u=s?o.xCenter:l.x,d=s?o.yCenter:l.y,f={x:u,y:d,angle:l.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(A,a,f,i)}}}Ne(mf,"id","radar"),Ne(mf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ne(mf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class wf extends no{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=t,s=this.getParsed(e),a=i.getLabelForValue(s.x),A=o.getLabelForValue(s.y);return{label:n[e]||"",value:"("+a+", "+A+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:o,count:s}=QS(t,n,i);if(this._drawStart=o,this._drawCount=s,HS(t)&&(o=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:A}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!A._decimated,a.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,o,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const o=i==="reset",{iScale:s,vScale:a,_stacked:A,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(l),d=this.includeOptions(i,u),f=s.axis,m=a.axis,{spanGaps:w,segment:B}=this.options,y=rl(w)?w:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||i==="none";let x=t>0&&this.getParsed(t-1);for(let O=t;O<t+n;++O){const L=e[O],K=this.getParsed(O),H=b?L:{},P=St(K[m]),q=H[f]=s.getPixelForValue(K[f],O),ee=H[m]=o||P?a.getBasePixel():a.getPixelForValue(A?this.applyStack(a,K,A):K[m],O);H.skip=isNaN(q)||isNaN(ee)||P,H.stop=O>0&&Math.abs(K[f]-x[f])>y,B&&(H.parsed=K,H.raw=c.data[O]),d&&(H.options=u||this.resolveDataElementOptions(O,L.active?"active":i)),b||this.updateElement(L,O,H,i),x=K}this.updateSharedOptions(u,i,l)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let A=t.length-1;A>=0;--A)a=Math.max(a,t[A].size(this.resolveDataElementOptions(A))/2);return a>0&&a}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,o,s)/2}}Ne(wf,"id","scatter"),Ne(wf,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ne(wf,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var aO=Object.freeze({__proto__:null,BarController:ff,BubbleController:gf,DoughnutController:oA,LineController:pf,PieController:zw,PolarAreaController:_h,RadarController:mf,ScatterController:wf});function $a(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fv{constructor(e){Ne(this,"options");this.options=e||{}}static override(e){Object.assign(fv.prototype,e)}init(){}formats(){return $a()}parse(){return $a()}format(){return $a()}add(){return $a()}diff(){return $a()}startOf(){return $a()}endOf(){return $a()}}var AO={_date:fv};function cO(r,e,t,n){const{controller:i,data:o,_sorted:s}=r,a=i._cachedMeta.iScale,A=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){const c=a._reversePixels?UP:Cs;if(n){if(i._sharedOptions){const l=o[0],u=typeof l.getRange=="function"&&l.getRange(e);if(u){const d=c(o,e,t-u),f=c(o,e,t+u);return{lo:d.lo,hi:f.hi}}}}else{const l=c(o,e,t);if(A){const{vScale:u}=i._cachedMeta,{_parsed:d}=r,f=d.slice(0,l.lo+1).reverse().findIndex(w=>!St(w[u.axis]));l.lo-=Math.max(0,f);const m=d.slice(l.hi).findIndex(w=>!St(w[u.axis]));l.hi+=Math.max(0,m)}return l}}return{lo:0,hi:o.length-1}}function Lg(r,e,t,n,i){const o=r.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,A=o.length;a<A;++a){const{index:c,data:l}=o[a],{lo:u,hi:d}=cO(o[a],e,s,i);for(let f=u;f<=d;++f){const m=l[f];m.skip||n(m,c,f)}}}function lO(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const o=e?Math.abs(n.x-i.x):0,s=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function vm(r,e,t,n,i){const o=[];return!i&&!r.isPointInArea(e)||Lg(r,t,e,function(a,A,c){!i&&!ys(a,r.chartArea,0)||a.inRange(e.x,e.y,n)&&o.push({element:a,datasetIndex:A,index:c})},!0),o}function hO(r,e,t,n){let i=[];function o(s,a,A){const{startAngle:c,endAngle:l}=s.getProps(["startAngle","endAngle"],n),{angle:u}=NS(s,{x:e.x,y:e.y});Kh(u,c,l)&&i.push({element:s,datasetIndex:a,index:A})}return Lg(r,t,e,o),i}function uO(r,e,t,n,i,o){let s=[];const a=lO(t);let A=Number.POSITIVE_INFINITY;function c(l,u,d){const f=l.inRange(e.x,e.y,i);if(n&&!f)return;const m=l.getCenterPoint(i);if(!(!!o||r.isPointInArea(m))&&!f)return;const B=a(e,m);B<A?(s=[{element:l,datasetIndex:u,index:d}],A=B):B===A&&s.push({element:l,datasetIndex:u,index:d})}return Lg(r,t,e,c),s}function Bm(r,e,t,n,i,o){return!o&&!r.isPointInArea(e)?[]:t==="r"&&!n?hO(r,e,t,i):uO(r,e,t,n,i,o)}function ub(r,e,t,n,i){const o=[],s=t==="x"?"inXRange":"inYRange";let a=!1;return Lg(r,t,e,(A,c,l)=>{A[s]&&A[s](e[t],i)&&(o.push({element:A,datasetIndex:c,index:l}),a=a||A.inRange(e.x,e.y,i))}),n&&!a?[]:o}var dO={modes:{index(r,e,t,n){const i=Ja(e,r),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?vm(r,i,o,n,s):Bm(r,i,o,!1,n,s),A=[];return a.length?(r.getSortedVisibleDatasetMetas().forEach(c=>{const l=a[0].index,u=c.data[l];u&&!u.skip&&A.push({element:u,datasetIndex:c.index,index:l})}),A):[]},dataset(r,e,t,n){const i=Ja(e,r),o=t.axis||"xy",s=t.includeInvisible||!1;let a=t.intersect?vm(r,i,o,n,s):Bm(r,i,o,!1,n,s);if(a.length>0){const A=a[0].datasetIndex,c=r.getDatasetMeta(A).data;a=[];for(let l=0;l<c.length;++l)a.push({element:c[l],datasetIndex:A,index:l})}return a},point(r,e,t,n){const i=Ja(e,r),o=t.axis||"xy",s=t.includeInvisible||!1;return vm(r,i,o,n,s)},nearest(r,e,t,n){const i=Ja(e,r),o=t.axis||"xy",s=t.includeInvisible||!1;return Bm(r,i,o,t.intersect,n,s)},x(r,e,t,n){const i=Ja(e,r);return ub(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=Ja(e,r);return ub(r,i,"y",t.intersect,n)}}};const oT=["left","top","right","bottom"];function Yl(r,e){return r.filter(t=>t.pos===e)}function db(r,e){return r.filter(t=>oT.indexOf(t.pos)===-1&&t.box.axis===e)}function Jl(r,e){return r.sort((t,n)=>{const i=e?n:t,o=e?t:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function fO(r){const e=[];let t,n,i,o,s,a;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function gO(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:o}=t;if(!n||!oT.includes(i))continue;const s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function pO(r,e){const t=gO(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let o,s,a;for(o=0,s=r.length;o<s;++o){a=r[o];const{fullSize:A}=a.box,c=t[a.stack],l=c&&a.stackWeight/c.weight;a.horizontal?(a.width=l?l*n:A&&e.availableWidth,a.height=i):(a.width=n,a.height=l?l*i:A&&e.availableHeight)}return t}function mO(r){const e=fO(r),t=Jl(e.filter(c=>c.box.fullSize),!0),n=Jl(Yl(e,"left"),!0),i=Jl(Yl(e,"right")),o=Jl(Yl(e,"top"),!0),s=Jl(Yl(e,"bottom")),a=db(e,"x"),A=db(e,"y");return{fullSize:t,leftAndTop:n.concat(o),rightAndBottom:i.concat(A).concat(s).concat(a),chartArea:Yl(e,"chartArea"),vertical:n.concat(i).concat(A),horizontal:o.concat(s).concat(a)}}function fb(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function sT(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function wO(r,e,t,n){const{pos:i,box:o}=t,s=r.maxPadding;if(!kt(i)){t.size&&(r[i]-=t.size);const u=n[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?o.height:o.width),t.size=u.size/u.count,r[i]+=t.size}o.getPadding&&sT(s,o.getPadding());const a=Math.max(0,e.outerWidth-fb(s,r,"left","right")),A=Math.max(0,e.outerHeight-fb(s,r,"top","bottom")),c=a!==r.w,l=A!==r.h;return r.w=a,r.h=A,t.horizontal?{same:c,other:l}:{same:l,other:c}}function CO(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function yO(r,e){const t=e.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return n(r?["left","right"]:["top","bottom"])}function ch(r,e,t,n){const i=[];let o,s,a,A,c,l;for(o=0,s=r.length,c=0;o<s;++o){a=r[o],A=a.box,A.update(a.width||e.w,a.height||e.h,yO(a.horizontal,e));const{same:u,other:d}=wO(e,t,a,n);c|=u&&i.length,l=l||d,A.fullSize||i.push(a)}return c&&ch(i,e,t,n)||l}function vd(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function gb(r,e,t,n){const i=t.padding;let{x:o,y:s}=e;for(const a of r){const A=a.box,c=n[a.stack]||{placed:0,weight:1},l=a.stackWeight/c.weight||1;if(a.horizontal){const u=e.w*l,d=c.size||A.height;Dh(c.start)&&(s=c.start),A.fullSize?vd(A,i.left,s,t.outerWidth-i.right-i.left,d):vd(A,e.left+c.placed,s,u,d),c.start=s,c.placed+=u,s=A.bottom}else{const u=e.h*l,d=c.size||A.width;Dh(c.start)&&(o=c.start),A.fullSize?vd(A,o,i.top,d,t.outerHeight-i.bottom-i.top):vd(A,o,e.top+c.placed,d,u),c.start=o,c.placed+=u,o=A.right}}e.x=o,e.y=s}var Or={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=Mr(r.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(t-i.height,0),a=mO(r.boxes),A=a.vertical,c=a.horizontal;qt(r.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const l=A.reduce((w,B)=>B.box.options&&B.box.options.display===!1?w:w+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/l,hBoxMaxHeight:s/2}),d=Object.assign({},i);sT(d,Mr(n));const f=Object.assign({maxPadding:d,w:o,h:s,x:i.left,y:i.top},i),m=pO(A.concat(c),u);ch(a.fullSize,f,u,m),ch(A,f,u,m),ch(c,f,u,m)&&ch(A,f,u,m),CO(f),gb(a.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,gb(a.rightAndBottom,f,u,m),r.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},qt(a.chartArea,w=>{const B=w.box;Object.assign(B,r.chartArea),B.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class aT{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class vO extends aT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cf="$chartjs",BO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pb=r=>r===null||r==="";function bO(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[Cf]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",pb(i)){const o=ZB(r,"width");o!==void 0&&(r.width=o)}if(pb(n))if(r.style.height==="")r.height=r.width/(e||2);else{const o=ZB(r,"height");o!==void 0&&(r.height=o)}return r}const AT=IL?{passive:!0}:!1;function IO(r,e,t){r&&r.addEventListener(e,t,AT)}function EO(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,AT)}function SO(r,e){const t=BO[r.type]||r.type,{x:n,y:i}=Ja(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Yf(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function TO(r,e,t){const n=r.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||Yf(a.addedNodes,n),s=s&&!Yf(a.removedNodes,n);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function _O(r,e,t){const n=r.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||Yf(a.removedNodes,n),s=s&&!Yf(a.addedNodes,n);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Vh=new Map;let mb=0;function cT(){const r=window.devicePixelRatio;r!==mb&&(mb=r,Vh.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function kO(r,e){Vh.size||window.addEventListener("resize",cT),Vh.set(r,e)}function FO(r){Vh.delete(r),Vh.size||window.removeEventListener("resize",cT)}function UO(r,e,t){const n=r.canvas,i=n&&dv(n);if(!i)return;const o=MS((a,A)=>{const c=i.clientWidth;t(a,A),c<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{const A=a[0],c=A.contentRect.width,l=A.contentRect.height;c===0&&l===0||o(c,l)});return s.observe(i),kO(r,o),s}function bm(r,e,t){t&&t.disconnect(),e==="resize"&&FO(r)}function xO(r,e,t){const n=r.canvas,i=MS(o=>{r.ctx!==null&&t(SO(o,r))},r);return IO(n,e,i),i}class RO extends aT{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(bO(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Cf])return!1;const n=t[Cf].initial;["height","width"].forEach(o=>{const s=n[o];St(s)?t.removeAttribute(o):t.setAttribute(o,s)});const i=n.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[Cf],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),s={attach:TO,detach:_O,resize:UO}[t]||xO;i[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:bm,detach:bm,resize:bm}[t]||EO)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return bL(e,t,n,i)}isAttached(e){const t=e&&dv(e);return!!(t&&t.isConnected)}}function NO(r){return!uv()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?vO:RO}class ao{constructor(){Ne(this,"x");Ne(this,"y");Ne(this,"active",!1);Ne(this,"options");Ne(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return rl(this.x)&&rl(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}}Ne(ao,"defaults",{}),Ne(ao,"defaultRoutes");function PO(r,e){const t=r.options.ticks,n=LO(r),i=Math.min(t.maxTicksLimit||n,n),o=t.major.enabled?MO(e):[],s=o.length,a=o[0],A=o[s-1],c=[];if(s>i)return QO(e,c,o,s/i),c;const l=OO(o,e,i);if(s>0){let u,d;const f=s>1?Math.round((A-a)/(s-1)):null;for(Bd(e,c,l,St(f)?0:a-f,a),u=0,d=s-1;u<d;u++)Bd(e,c,l,o[u],o[u+1]);return Bd(e,c,l,A,St(f)?e.length:A+f),c}return Bd(e,c,l),c}function LO(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function OO(r,e,t){const n=HO(r),i=e.length/t;if(!n)return Math.max(i,1);const o=SP(n);for(let s=0,a=o.length-1;s<a;s++){const A=o[s];if(A>i)return A}return Math.max(i,1)}function MO(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function QO(r,e,t,n){let i=0,o=t[0],s;for(n=Math.ceil(n),s=0;s<r.length;s++)s===o&&(e.push(r[s]),i++,o=t[i*n])}function Bd(r,e,t,n,i){const o=mt(n,0),s=Math.min(mt(i,r.length),r.length);let a=0,A,c,l;for(t=Math.ceil(t),i&&(A=i-n,t=A/Math.floor(A/t)),l=o;l<0;)a++,l=Math.round(o+a*t);for(c=Math.max(o,0);c<s;c++)c===l&&(e.push(r[c]),a++,l=Math.round(o+a*t))}function HO(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const DO=r=>r==="left"?"right":r==="right"?"left":r,wb=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,Cb=(r,e)=>Math.min(e||r,r);function yb(r,e){const t=[],n=r.length/e,i=r.length;let o=0;for(;o<i;o+=n)t.push(r[Math.floor(o)]);return t}function KO(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),o=r._startPixel,s=r._endPixel,a=1e-6;let A=r.getPixelForTick(i),c;if(!(t&&(n===1?c=Math.max(A-o,s-A):e===0?c=(r.getPixelForTick(1)-A)/2:c=(A-r.getPixelForTick(i-1))/2,A+=i<e?c:-c,A<o-a||A>s+a)))return A}function GO(r,e){qt(r,t=>{const n=t.gc,i=n.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[n[o]];n.splice(0,i)}})}function Xl(r){return r.drawTicks?r.tickLength:0}function vb(r,e){if(!r.display)return 0;const t=Wn(r.font,e),n=Mr(r.padding);return(wn(r.text)?r.text.length:1)*t.lineHeight+n.height}function VO(r,e){return Sa(r,{scale:e,type:"scale"})}function qO(r,e,t){return Sa(r,{tick:t,index:e,type:"tick"})}function $O(r,e,t){let n=sv(r);return(t&&e!=="right"||!t&&e==="right")&&(n=DO(n)),n}function jO(r,e,t,n){const{top:i,left:o,bottom:s,right:a,chart:A}=r,{chartArea:c,scales:l}=A;let u=0,d,f,m;const w=s-i,B=a-o;if(r.isHorizontal()){if(f=kr(n,o,a),kt(t)){const y=Object.keys(t)[0],b=t[y];m=l[y].getPixelForValue(b)+w-e}else t==="center"?m=(c.bottom+c.top)/2+w-e:m=wb(r,t,e);d=a-o}else{if(kt(t)){const y=Object.keys(t)[0],b=t[y];f=l[y].getPixelForValue(b)-B+e}else t==="center"?f=(c.left+c.right)/2-B+e:f=wb(r,t,e);m=kr(n,s,i),u=t==="left"?-Hn:Hn}return{titleX:f,titleY:m,maxWidth:d,rotation:u}}class kA extends ao{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=gi(e,Number.POSITIVE_INFINITY),t=gi(t,Number.NEGATIVE_INFINITY),n=gi(n,Number.POSITIVE_INFINITY),i=gi(i,Number.NEGATIVE_INFINITY),{min:gi(e,n),max:gi(t,i),minDefined:kn(e),maxDefined:kn(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:n};const a=this.getMatchingVisibleMetas();for(let A=0,c=a.length;A<c;++A)s=a[A].controller.getMinMax(this,e),i||(t=Math.min(t,s.min)),o||(n=Math.max(n,s.max));return t=o&&t>n?n:t,n=i&&t>n?t:n,{min:gi(t,gi(n,t)),max:gi(n,gi(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tL(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const A=a<this.ticks.length;this._convertTicksToLabels(A?yb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=PO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),A&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),an(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n],o.label=an(t.callback,[o.value,n,e],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Cb(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let s=i,a,A,c;if(!this._isVisible()||!t.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const l=this._getLabelSizes(),u=l.widest.width,d=l.highest.height,f=lr(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),u+6>a&&(a=f/(n-(e.offset?.5:1)),A=this.maxHeight-Xl(e.grid)-t.padding-vb(e.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),s=iv(Math.min(Math.asin(lr((l.highest.height+6)/a,-1,1)),Math.asin(lr(A/c,-1,1))-Math.asin(lr(d/c,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const A=vb(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Xl(o)+A):(e.height=this.maxHeight,e.width=Xl(o)+A),n.display&&this.ticks.length){const{first:c,last:l,widest:u,highest:d}=this._getLabelSizes(),f=n.padding*2,m=eo(this.labelRotation),w=Math.cos(m),B=Math.sin(m);if(a){const y=n.mirror?0:B*u.width+w*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=n.mirror?0:w*u.width+B*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,l,B,w)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:o,padding:s},position:a}=this.options,A=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const l=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;A?c?(d=i*e.width,f=n*t.height):(d=n*e.height,f=i*t.width):o==="start"?f=t.width:o==="end"?d=e.width:o!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-l+s)*this.width/(this.width-l),0),this.paddingRight=Math.max((f-u+s)*this.width/(this.width-u),0)}else{let l=t.height/2,u=e.height/2;o==="start"?(l=0,u=e.height):o==="end"&&(l=t.height,u=0),this.paddingTop=l+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)St(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=yb(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:o}=this,s=[],a=[],A=Math.floor(t/Cb(t,n));let c=0,l=0,u,d,f,m,w,B,y,b,x,O,L;for(u=0;u<t;u+=A){if(m=e[u].label,w=this._resolveTickFontOptions(u),i.font=B=w.string,y=o[B]=o[B]||{data:{},gc:[]},b=w.lineHeight,x=O=0,!St(m)&&!wn(m))x=zf(i,y.data,y.gc,x,m),O=b;else if(wn(m))for(d=0,f=m.length;d<f;++d)L=m[d],!St(L)&&!wn(L)&&(x=zf(i,y.data,y.gc,x,L),O+=b);s.push(x),a.push(O),c=Math.max(x,c),l=Math.max(O,l)}GO(o,t);const K=s.indexOf(c),H=a.indexOf(l),P=q=>({width:s[q]||0,height:a[q]||0});return{first:P(0),last:P(t-1),widest:P(K),highest:P(H),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return FP(this._alignToPixels?qa(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=qO(this.getContext(),e,n))}return this.$context||(this.$context=VO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=eo(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,A=o?o.highest.height+s:0;return this.isHorizontal()?A*n>a*i?a/n:A/i:A*i<a*n?A/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:o,position:s,border:a}=i,A=o.offset,c=this.isHorizontal(),u=this.ticks.length+(A?1:0),d=Xl(o),f=[],m=a.setContext(this.getContext()),w=m.display?m.width:0,B=w/2,y=function(ne){return qa(n,ne,w)};let b,x,O,L,K,H,P,q,ee,F,R,$;if(s==="top")b=y(this.bottom),H=this.bottom-d,q=b-B,F=y(e.top)+B,$=e.bottom;else if(s==="bottom")b=y(this.top),F=e.top,$=y(e.bottom)-B,H=b+B,q=this.top+d;else if(s==="left")b=y(this.right),K=this.right-d,P=b-B,ee=y(e.left)+B,R=e.right;else if(s==="right")b=y(this.left),ee=e.left,R=y(e.right)-B,K=b+B,P=this.left+d;else if(t==="x"){if(s==="center")b=y((e.top+e.bottom)/2+.5);else if(kt(s)){const ne=Object.keys(s)[0],se=s[ne];b=y(this.chart.scales[ne].getPixelForValue(se))}F=e.top,$=e.bottom,H=b+B,q=H+d}else if(t==="y"){if(s==="center")b=y((e.left+e.right)/2);else if(kt(s)){const ne=Object.keys(s)[0],se=s[ne];b=y(this.chart.scales[ne].getPixelForValue(se))}K=b-B,P=K-d,ee=e.left,R=e.right}const V=mt(i.ticks.maxTicksLimit,u),ie=Math.max(1,Math.ceil(u/V));for(x=0;x<u;x+=ie){const ne=this.getContext(x),se=o.setContext(ne),re=a.setContext(ne),ue=se.lineWidth,pe=se.color,Ue=re.dash||[],S=re.dashOffset,Q=se.tickWidth,G=se.tickColor,z=se.tickBorderDash||[],X=se.tickBorderDashOffset;O=KO(this,x,A),O!==void 0&&(L=qa(n,O,ue),c?K=P=ee=R=L:H=q=F=$=L,f.push({tx1:K,ty1:H,tx2:P,ty2:q,x1:ee,y1:F,x2:R,y2:$,width:ue,color:pe,borderDash:Ue,borderDashOffset:S,tickWidth:Q,tickColor:G,tickBorderDash:z,tickBorderDashOffset:X}))}return this._ticksLength=u,this._borderValue=b,f}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:A,crossAlign:c,padding:l,mirror:u}=o,d=Xl(n.grid),f=d+l,m=u?-l:f,w=-eo(this.labelRotation),B=[];let y,b,x,O,L,K,H,P,q,ee,F,R,$="middle";if(i==="top")K=this.bottom-m,H=this._getXAxisLabelAlignment();else if(i==="bottom")K=this.top+m,H=this._getXAxisLabelAlignment();else if(i==="left"){const ie=this._getYAxisLabelAlignment(d);H=ie.textAlign,L=ie.x}else if(i==="right"){const ie=this._getYAxisLabelAlignment(d);H=ie.textAlign,L=ie.x}else if(t==="x"){if(i==="center")K=(e.top+e.bottom)/2+f;else if(kt(i)){const ie=Object.keys(i)[0],ne=i[ie];K=this.chart.scales[ie].getPixelForValue(ne)+f}H=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-f;else if(kt(i)){const ie=Object.keys(i)[0],ne=i[ie];L=this.chart.scales[ie].getPixelForValue(ne)}H=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(A==="start"?$="top":A==="end"&&($="bottom"));const V=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){x=a[y],O=x.label;const ie=o.setContext(this.getContext(y));P=this.getPixelForTick(y)+o.labelOffset,q=this._resolveTickFontOptions(y),ee=q.lineHeight,F=wn(O)?O.length:1;const ne=F/2,se=ie.color,re=ie.textStrokeColor,ue=ie.textStrokeWidth;let pe=H;s?(L=P,H==="inner"&&(y===b-1?pe=this.options.reverse?"left":"right":y===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?c==="near"||w!==0?R=-F*ee+ee/2:c==="center"?R=-V.highest.height/2-ne*ee+ee:R=-V.highest.height+ee/2:c==="near"||w!==0?R=ee/2:c==="center"?R=V.highest.height/2-ne*ee:R=V.highest.height-F*ee,u&&(R*=-1),w!==0&&!ie.showLabelBackdrop&&(L+=ee/2*Math.sin(w))):(K=P,R=(1-F)*ee/2);let Ue;if(ie.showLabelBackdrop){const S=Mr(ie.backdropPadding),Q=V.heights[y],G=V.widths[y];let z=R-S.top,X=0-S.left;switch($){case"middle":z-=Q/2;break;case"bottom":z-=Q;break}switch(H){case"center":X-=G/2;break;case"right":X-=G;break;case"inner":y===b-1?X-=G:y>0&&(X-=G/2);break}Ue={left:X,top:z,width:G+S.width,height:Q+S.height,color:ie.backdropColor}}B.push({label:O,font:q,textOffset:R,options:{rotation:w,color:se,strokeColor:re,strokeWidth:ue,textAlign:pe,textBaseline:$,translation:[L,K],backdrop:Ue}})}return B}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-eo(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,A=s.widest.width;let c,l;return t==="left"?i?(l=this.right+o,n==="near"?c="left":n==="center"?(c="center",l+=A/2):(c="right",l+=A)):(l=this.right-a,n==="near"?c="right":n==="center"?(c="center",l-=A/2):(c="left",l=this.left)):t==="right"?i?(l=this.left+o,n==="near"?c="right":n==="center"?(c="center",l-=A/2):(c="left",l-=A)):(l=this.left+a,n==="near"?c="left":n==="center"?(c="center",l+=A/2):(c="right",l=this.right)):c="right",{textAlign:c,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,o,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,s;const a=(A,c,l)=>{!l.width||!l.color||(n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.setLineDash(l.borderDash||[]),n.lineDashOffset=l.borderDashOffset,n.beginPath(),n.moveTo(A.x,A.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){const A=i[o];t.drawOnChartArea&&a({x:A.x1,y:A.y1},{x:A.x2,y:A.y2},A),t.drawTicks&&a({x:A.tx1,y:A.ty1},{x:A.tx2,y:A.ty2},{color:A.tickColor,width:A.tickWidth,borderDash:A.tickBorderDash,borderDashOffset:A.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,A=this._borderValue;let c,l,u,d;this.isHorizontal()?(c=qa(e,this.left,s)-s/2,l=qa(e,this.right,a)+a/2,u=d=A):(u=qa(e,this.top,s)-s/2,d=qa(e,this.bottom,a)+a/2,c=l=A),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,u),t.lineTo(l,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Rg(n,i);const o=this.getLabelItems(e);for(const s of o){const a=s.options,A=s.font,c=s.label,l=s.textOffset;BA(n,c,0,l,A,a)}i&&Ng(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const o=Wn(n.font),s=Mr(n.padding),a=n.align;let A=o.lineHeight/2;t==="bottom"||t==="center"||kt(t)?(A+=s.bottom,wn(n.text)&&(A+=o.lineHeight*(n.text.length-1))):A+=s.top;const{titleX:c,titleY:l,maxWidth:u,rotation:d}=jO(this,A,t,a);BA(e,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:d,textAlign:$O(a,t,i),textBaseline:"middle",translation:[c,l]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=mt(e.grid&&e.grid.z,-1),i=mt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==kA.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,s;for(o=0,s=t.length;o<s;++o){const a=t[o];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Wn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bd{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;YO(t)&&(n=this.register(t));const i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,zO(e,s,n),this.override&&Cn.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Cn[i]&&(delete Cn[i][n],this.override&&delete vA[n])}}function zO(r,e,t){const n=Hh(Object.create(null),[t?Cn.get(t):{},Cn.get(e),r.defaults]);Cn.set(e,n),r.defaultRoutes&&WO(e,r.defaultRoutes),r.descriptors&&Cn.describe(e,r.descriptors)}function WO(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),o=[r].concat(n).join("."),s=e[t].split("."),a=s.pop(),A=s.join(".");Cn.route(o,i,A,a)})}function YO(r){return"id"in r&&"defaults"in r}class JO{constructor(){this.controllers=new bd(no,"datasets",!0),this.elements=new bd(ao,"elements"),this.plugins=new bd(Object,"plugins"),this.scales=new bd(kA,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):qt(i,s=>{const a=n||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,n){const i=rv(e);an(n["before"+i],[],n),t[e](n),an(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Fo=new JO;class XO{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,t,n);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const o of e){const s=o.plugin,a=s[n],A=[t,i,o.options];if(an(a,A,s)===!1&&i.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=mt(n.options&&n.options.plugins,{}),o=ZO(n);return i===!1&&!t?[]:tM(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(o,s)=>o.filter(a=>!s.some(A=>a.plugin.id===A.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function ZO(r){const e={},t=[],n=Object.keys(Fo.plugins.items);for(let o=0;o<n.length;o++)t.push(Fo.getPlugin(n[o]));const i=r.plugins||[];for(let o=0;o<i.length;o++){const s=i[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function eM(r,e){return!e&&r===!1?null:r===!0?{}:r}function tM(r,{plugins:e,localIds:t},n,i){const o=[],s=r.getContext();for(const a of e){const A=a.id,c=eM(n[A],i);c!==null&&o.push({plugin:a,options:nM(r.config,{plugin:a,local:t[A]},c,s)})}return o}function nM(r,{plugin:e,local:t},n,i){const o=r.pluginScopeKeys(e),s=r.getOptionScopes(n,o);return t&&e.defaults&&s.push(e.defaults),r.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ww(r,e){const t=Cn.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function rM(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function iM(r,e){return r===e?"_index_":"_value_"}function Bb(r){if(r==="x"||r==="y"||r==="r")return r}function oM(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function Yw(r,...e){if(Bb(r))return r;for(const t of e){const n=t.axis||oM(t.position)||r.length>1&&Bb(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function bb(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function sM(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return bb(r,"x",t[0])||bb(r,"y",t[0])}return{}}function aM(r,e){const t=vA[r.type]||{scales:{}},n=e.scales||{},i=Ww(r.type,e),o=Object.create(null);return Object.keys(n).forEach(s=>{const a=n[s];if(!kt(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const A=Yw(s,a,sM(s,r),Cn.scales[a.type]),c=iM(A,i),l=t.scales||{};o[s]=Ih(Object.create(null),[{axis:A},a,l[A],l[c]])}),r.data.datasets.forEach(s=>{const a=s.type||r.type,A=s.indexAxis||Ww(a,e),l=(vA[a]||{}).scales||{};Object.keys(l).forEach(u=>{const d=rM(u,A),f=s[d+"AxisID"]||d;o[f]=o[f]||Object.create(null),Ih(o[f],[{axis:d},n[f],l[u]])})}),Object.keys(o).forEach(s=>{const a=o[s];Ih(a,[Cn.scales[a.type],Cn.scale])}),o}function lT(r){const e=r.options||(r.options={});e.plugins=mt(e.plugins,{}),e.scales=aM(r,e)}function hT(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function AM(r){return r=r||{},r.data=hT(r.data),lT(r),r}const Ib=new Map,uT=new Set;function Id(r,e){let t=Ib.get(r);return t||(t=e(),Ib.set(r,t),uT.add(t)),t}const Zl=(r,e,t)=>{const n=Ca(e,t);n!==void 0&&r.add(n)};class cM{constructor(e){this._config=AM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Id(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Id(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Id(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Id(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:o}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const A=new Set;t.forEach(l=>{e&&(A.add(e),l.forEach(u=>Zl(A,e,u))),l.forEach(u=>Zl(A,i,u)),l.forEach(u=>Zl(A,vA[o]||{},u)),l.forEach(u=>Zl(A,Cn,u)),l.forEach(u=>Zl(A,$w,u))});const c=Array.from(A);return c.length===0&&c.push(Object.create(null)),uT.has(t)&&s.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,vA[t]||{},Cn.datasets[t]||{},{type:t},Cn,$w]}resolveNamedOptions(e,t,n,i=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=Eb(this._resolverCache,e,i);let A=s;if(hM(s,t)){o.$shared=!1,n=ya(n)?n():n;const c=this.createResolver(e,n,a);A=il(s,n,c)}for(const c of t)o[c]=A[c];return o}createResolver(e,t,n=[""],i){const{resolver:o}=Eb(this._resolverCache,e,n);return kt(t)?il(o,t,void 0,i):o}}function Eb(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let o=n.get(i);return o||(o={resolver:cv(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const lM=r=>kt(r)&&Object.getOwnPropertyNames(r).some(e=>ya(r[e]));function hM(r,e){const{isScriptable:t,isIndexable:n}=VS(r);for(const i of e){const o=t(i),s=n(i),a=(s||o)&&r[i];if(o&&(ya(a)||lM(a))||s&&wn(a))return!0}return!1}var uM="4.5.0";const dM=["top","bottom","left","right","chartArea"];function Sb(r,e){return r==="top"||r==="bottom"||dM.indexOf(r)===-1&&e==="x"}function Tb(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function _b(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),an(t&&t.onComplete,[r],e)}function fM(r){const e=r.chart,t=e.options.animation;an(t&&t.onProgress,[r],e)}function dT(r){return uv()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const yf={},kb=r=>{const e=dT(r);return Object.values(yf).filter(t=>t.canvas===e).pop()};function gM(r,e,t){const n=Object.keys(r);for(const i of n){const o=+i;if(o>=e){const s=r[i];delete r[i],(t>0||o>e)&&(r[o+t]=s)}}}function pM(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}class Uo{static register(...e){Fo.add(...e),Fb()}static unregister(...e){Fo.remove(...e),Fb()}constructor(e,t){const n=this.config=new cM(t),i=dT(e),o=kb(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||NO(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,s.aspectRatio),A=a&&a.canvas,c=A&&A.height,l=A&&A.width;if(this.id=mP(),this.ctx=a,this.canvas=A,this.width=l,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NP(u=>this.update(u),s.resizeDelay||0),this._dataChanges=[],yf[this.id]=this,!a||!A){console.error("Failed to create chart: can't acquire context from the given item");return}ls.listen(this,"complete",_b),ls.listen(this,"progress",fM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:o}=this;return St(e)?t&&o?o:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():XB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return WB(this.canvas,this.ctx),this}stop(){return ls.stop(this),this}resize(e,t){ls.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,XB(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),an(n.onResize,[this,s],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};qt(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((s,a)=>(s[a]=!1,s),{});let o=[];t&&(o=o.concat(Object.keys(t).map(s=>{const a=t[s],A=Yw(s,a),c=A==="r",l=A==="x";return{options:a,dposition:c?"chartArea":l?"bottom":"left",dtype:c?"radialLinear":l?"category":"linear"}}))),qt(o,s=>{const a=s.options,A=a.id,c=Yw(A,a),l=mt(a.type,s.dtype);(a.position===void 0||Sb(a.position,c)!==Sb(s.dposition))&&(a.position=s.dposition),i[A]=!0;let u=null;if(A in n&&n[A].type===l)u=n[A];else{const d=Fo.getScale(l);u=new d({id:A,type:l,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,e)}),qt(i,(s,a)=>{s||delete n[a]}),qt(n,s=>{Or.configure(this,s,s.options),Or.addBox(this,s)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,o)=>i.index-o.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Tb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const o=t[n];let s=this.getDatasetMeta(n);const a=o.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=a,s.indexAxis=o.indexAxis||Ww(a,this.options),s.order=o.order||0,s.index=n,s.label=""+o.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const A=Fo.getController(a),{datasetElementType:c,dataElementType:l}=Cn.datasets[a];Object.assign(A,{dataElementType:Fo.getElement(l),datasetElementType:c&&Fo.getElement(c)}),s.controller=new A(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){qt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,l=this.data.datasets.length;c<l;c++){const{controller:u}=this.getDatasetMeta(c),d=!i&&o.indexOf(u)===-1;u.buildOrUpdateElements(d),s=Math.max(+u.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||qt(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Tb("z","_idx"));const{_active:a,_lastEvent:A}=this;A?this._eventHandler(A,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){qt(this.scales,e=>{Or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!HB(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of t){const s=n==="_removeElements"?-o:o;gM(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=o=>new Set(e.filter(s=>s[0]===o).map((s,a)=>a+","+s.splice(1).join(","))),i=n(0);for(let o=1;o<t;o++)if(!HB(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Or.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],qt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ya(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ls.has(this)?this.attached&&!ls.running(this)&&ls.start(this):(this.draw(),_b({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,o;for(i=0,o=t.length;i<o;++i){const s=t[i];(!e||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=tT(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Rg(t,i),e.controller.draw(),i&&Ng(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ys(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const o=dO.modes[t];return typeof o=="function"?o(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Sa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,i);Dh(t)?(o.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(o,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ls.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),WB(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete yf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(o,s)=>{t.addEventListener(this,o,s),e[o]=s},i=(o,s,a)=>{o.offsetX=s,o.offsetY=a,this._eventHandler(o)};qt(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(A,c)=>{t.addEventListener(this,A,c),e[A]=c},i=(A,c)=>{e[A]&&(t.removeEventListener(this,A,c),delete e[A])},o=(A,c)=>{this.canvas&&this.resize(A,c)};let s;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",s)};s=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){qt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},qt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let o,s,a,A;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,A=e.length;a<A;++a){s=e[a];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:o,index:s})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[s],index:s}});!qf(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,o=(A,c)=>A.filter(l=>!c.some(u=>l.datasetIndex===u.datasetIndex&&l.index===u.index)),s=o(t,e),a=n?e:o(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:o}=this,s=t,a=this._getActiveElements(e,i,n,s),A=bP(e),c=pM(e,this._lastEvent,n,A);n&&(this._lastEvent=null,an(o.onHover,[e,a,this],this),A&&an(o.onClick,[e,a,this],this));const l=!qf(a,i);return(l||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,l}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}Ne(Uo,"defaults",Cn),Ne(Uo,"instances",yf),Ne(Uo,"overrides",vA),Ne(Uo,"registry",Fo),Ne(Uo,"version",uM),Ne(Uo,"getChart",kb);function Fb(){return qt(Uo.instances,r=>r._plugins.invalidate())}function mM(r,e,t){const{startAngle:n,x:i,y:o,outerRadius:s,innerRadius:a,options:A}=e,{borderWidth:c,borderJoinStyle:l}=A,u=Math.min(c/s,Ur(n-t));if(r.beginPath(),r.arc(i,o,s-c/2,n+u/2,t-u/2),a>0){const d=Math.min(c/a,Ur(n-t));r.arc(i,o,a+c/2,t-d/2,n+d/2,!0)}else{const d=Math.min(c/2,s*Ur(n-t));if(l==="round")r.arc(i,o,d,t-Pt/2,n+Pt/2,!0);else if(l==="bevel"){const f=2*d*d,m=-f*Math.cos(t+Pt/2)+i,w=-f*Math.sin(t+Pt/2)+o,B=f*Math.cos(n+Pt/2)+i,y=f*Math.sin(n+Pt/2)+o;r.lineTo(m,w),r.lineTo(B,y)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function wM(r,e,t){const{startAngle:n,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:A}=e;let c=i/a;r.beginPath(),r.arc(o,s,a,n-c,t+c),A>i?(c=i/A,r.arc(o,s,A,t+c,n-c,!0)):r.arc(o,s,i,t+Hn,n-Hn),r.closePath(),r.clip()}function CM(r){return Av(r,["outerStart","outerEnd","innerStart","innerEnd"])}function yM(r,e,t,n){const i=CM(r.options.borderRadius),o=(t-e)/2,s=Math.min(o,n*e/2),a=A=>{const c=(t-Math.min(o,A))*n/2;return lr(A,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:lr(i.innerStart,0,s),innerEnd:lr(i.innerEnd,0,s)}}function hc(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function Jf(r,e,t,n,i,o){const{x:s,y:a,startAngle:A,pixelMargin:c,innerRadius:l}=e,u=Math.max(e.outerRadius+n+t-c,0),d=l>0?l+n+t+c:0;let f=0;const m=i-A;if(n){const ie=l>0?l-n:0,ne=u>0?u-n:0,se=(ie+ne)/2,re=se!==0?m*se/(se+n):m;f=(m-re)/2}const w=Math.max(.001,m*u-t/Pt)/u,B=(m-w)/2,y=A+B+f,b=i-B-f,{outerStart:x,outerEnd:O,innerStart:L,innerEnd:K}=yM(e,d,u,b-y),H=u-x,P=u-O,q=y+x/H,ee=b-O/P,F=d+L,R=d+K,$=y+L/F,V=b-K/R;if(r.beginPath(),o){const ie=(q+ee)/2;if(r.arc(s,a,u,q,ie),r.arc(s,a,u,ie,ee),O>0){const ue=hc(P,ee,s,a);r.arc(ue.x,ue.y,O,ee,b+Hn)}const ne=hc(R,b,s,a);if(r.lineTo(ne.x,ne.y),K>0){const ue=hc(R,V,s,a);r.arc(ue.x,ue.y,K,b+Hn,V+Math.PI)}const se=(b-K/d+(y+L/d))/2;if(r.arc(s,a,d,b-K/d,se,!0),r.arc(s,a,d,se,y+L/d,!0),L>0){const ue=hc(F,$,s,a);r.arc(ue.x,ue.y,L,$+Math.PI,y-Hn)}const re=hc(H,y,s,a);if(r.lineTo(re.x,re.y),x>0){const ue=hc(H,q,s,a);r.arc(ue.x,ue.y,x,y-Hn,q)}}else{r.moveTo(s,a);const ie=Math.cos(q)*u+s,ne=Math.sin(q)*u+a;r.lineTo(ie,ne);const se=Math.cos(ee)*u+s,re=Math.sin(ee)*u+a;r.lineTo(se,re)}r.closePath()}function vM(r,e,t,n,i){const{fullCircles:o,startAngle:s,circumference:a}=e;let A=e.endAngle;if(o){Jf(r,e,t,n,A,i);for(let c=0;c<o;++c)r.fill();isNaN(a)||(A=s+(a%un||un))}return Jf(r,e,t,n,A,i),r.fill(),A}function BM(r,e,t,n,i){const{fullCircles:o,startAngle:s,circumference:a,options:A}=e,{borderWidth:c,borderJoinStyle:l,borderDash:u,borderDashOffset:d,borderRadius:f}=A,m=A.borderAlign==="inner";if(!c)return;r.setLineDash(u||[]),r.lineDashOffset=d,m?(r.lineWidth=c*2,r.lineJoin=l||"round"):(r.lineWidth=c,r.lineJoin=l||"bevel");let w=e.endAngle;if(o){Jf(r,e,t,n,w,i);for(let B=0;B<o;++B)r.stroke();isNaN(a)||(w=s+(a%un||un))}m&&wM(r,e,w),A.selfJoin&&w-s>=Pt&&f===0&&l!=="miter"&&mM(r,e,w),o||(Jf(r,e,t,n,w,i),r.stroke())}class lh extends ao{constructor(t){super();Ne(this,"circumference");Ne(this,"endAngle");Ne(this,"fullCircles");Ne(this,"innerRadius");Ne(this,"outerRadius");Ne(this,"pixelMargin");Ne(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const o=this.getProps(["x","y"],i),{angle:s,distance:a}=NS(o,{x:t,y:n}),{startAngle:A,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=mt(d,c-A),w=Kh(s,A,c)&&A!==c,B=m>=un||w,y=ws(a,l+f,u+f);return B&&y}getCenterPoint(t){const{x:n,y:i,startAngle:o,endAngle:s,innerRadius:a,outerRadius:A}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,u=(o+s)/2,d=(a+A+l+c)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,o=(n.offset||0)/4,s=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>un?Math.floor(i/un):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const A=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(A)*o,Math.sin(A)*o);const c=1-Math.sin(Math.min(Pt,i||0)),l=o*c;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,vM(t,this,l,s,a),BM(t,this,l,s,a),t.restore()}}Ne(lh,"id","arc"),Ne(lh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ne(lh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ne(lh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function fT(r,e,t=e){r.lineCap=mt(t.borderCapStyle,e.borderCapStyle),r.setLineDash(mt(t.borderDash,e.borderDash)),r.lineDashOffset=mt(t.borderDashOffset,e.borderDashOffset),r.lineJoin=mt(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=mt(t.borderWidth,e.borderWidth),r.strokeStyle=mt(t.borderColor,e.borderColor)}function bM(r,e,t){r.lineTo(t.x,t.y)}function IM(r){return r.stepped?$P:r.tension||r.cubicInterpolationMode==="monotone"?jP:bM}function gT(r,e,t={}){const n=r.length,{start:i=0,end:o=n-1}=t,{start:s,end:a}=e,A=Math.max(i,s),c=Math.min(o,a),l=i<s&&o<s||i>a&&o>a;return{count:n,start:A,loop:e.loop,ilen:c<A&&!l?n+c-A:c-A}}function EM(r,e,t,n){const{points:i,options:o}=e,{count:s,start:a,loop:A,ilen:c}=gT(i,t,n),l=IM(o);let{move:u=!0,reverse:d}=n||{},f,m,w;for(f=0;f<=c;++f)m=i[(a+(d?c-f:f))%s],!m.skip&&(u?(r.moveTo(m.x,m.y),u=!1):l(r,w,m,d,o.stepped),w=m);return A&&(m=i[(a+(d?c:0))%s],l(r,w,m,d,o.stepped)),!!A}function SM(r,e,t,n){const i=e.points,{count:o,start:s,ilen:a}=gT(i,t,n),{move:A=!0,reverse:c}=n||{};let l=0,u=0,d,f,m,w,B,y;const b=O=>(s+(c?a-O:O))%o,x=()=>{w!==B&&(r.lineTo(l,B),r.lineTo(l,w),r.lineTo(l,y))};for(A&&(f=i[b(0)],r.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[b(d)],f.skip)continue;const O=f.x,L=f.y,K=O|0;K===m?(L<w?w=L:L>B&&(B=L),l=(u*l+O)/++u):(x(),r.lineTo(O,L),m=K,u=0,w=B=L),y=L}x()}function Jw(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?SM:EM}function TM(r){return r.stepped?EL:r.tension||r.cubicInterpolationMode==="monotone"?SL:Xa}function _M(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),fT(r,e.options),r.stroke(i)}function kM(r,e,t,n){const{segments:i,options:o}=e,s=Jw(e);for(const a of i)fT(r,o,a.style),r.beginPath(),s(r,e,a,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const FM=typeof Path2D=="function";function UM(r,e,t,n){FM&&!e.options.segment?_M(r,e,t,n):kM(r,e,t,n)}class oa extends ao{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;mL(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xL(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],o=this.points,s=eT(this,{property:t,start:i,end:i});if(!s.length)return;const a=[],A=TM(n);let c,l;for(c=0,l=s.length;c<l;++c){const{start:u,end:d}=s[c],f=o[u],m=o[d];if(f===m){a.push(f);continue}const w=Math.abs((i-f[t])/(m[t]-f[t])),B=A(f,m,w,n.stepped);B[t]=e[t],a.push(B)}return a.length===1?a[0]:a}pathSegment(e,t,n){return Jw(this)(e,this,t,n)}path(e,t,n){const i=this.segments,o=Jw(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of i)s&=o(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),UM(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ne(oa,"id","line"),Ne(oa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ne(oa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ne(oa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ub(r,e,t,n){const i=r.options,{[t]:o}=r.getProps([t],n);return Math.abs(e-o)<i.radius+i.hitRadius}class vf extends ao{constructor(t){super();Ne(this,"parsed");Ne(this,"skip");Ne(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return Ub(this,t,"x",n)}inYRange(t,n){return Ub(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!ys(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,jw(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ne(vf,"id","point"),Ne(vf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ne(vf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pT(r,e){const{x:t,y:n,base:i,width:o,height:s}=r.getProps(["x","y","base","width","height"],e);let a,A,c,l,u;return r.horizontal?(u=s/2,a=Math.min(t,i),A=Math.max(t,i),c=n-u,l=n+u):(u=o/2,a=t-u,A=t+u,c=Math.min(n,i),l=Math.max(n,i)),{left:a,top:c,right:A,bottom:l}}function sa(r,e,t,n){return r?0:lr(e,t,n)}function xM(r,e,t){const n=r.options.borderWidth,i=r.borderSkipped,o=GS(n);return{t:sa(i.top,o.top,0,t),r:sa(i.right,o.right,0,e),b:sa(i.bottom,o.bottom,0,t),l:sa(i.left,o.left,0,e)}}function RM(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,o=hA(i),s=Math.min(e,t),a=r.borderSkipped,A=n||kt(i);return{topLeft:sa(!A||a.top||a.left,o.topLeft,0,s),topRight:sa(!A||a.top||a.right,o.topRight,0,s),bottomLeft:sa(!A||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:sa(!A||a.bottom||a.right,o.bottomRight,0,s)}}function NM(r){const e=pT(r),t=e.right-e.left,n=e.bottom-e.top,i=xM(r,t/2,n/2),o=RM(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Im(r,e,t,n){const i=e===null,o=t===null,a=r&&!(i&&o)&&pT(r,n);return a&&(i||ws(e,a.left,a.right))&&(o||ws(t,a.top,a.bottom))}function PM(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function LM(r,e){r.rect(e.x,e.y,e.w,e.h)}function Em(r,e,t={}){const n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,o=(r.x+r.w!==t.x+t.w?e:0)-n,s=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+o,h:r.h+s,radius:r.radius}}class Bf extends ao{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:s}=NM(this),a=PM(s.radius)?Gh:LM;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,Em(s,t,o)),e.clip(),a(e,Em(o,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,Em(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Im(this,e,t,n)}inXRange(e,t){return Im(this,e,null,t)}inYRange(e,t){return Im(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ne(Bf,"id","bar"),Ne(Bf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ne(Bf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var OM=Object.freeze({__proto__:null,ArcElement:lh,BarElement:Bf,LineElement:oa,PointElement:vf});const Xw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xb=Xw.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function mT(r){return Xw[r%Xw.length]}function wT(r){return xb[r%xb.length]}function MM(r,e){return r.borderColor=mT(e),r.backgroundColor=wT(e),++e}function QM(r,e){return r.backgroundColor=r.data.map(()=>mT(e++)),e}function HM(r,e){return r.backgroundColor=r.data.map(()=>wT(e++)),e}function DM(r){let e=0;return(t,n)=>{const i=r.getDatasetMeta(n).controller;i instanceof oA?e=QM(t,e):i instanceof _h?e=HM(t,e):i&&(e=MM(t,e))}}function Rb(r){let e;for(e in r)if(r[e].borderColor||r[e].backgroundColor)return!0;return!1}function KM(r){return r&&(r.borderColor||r.backgroundColor)}function GM(){return Cn.borderColor!=="rgba(0,0,0,0.1)"||Cn.backgroundColor!=="rgba(0,0,0,0.1)"}var VM={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,e,t){if(!t.enabled)return;const{data:{datasets:n},options:i}=r.config,{elements:o}=i,s=Rb(n)||KM(i)||o&&Rb(o)||GM();if(!t.forceOverride&&s)return;const a=DM(r);n.forEach(a)}};function qM(r,e,t,n,i){const o=i.samples||n;if(o>=t)return r.slice(e,e+t);const s=[],a=(t-2)/(o-2);let A=0;const c=e+t-1;let l=e,u,d,f,m,w;for(s[A++]=r[l],u=0;u<o-2;u++){let B=0,y=0,b;const x=Math.floor((u+1)*a)+1+e,O=Math.min(Math.floor((u+2)*a)+1,t)+e,L=O-x;for(b=x;b<O;b++)B+=r[b].x,y+=r[b].y;B/=L,y/=L;const K=Math.floor(u*a)+1+e,H=Math.min(Math.floor((u+1)*a)+1,t)+e,{x:P,y:q}=r[l];for(f=m=-1,b=K;b<H;b++)m=.5*Math.abs((P-B)*(r[b].y-q)-(P-r[b].x)*(y-q)),m>f&&(f=m,d=r[b],w=b);s[A++]=d,l=w}return s[A++]=r[c],s}function $M(r,e,t,n){let i=0,o=0,s,a,A,c,l,u,d,f,m,w;const B=[],y=e+t-1,b=r[e].x,O=r[y].x-b;for(s=e;s<e+t;++s){a=r[s],A=(a.x-b)/O*n,c=a.y;const L=A|0;if(L===l)c<m?(m=c,u=s):c>w&&(w=c,d=s),i=(o*i+a.x)/++o;else{const K=s-1;if(!St(u)&&!St(d)){const H=Math.min(u,d),P=Math.max(u,d);H!==f&&H!==K&&B.push({...r[H],x:i}),P!==f&&P!==K&&B.push({...r[P],x:i})}s>0&&K!==f&&B.push(r[K]),B.push(a),l=L,o=0,m=w=c,u=d=f=s}}return B}function CT(r){if(r._decimated){const e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Nb(r){r.data.datasets.forEach(e=>{CT(e)})}function jM(r,e){const t=e.length;let n=0,i;const{iScale:o}=r,{min:s,max:a,minDefined:A,maxDefined:c}=o.getUserBounds();return A&&(n=lr(Cs(e,o.axis,s).lo,0,t-1)),c?i=lr(Cs(e,o.axis,a).hi+1,n,t)-n:i=t-n,{start:n,count:i}}var zM={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){Nb(r);return}const n=r.width;r.data.datasets.forEach((i,o)=>{const{_data:s,indexAxis:a}=i,A=r.getDatasetMeta(o),c=s||i.data;if(Ah([a,r.options.indexAxis])==="y"||!A.controller.supportsDecimation)return;const l=r.scales[A.xAxisID];if(l.type!=="linear"&&l.type!=="time"||r.options.parsing)return;let{start:u,count:d}=jM(A,c);const f=t.threshold||4*n;if(d<=f){CT(i);return}St(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let m;switch(t.algorithm){case"lttb":m=qM(c,u,d,n,t);break;case"min-max":m=$M(c,u,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=m})},destroy(r){Nb(r)}};function WM(r,e,t){const n=r.segments,i=r.points,o=e.points,s=[];for(const a of n){let{start:A,end:c}=a;c=Og(A,c,i);const l=Zw(t,i[A],i[c],a.loop);if(!e.segments){s.push({source:a,target:l,start:i[A],end:i[c]});continue}const u=eT(e,l);for(const d of u){const f=Zw(t,o[d.start],o[d.end],d.loop),m=ZS(a,i,f);for(const w of m)s.push({source:w,target:d,start:{[t]:Pb(l,f,"start",Math.max)},end:{[t]:Pb(l,f,"end",Math.min)}})}}return s}function Zw(r,e,t,n){if(n)return;let i=e[r],o=t[r];return r==="angle"&&(i=Ur(i),o=Ur(o)),{property:r,start:i,end:o}}function YM(r,e){const{x:t=null,y:n=null}=r||{},i=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=Og(s,a,i);const A=i[s],c=i[a];n!==null?(o.push({x:A.x,y:n}),o.push({x:c.x,y:n})):t!==null&&(o.push({x:t,y:A.y}),o.push({x:t,y:c.y}))}),o}function Og(r,e,t){for(;e>r;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Pb(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function yT(r,e){let t=[],n=!1;return wn(r)?(n=!0,t=r):t=YM(r,e),t.length?new oa({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Lb(r){return r&&r.fill!==!1}function JM(r,e,t){let i=r[e].fill;const o=[e];let s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!kn(i))return i;if(s=r[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function XM(r,e,t){const n=n4(r);if(kt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return kn(i)&&Math.floor(i)===i?ZM(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function ZM(r,e,t,n){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function e4(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:kt(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function t4(r,e,t){let n;return r==="start"?n=t:r==="end"?n=e.options.reverse?e.min:e.max:kt(r)?n=r.value:n=e.getBaseValue(),n}function n4(r){const e=r.options,t=e.fill;let n=mt(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function r4(r){const{scale:e,index:t,line:n}=r,i=[],o=n.segments,s=n.points,a=i4(e,t);a.push(yT({x:null,y:e.bottom},n));for(let A=0;A<o.length;A++){const c=o[A];for(let l=c.start;l<=c.end;l++)o4(i,s[l],a)}return new oa({points:i,options:{}})}function i4(r,e){const t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function o4(r,e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i],{first:s,last:a,point:A}=s4(o,e,"x");if(!(!A||s&&a)){if(s)n.unshift(A);else if(r.push(A),!a)break}}r.push(...n)}function s4(r,e,t){const n=r.interpolate(e,t);if(!n)return{};const i=n[t],o=r.segments,s=r.points;let a=!1,A=!1;for(let c=0;c<o.length;c++){const l=o[c],u=s[l.start][t],d=s[l.end][t];if(ws(i,u,d)){a=i===u,A=i===d;break}}return{first:a,last:A,point:n}}class vT{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:o,radius:s}=this;return t=t||{start:0,end:un},e.arc(i,o,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function a4(r){const{chart:e,fill:t,line:n}=r;if(kn(t))return A4(e,t);if(t==="stack")return r4(r);if(t==="shape")return!0;const i=c4(r);return i instanceof vT?i:yT(i,n)}function A4(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function c4(r){return(r.scale||{}).getPointPositionForValue?h4(r):l4(r)}function l4(r){const{scale:e={},fill:t}=r,n=e4(t,e);if(kn(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function h4(r){const{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,o=n.reverse?e.max:e.min,s=t4(t,e,o),a=[];if(n.grid.circular){const A=e.getPointPositionForValue(0,o);return new vT({x:A.x,y:A.y,radius:e.getDistanceFromCenterForValue(s)})}for(let A=0;A<i;++A)a.push(e.getPointPositionForValue(A,s));return a}function Sm(r,e,t){const n=a4(e),{chart:i,index:o,line:s,scale:a,axis:A}=e,c=s.options,l=c.fill,u=c.backgroundColor,{above:d=u,below:f=u}=l||{},m=i.getDatasetMeta(o),w=tT(i,m);n&&s.points.length&&(Rg(r,t),u4(r,{line:s,target:n,above:d,below:f,area:t,scale:a,axis:A,clip:w}),Ng(r))}function u4(r,e){const{line:t,target:n,above:i,below:o,area:s,scale:a,clip:A}=e,c=t._loop?"angle":e.axis;r.save();let l=o;o!==i&&(c==="x"?(Ob(r,n,s.top),Tm(r,{line:t,target:n,color:i,scale:a,property:c,clip:A}),r.restore(),r.save(),Ob(r,n,s.bottom)):c==="y"&&(Mb(r,n,s.left),Tm(r,{line:t,target:n,color:o,scale:a,property:c,clip:A}),r.restore(),r.save(),Mb(r,n,s.right),l=i)),Tm(r,{line:t,target:n,color:l,scale:a,property:c,clip:A}),r.restore()}function Ob(r,e,t){const{segments:n,points:i}=e;let o=!0,s=!1;r.beginPath();for(const a of n){const{start:A,end:c}=a,l=i[A],u=i[Og(A,c,i)];o?(r.moveTo(l.x,l.y),o=!1):(r.lineTo(l.x,t),r.lineTo(l.x,l.y)),s=!!e.pathSegment(r,a,{move:s}),s?r.closePath():r.lineTo(u.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function Mb(r,e,t){const{segments:n,points:i}=e;let o=!0,s=!1;r.beginPath();for(const a of n){const{start:A,end:c}=a,l=i[A],u=i[Og(A,c,i)];o?(r.moveTo(l.x,l.y),o=!1):(r.lineTo(t,l.y),r.lineTo(l.x,l.y)),s=!!e.pathSegment(r,a,{move:s}),s?r.closePath():r.lineTo(t,u.y)}r.lineTo(t,e.first().y),r.closePath(),r.clip()}function Tm(r,e){const{line:t,target:n,property:i,color:o,scale:s,clip:a}=e,A=WM(t,n,i);for(const{source:c,target:l,start:u,end:d}of A){const{style:{backgroundColor:f=o}={}}=c,m=n!==!0;r.save(),r.fillStyle=f,d4(r,s,a,m&&Zw(i,u,d)),r.beginPath();const w=!!t.pathSegment(r,c);let B;if(m){w?r.closePath():Qb(r,n,d,i);const y=!!n.pathSegment(r,l,{move:w,reverse:!0});B=w&&y,B||Qb(r,n,u,i)}r.closePath(),r.fill(B?"evenodd":"nonzero"),r.restore()}}function d4(r,e,t,n){const i=e.chart.chartArea,{property:o,start:s,end:a}=n||{};if(o==="x"||o==="y"){let A,c,l,u;o==="x"?(A=s,c=i.top,l=a,u=i.bottom):(A=i.left,c=s,l=i.right,u=a),r.beginPath(),t&&(A=Math.max(A,t.left),l=Math.min(l,t.right),c=Math.max(c,t.top),u=Math.min(u,t.bottom)),r.rect(A,c,l-A,u-c),r.clip()}}function Qb(r,e,t,n){const i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}var f4={id:"filler",afterDatasetsUpdate(r,e,t){const n=(r.data.datasets||[]).length,i=[];let o,s,a,A;for(s=0;s<n;++s)o=r.getDatasetMeta(s),a=o.dataset,A=null,a&&a.options&&a instanceof oa&&(A={visible:r.isDatasetVisible(s),index:s,fill:XM(a,s,n),chart:r,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=A,i.push(A);for(s=0;s<n;++s)A=i[s],!(!A||A.fill===!1)&&(A.fill=JM(i,s,t.propagate))},beforeDraw(r,e,t){const n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),o=r.chartArea;for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&Sm(r.ctx,a,o))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;Lb(o)&&Sm(r.ctx,o,r.chartArea)}},beforeDatasetDraw(r,e,t){const n=e.meta.$filler;!Lb(n)||t.drawTime!=="beforeDatasetDraw"||Sm(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hb=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},g4=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Db extends ao{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=an(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Wn(n.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:A}=Hb(n,o);let c,l;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(s,o,a,A)+10):(l=this.maxHeight,c=this._fitCols(s,i,a,A)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,A=this.legendHitBoxes=[],c=this.lineWidths=[0],l=i+a;let u=e;o.textAlign="left",o.textBaseline="middle";let d=-1,f=-l;return this.legendItems.forEach((m,w)=>{const B=n+t/2+o.measureText(m.text).width;(w===0||c[c.length-1]+B+2*a>s)&&(u+=l,c[c.length-(w>0?0:1)]=0,f+=l,d++),A[w]={left:0,top:f,row:d,width:B,height:i},c[c.length-1]+=B+a}),u}_fitCols(e,t,n,i){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,A=this.legendHitBoxes=[],c=this.columnSizes=[],l=s-e;let u=a,d=0,f=0,m=0,w=0;return this.legendItems.forEach((B,y)=>{const{itemWidth:b,itemHeight:x}=p4(n,t,o,B,i);y>0&&f+x+2*a>l&&(u+=d+a,c.push({width:d,height:f}),m+=d+a,w++,d=f=0),A[y]={left:m,top:f,col:w,width:b,height:x},d=Math.max(d,b),f+=x+a}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:o}}=this,s=Vc(o,this.left,this.width);if(this.isHorizontal()){let a=0,A=kr(n,this.left+i,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,A=kr(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=s.leftForLtr(s.x(A),c.width),A+=c.width+i}else{let a=0,A=kr(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,A=kr(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=A,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),A+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rg(e,this),this._draw(),Ng(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:o,labels:s}=e,a=Cn.color,A=Vc(e.rtl,this.left,this.width),c=Wn(s.font),{padding:l}=s,u=c.size,d=u/2;let f;this.drawTitle(),i.textAlign=A.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:w,itemHeight:B}=Hb(s,u),y=function(K,H,P){if(isNaN(m)||m<=0||isNaN(w)||w<0)return;i.save();const q=mt(P.lineWidth,1);if(i.fillStyle=mt(P.fillStyle,a),i.lineCap=mt(P.lineCap,"butt"),i.lineDashOffset=mt(P.lineDashOffset,0),i.lineJoin=mt(P.lineJoin,"miter"),i.lineWidth=q,i.strokeStyle=mt(P.strokeStyle,a),i.setLineDash(mt(P.lineDash,[])),s.usePointStyle){const ee={radius:w*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:q},F=A.xPlus(K,m/2),R=H+d;KS(i,ee,F,R,s.pointStyleWidth&&m)}else{const ee=H+Math.max((u-w)/2,0),F=A.leftForLtr(K,m),R=hA(P.borderRadius);i.beginPath(),Object.values(R).some($=>$!==0)?Gh(i,{x:F,y:ee,w:m,h:w,radius:R}):i.rect(F,ee,m,w),i.fill(),q!==0&&i.stroke()}i.restore()},b=function(K,H,P){BA(i,P.text,K,H+B/2,c,{strikethrough:P.hidden,textAlign:A.textAlign(P.textAlign)})},x=this.isHorizontal(),O=this._computeTitleHeight();x?f={x:kr(o,this.left+l,this.right-n[0]),y:this.top+l+O,line:0}:f={x:this.left+l,y:kr(o,this.top+O+l,this.bottom-t[0].height),line:0},YS(this.ctx,e.textDirection);const L=B+l;this.legendItems.forEach((K,H)=>{i.strokeStyle=K.fontColor,i.fillStyle=K.fontColor;const P=i.measureText(K.text).width,q=A.textAlign(K.textAlign||(K.textAlign=s.textAlign)),ee=m+d+P;let F=f.x,R=f.y;A.setWidth(this.width),x?H>0&&F+ee+l>this.right&&(R=f.y+=L,f.line++,F=f.x=kr(o,this.left+l,this.right-n[f.line])):H>0&&R+L>this.bottom&&(F=f.x=F+t[f.line].width+l,f.line++,R=f.y=kr(o,this.top+O+l,this.bottom-t[f.line].height));const $=A.x(F);if(y($,R,K),F=PP(q,F+m+d,x?F+ee:this.right,e.rtl),b(A.x(F),R,K),x)f.x+=ee+l;else if(typeof K.text!="string"){const V=c.lineHeight;f.y+=BT(K,V)+l}else f.y+=L}),JS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Wn(t.font),i=Mr(t.padding);if(!t.display)return;const o=Vc(e.rtl,this.left,this.width),s=this.ctx,a=t.position,A=n.size/2,c=i.top+A;let l,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),l=this.top+c,u=kr(e.align,u,this.right-d);else{const m=this.columnSizes.reduce((w,B)=>Math.max(w,B.height),0);l=c+kr(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=kr(a,u,u+d);s.textAlign=o.textAlign(sv(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,BA(s,t.text,f,l,n)}_computeTitleHeight(){const e=this.options.title,t=Wn(e.font),n=Mr(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,o;if(ws(e,this.left,this.right)&&ws(t,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],ws(e,i.left,i.left+i.width)&&ws(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!C4(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=g4(i,n);i&&!o&&an(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!o&&an(t.onHover,[e,n,this],this)}else n&&an(t.onClick,[e,n,this],this)}}function p4(r,e,t,n,i){const o=m4(n,r,e,t),s=w4(i,n,e.lineHeight);return{itemWidth:o,itemHeight:s}}function m4(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+n.measureText(i).width}function w4(r,e,t){let n=r;return typeof e.text!="string"&&(n=BT(e,t)),n}function BT(r,e){const t=r.text?r.text.length:0;return e*t}function C4(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var y4={id:"legend",_element:Db,start(r,e,t){const n=r.legend=new Db({ctx:r.ctx,options:t,chart:r});Or.configure(r,n,t),Or.addBox(r,n)},stop(r){Or.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;Or.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=r.legend.options;return r._getSortedDatasetMetas().map(A=>{const c=A.controller.getStyle(t?0:void 0),l=Mr(c.borderWidth);return{text:e[A.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!A.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:A.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class gv extends ao{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=wn(n.text)?n.text.length:1;this._padding=Mr(n.padding);const o=i*Wn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:o,options:s}=this,a=s.align;let A=0,c,l,u;return this.isHorizontal()?(l=kr(a,n,o),u=t+e,c=o-n):(s.position==="left"?(l=n+e,u=kr(a,i,t),A=Pt*-.5):(l=o-e,u=kr(a,t,i),A=Pt*.5),c=i-t),{titleX:l,titleY:u,maxWidth:c,rotation:A}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Wn(t.font),o=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:A,rotation:c}=this._drawArgs(o);BA(e,t.text,0,0,n,{color:t.color,maxWidth:A,rotation:c,textAlign:sv(t.align),textBaseline:"middle",translation:[s,a]})}}function v4(r,e){const t=new gv({ctx:r.ctx,options:e,chart:r});Or.configure(r,t,e),Or.addBox(r,t),r.titleBlock=t}var B4={id:"title",_element:gv,start(r,e,t){v4(r,t)},stop(r){const e=r.titleBlock;Or.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;Or.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ed=new WeakMap;var b4={id:"subtitle",start(r,e,t){const n=new gv({ctx:r.ctx,options:t,chart:r});Or.configure(r,n,t),Or.addBox(r,n),Ed.set(r,n)},stop(r){Or.removeBox(r,Ed.get(r)),Ed.delete(r)},beforeUpdate(r,e,t){const n=Ed.get(r);Or.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,o=0;for(e=0,t=r.length;e<t;++e){const a=r[e].element;if(a&&a.hasValue()){const A=a.tooltipPosition();n.add(A.x),i+=A.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,A)=>a+A)/n.size,y:i/o}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=r.length;o<s;++o){const A=r[o].element;if(A&&A.hasValue()){const c=A.getCenterPoint(),l=qw(e,c);l<i&&(i=l,a=A)}}if(a){const A=a.tooltipPosition();t=A.x,n=A.y}return{x:t,y:n}}};function _o(r,e){return e&&(wn(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function hs(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function I4(r,e){const{element:t,datasetIndex:n,index:i}=e,o=r.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:r,label:s,parsed:o.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function Kb(r,e){const t=r.chart.ctx,{body:n,footer:i,title:o}=r,{boxWidth:s,boxHeight:a}=e,A=Wn(e.bodyFont),c=Wn(e.titleFont),l=Wn(e.footerFont),u=o.length,d=i.length,f=n.length,m=Mr(e.padding);let w=m.height,B=0,y=n.reduce((O,L)=>O+L.before.length+L.lines.length+L.after.length,0);if(y+=r.beforeBody.length+r.afterBody.length,u&&(w+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),y){const O=e.displayColors?Math.max(a,A.lineHeight):A.lineHeight;w+=f*O+(y-f)*A.lineHeight+(y-1)*e.bodySpacing}d&&(w+=e.footerMarginTop+d*l.lineHeight+(d-1)*e.footerSpacing);let b=0;const x=function(O){B=Math.max(B,t.measureText(O).width+b)};return t.save(),t.font=c.string,qt(r.title,x),t.font=A.string,qt(r.beforeBody.concat(r.afterBody),x),b=e.displayColors?s+2+e.boxPadding:0,qt(n,O=>{qt(O.before,x),qt(O.lines,x),qt(O.after,x)}),b=0,t.font=l.string,qt(r.footer,x),t.restore(),B+=m.width,{width:B,height:w}}function E4(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function S4(r,e,t,n){const{x:i,width:o}=n,s=t.caretSize+t.caretPadding;if(r==="left"&&i+o+s>e.width||r==="right"&&i-o-s<0)return!0}function T4(r,e,t,n){const{x:i,width:o}=t,{width:s,chartArea:{left:a,right:A}}=r;let c="center";return n==="center"?c=i<=(a+A)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),S4(c,r,e,t)&&(c="center"),c}function Gb(r,e,t){const n=t.yAlign||e.yAlign||E4(r,t);return{xAlign:t.xAlign||e.xAlign||T4(r,e,t,n),yAlign:n}}function _4(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function k4(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Vb(r,e,t,n){const{caretSize:i,caretPadding:o,cornerRadius:s}=r,{xAlign:a,yAlign:A}=t,c=i+o,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=hA(s);let m=_4(e,a);const w=k4(e,A,c);return A==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(l,d)+i:a==="right"&&(m+=Math.max(u,f)+i),{x:lr(m,0,n.width-e.width),y:lr(w,0,n.height-e.height)}}function Sd(r,e,t){const n=Mr(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function qb(r){return _o([],hs(r))}function F4(r,e,t){return Sa(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function $b(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const bT={beforeTitle:os,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:os,beforeBody:os,beforeLabel:os,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return St(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:os,afterBody:os,beforeFooter:os,footer:os,afterFooter:os};function Zr(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?bT[e].call(t,n):i}class eC extends ao{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,o=new nT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=F4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=Zr(n,"beforeTitle",this,e),o=Zr(n,"title",this,e),s=Zr(n,"afterTitle",this,e);let a=[];return a=_o(a,hs(i)),a=_o(a,hs(o)),a=_o(a,hs(s)),a}getBeforeBody(e,t){return qb(Zr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return qt(e,o=>{const s={before:[],lines:[],after:[]},a=$b(n,o);_o(s.before,hs(Zr(a,"beforeLabel",this,o))),_o(s.lines,Zr(a,"label",this,o)),_o(s.after,hs(Zr(a,"afterLabel",this,o))),i.push(s)}),i}getAfterBody(e,t){return qb(Zr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=Zr(n,"beforeFooter",this,e),o=Zr(n,"footer",this,e),s=Zr(n,"afterFooter",this,e);let a=[];return a=_o(a,hs(i)),a=_o(a,hs(o)),a=_o(a,hs(s)),a}_createItems(e){const t=this._active,n=this.chart.data,i=[],o=[],s=[];let a=[],A,c;for(A=0,c=t.length;A<c;++A)a.push(I4(this.chart,t[A]));return e.filter&&(a=a.filter((l,u,d)=>e.filter(l,u,d,n))),e.itemSort&&(a=a.sort((l,u)=>e.itemSort(l,u,n))),qt(a,l=>{const u=$b(e.callbacks,l);i.push(Zr(u,"labelColor",this,l)),o.push(Zr(u,"labelPointStyle",this,l)),s.push(Zr(u,"labelTextColor",this,l))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=a,a}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let o,s=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=hh[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const A=this._size=Kb(this,n),c=Object.assign({},a,A),l=Gb(this.chart,n,c),u=Vb(n,c,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,o={opacity:1,x:u.x,y:u.y,width:A.width,height:A.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const o=this.getCaretPosition(e,n,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:o}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:A,topRight:c,bottomLeft:l,bottomRight:u}=hA(a),{x:d,y:f}=e,{width:m,height:w}=t;let B,y,b,x,O,L;return o==="center"?(O=f+w/2,i==="left"?(B=d,y=B-s,x=O+s,L=O-s):(B=d+m,y=B+s,x=O-s,L=O+s),b=B):(i==="left"?y=d+Math.max(A,l)+s:i==="right"?y=d+m-Math.max(c,u)-s:y=this.caretX,o==="top"?(x=f,O=x-s,B=y-s,b=y+s):(x=f+w,O=x+s,B=y+s,b=y-s),L=x),{x1:B,x2:y,x3:b,y1:x,y2:O,y3:L}}drawTitle(e,t,n){const i=this.title,o=i.length;let s,a,A;if(o){const c=Vc(n.rtl,this.x,this.width);for(e.x=Sd(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",s=Wn(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,A=0;A<o;++A)t.fillText(i[A],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,A+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,i,o){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:A,boxWidth:c}=o,l=Wn(o.bodyFont),u=Sd(this,"left",o),d=i.x(u),f=A<l.lineHeight?(l.lineHeight-A)/2:0,m=t.y+f;if(o.usePointStyle){const w={radius:Math.min(c,A)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},B=i.leftForLtr(d,c)+c/2,y=m+A/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,jw(e,w,B,y),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,jw(e,w,B,y)}else{e.lineWidth=kt(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const w=i.leftForLtr(d,c),B=i.leftForLtr(i.xPlus(d,1),c-2),y=hA(s.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Gh(e,{x:w,y:m,w:c,h:A,radius:y}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Gh(e,{x:B,y:m+1,w:c-2,h:A-2,radius:y}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(w,m,c,A),e.strokeRect(w,m,c,A),e.fillStyle=s.backgroundColor,e.fillRect(B,m+1,c-2,A-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:A,boxWidth:c,boxPadding:l}=n,u=Wn(n.bodyFont);let d=u.lineHeight,f=0;const m=Vc(n.rtl,this.x,this.width),w=function(P){t.fillText(P,m.x(e.x+f),e.y+d/2),e.y+=d+o},B=m.textAlign(s);let y,b,x,O,L,K,H;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=Sd(this,B,n),t.fillStyle=n.bodyColor,qt(this.beforeBody,w),f=a&&B!=="right"?s==="center"?c/2+l:c+2+l:0,O=0,K=i.length;O<K;++O){for(y=i[O],b=this.labelTextColors[O],t.fillStyle=b,qt(y.before,w),x=y.lines,a&&x.length&&(this._drawColorBox(t,e,O,m,n),d=Math.max(u.lineHeight,A)),L=0,H=x.length;L<H;++L)w(x[L]),d=u.lineHeight;qt(y.after,w)}f=0,d=u.lineHeight,qt(this.afterBody,w),e.y-=o}drawFooter(e,t,n){const i=this.footer,o=i.length;let s,a;if(o){const A=Vc(n.rtl,this.x,this.width);for(e.x=Sd(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=A.textAlign(n.footerAlign),t.textBaseline="middle",s=Wn(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<o;++a)t.fillText(i[a],A.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:o,yAlign:s}=this,{x:a,y:A}=e,{width:c,height:l}=n,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=hA(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+u,A),s==="top"&&this.drawCaret(e,t,n,i),t.lineTo(a+c-d,A),t.quadraticCurveTo(a+c,A,a+c,A+d),s==="center"&&o==="right"&&this.drawCaret(e,t,n,i),t.lineTo(a+c,A+l-m),t.quadraticCurveTo(a+c,A+l,a+c-m,A+l),s==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(a+f,A+l),t.quadraticCurveTo(a,A+l,a,A+l-f),s==="center"&&o==="left"&&this.drawCaret(e,t,n,i),t.lineTo(a,A+u),t.quadraticCurveTo(a,A,a+u,A),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const s=hh[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=Kb(this,e),A=Object.assign({},s,this._size),c=Gb(t,e,A),l=Vb(e,A,c,t);(i._to!==l.x||o._to!==l.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Mr(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,i,t),YS(e,t.textDirection),o.y+=s.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),JS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:a,index:A})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[A],index:A}}),o=!qf(n,i),s=this._positionChanged(i,t);(o||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],s=this._getActiveElements(e,o,t,n),a=this._positionChanged(s,e),A=t||!qf(s,o)||a;return A&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),A}_getActiveElements(e,t,n,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:o}=this,s=hh[o.position].call(this,e,t);return s!==!1&&(n!==s.x||i!==s.y)}}Ne(eC,"positioners",hh);var U4={id:"tooltip",_element:eC,positioners:hh,afterInit(r,e,t){t&&(r.tooltip=new eC({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},x4=Object.freeze({__proto__:null,Colors:VM,Decimation:zM,Filler:f4,Legend:y4,SubTitle:b4,Title:B4,Tooltip:U4});const R4=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function N4(r,e,t,n){const i=r.indexOf(e);if(i===-1)return R4(r,e,t,n);const o=r.lastIndexOf(e);return i!==o?t:i}const P4=(r,e)=>r===null?null:lr(Math.round(r),0,e);function jb(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class tC extends kA{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:o}of t)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(St(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:N4(n,e,mt(t,e),this._addedLabels),P4(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return jb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ne(tC,"id","category"),Ne(tC,"defaults",{ticks:{callback:jb}});function L4(r,e){const t=[],{bounds:i,step:o,min:s,max:a,precision:A,count:c,maxTicks:l,maxDigits:u,includeBounds:d}=r,f=o||1,m=l-1,{min:w,max:B}=e,y=!St(s),b=!St(a),x=!St(c),O=(B-w)/(u+1);let L=KB((B-w)/m/f)*f,K,H,P,q;if(L<1e-14&&!y&&!b)return[{value:w},{value:B}];q=Math.ceil(B/L)-Math.floor(w/L),q>m&&(L=KB(q*L/m/f)*f),St(A)||(K=Math.pow(10,A),L=Math.ceil(L*K)/K),i==="ticks"?(H=Math.floor(w/L)*L,P=Math.ceil(B/L)*L):(H=w,P=B),y&&b&&o&&_P((a-s)/o,L/1e3)?(q=Math.round(Math.min((a-s)/L,l)),L=(a-s)/q,H=s,P=a):x?(H=y?s:H,P=b?a:P,q=c-1,L=(P-H)/q):(q=(P-H)/L,Eh(q,Math.round(q),L/1e3)?q=Math.round(q):q=Math.ceil(q));const ee=Math.max(GB(L),GB(H));K=Math.pow(10,St(A)?ee:A),H=Math.round(H*K)/K,P=Math.round(P*K)/K;let F=0;for(y&&(d&&H!==s?(t.push({value:s}),H<s&&F++,Eh(Math.round((H+F*L)*K)/K,s,zb(s,O,r))&&F++):H<s&&F++);F<q;++F){const R=Math.round((H+F*L)*K)/K;if(b&&R>a)break;t.push({value:R})}return b&&d&&P!==a?t.length&&Eh(t[t.length-1].value,a,zb(a,O,r))?t[t.length-1].value=a:t.push({value:a}):(!b||P===a)&&t.push({value:P}),t}function zb(r,e,{horizontal:t,minRotation:n}){const i=eo(n),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+r).length;return Math.min(e/o,s)}class Xf extends kA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return St(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const s=A=>i=t?i:A,a=A=>o=n?o:A;if(e){const A=Oo(i),c=Oo(o);A<0&&c<0?a(0):A>0&&c>0&&s(0)}if(i===o){let A=o===0?1:Math.abs(o*.05);a(o+A),e||s(i-A)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=L4(i,o);return e.bounds==="ticks"&&RS(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return au(e,this.chart.options.locale,this.options.ticks.format)}}class nC extends Xf{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=kn(e)?e:0,this.max=kn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=eo(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ne(nC,"id","linear"),Ne(nC,"defaults",{ticks:{callback:xg.formatters.numeric}});const qh=r=>Math.floor(ia(r)),ja=(r,e)=>Math.pow(10,qh(r)+e);function Wb(r){return r/Math.pow(10,qh(r))===1}function Yb(r,e,t){const n=Math.pow(10,t),i=Math.floor(r/n);return Math.ceil(e/n)-i}function O4(r,e){const t=e-r;let n=qh(t);for(;Yb(r,e,n)>10;)n++;for(;Yb(r,e,n)<10;)n--;return Math.min(n,qh(r))}function M4(r,{min:e,max:t}){e=gi(r.min,e);const n=[],i=qh(e);let o=O4(e,t),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),A=i>o?Math.pow(10,i):0,c=Math.round((e-A)*s)/s,l=Math.floor((e-A)/a/10)*a*10;let u=Math.floor((c-l)/Math.pow(10,o)),d=gi(r.min,Math.round((A+l+u*Math.pow(10,o))*s)/s);for(;d<t;)n.push({value:d,major:Wb(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),d=Math.round((A+l+u*Math.pow(10,o))*s)/s;const f=gi(r.max,d);return n.push({value:f,major:Wb(f),significand:u}),n}class rC extends kA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Xf.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return kn(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=kn(e)?Math.max(0,e):null,this.max=kn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!kn(this._userMin)&&(this.min=e===ja(this.min,0)?ja(this.min,-1):ja(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=e?n:a,s=a=>i=t?i:a;n===i&&(n<=0?(o(1),s(10)):(o(ja(n,-1)),s(ja(i,1)))),n<=0&&o(ja(i,-1)),i<=0&&s(ja(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=M4(t,this);return e.bounds==="ticks"&&RS(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":au(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ia(e),this._valueRange=ia(this.max)-ia(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ia(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Ne(rC,"id","logarithmic"),Ne(rC,"defaults",{ticks:{callback:xg.formatters.logarithmic,major:{enabled:!0}}});function iC(r){const e=r.ticks;if(e.display&&r.display){const t=Mr(e.backdropPadding);return mt(e.font&&e.font.size,Cn.font.size)+t.height}return 0}function Q4(r,e,t){return t=wn(t)?t:[t],{w:qP(r,e.string,t),h:t.length*e.lineHeight}}function Jb(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function H4(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],o=r._pointLabels.length,s=r.options.pointLabels,a=s.centerPointLabels?Pt/o:0;for(let A=0;A<o;A++){const c=s.setContext(r.getPointLabelContext(A));i[A]=c.padding;const l=r.getPointPosition(A,r.drawingArea+i[A],a),u=Wn(c.font),d=Q4(r.ctx,u,r._pointLabels[A]);n[A]=d;const f=Ur(r.getIndexAngle(A)+a),m=Math.round(iv(f)),w=Jb(m,l.x,d.w,0,180),B=Jb(m,l.y,d.h,90,270);D4(t,e,f,w,B)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=V4(r,n,i)}function D4(r,e,t,n,i){const o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t));let a=0,A=0;n.start<e.l?(a=(e.l-n.start)/o,r.l=Math.min(r.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,r.r=Math.max(r.r,e.r+a)),i.start<e.t?(A=(e.t-i.start)/s,r.t=Math.min(r.t,e.t-A)):i.end>e.b&&(A=(i.end-e.b)/s,r.b=Math.max(r.b,e.b+A))}function K4(r,e,t){const n=r.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,A=r.getPointPosition(e,n+i+s,o),c=Math.round(iv(Ur(A.angle+Hn))),l=j4(A.y,a.h,c),u=q4(c),d=$4(A.x,a.w,u);return{visible:!0,x:A.x,y:l,textAlign:u,left:d,top:l,right:d+a.w,bottom:l+a.h}}function G4(r,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:o}=r;return!(ys({x:t,y:n},e)||ys({x:t,y:o},e)||ys({x:i,y:n},e)||ys({x:i,y:o},e))}function V4(r,e,t){const n=[],i=r._pointLabels.length,o=r.options,{centerPointLabels:s,display:a}=o.pointLabels,A={extra:iC(o)/2,additionalAngle:s?Pt/i:0};let c;for(let l=0;l<i;l++){A.padding=t[l],A.size=e[l];const u=K4(r,l,A);n.push(u),a==="auto"&&(u.visible=G4(u,c),u.visible&&(c=u))}return n}function q4(r){return r===0||r===180?"center":r<180?"left":"right"}function $4(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function j4(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function z4(r,e,t){const{left:n,top:i,right:o,bottom:s}=t,{backdropColor:a}=e;if(!St(a)){const A=hA(e.borderRadius),c=Mr(e.backdropPadding);r.fillStyle=a;const l=n-c.left,u=i-c.top,d=o-n+c.width,f=s-i+c.height;Object.values(A).some(m=>m!==0)?(r.beginPath(),Gh(r,{x:l,y:u,w:d,h:f,radius:A}),r.fill()):r.fillRect(l,u,d,f)}}function W4(r,e){const{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){const o=r._pointLabelItems[i];if(!o.visible)continue;const s=n.setContext(r.getPointLabelContext(i));z4(t,s,o);const a=Wn(s.font),{x:A,y:c,textAlign:l}=o;BA(t,r._pointLabels[i],A,c+a.lineHeight/2,a,{color:s.color,textAlign:l,textBaseline:"middle"})}}function IT(r,e,t,n){const{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,un);else{let o=r.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let s=1;s<n;s++)o=r.getPointPosition(s,e),i.lineTo(o.x,o.y)}}function Y4(r,e,t,n,i){const o=r.ctx,s=e.circular,{color:a,lineWidth:A}=e;!s&&!n||!a||!A||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=A,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),IT(r,t,s,n),o.closePath(),o.stroke(),o.restore())}function J4(r,e,t){return Sa(r,{label:t,index:e,type:"pointLabel"})}class uh extends Xf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Mr(iC(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=kn(e)&&!isNaN(e)?e:0,this.max=kn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/iC(this.options))}generateTickLabels(e){Xf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=an(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?H4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=un/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ur(e*t+eo(n))}getDistanceFromCenterForValue(e){if(St(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(St(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return J4(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-Hn+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),IT(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:o}=t,s=this._pointLabels.length;let a,A,c;if(t.pointLabels.display&&W4(this,s),i.display&&this.ticks.forEach((l,u)=>{if(u!==0||u===0&&this.min<0){A=this.getDistanceFromCenterForValue(l.value);const d=this.getContext(u),f=i.setContext(d),m=o.setContext(d);Y4(this,f,A,s,m)}}),n.display){for(e.save(),a=s-1;a>=0;a--){const l=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=l;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(l.borderDash),e.lineDashOffset=l.borderDashOffset,A=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,A),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,A)=>{if(A===0&&this.min>=0&&!t.reverse)return;const c=n.setContext(this.getContext(A)),l=Wn(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[A].value),c.showLabelBackdrop){e.font=l.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const u=Mr(c.backdropPadding);e.fillRect(-s/2-u.left,-o-l.size/2-u.top,s+u.width,l.size+u.height)}BA(e,a.label,0,-o,l,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Ne(uh,"id","radialLinear"),Ne(uh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ne(uh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ne(uh,"descriptors",{angleLines:{_fallback:"grid"}});const Mg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ri=Object.keys(Mg);function Xb(r,e){return r-e}function Zb(r,e){if(St(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:o}=r._parseOpts;let s=e;return typeof n=="function"&&(s=n(s)),kn(s)||(s=typeof n=="string"?t.parse(s,n):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(rl(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function e1(r,e,t,n){const i=ri.length;for(let o=ri.indexOf(r);o<i-1;++o){const s=Mg[ri[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=n)return ri[o]}return ri[i-1]}function X4(r,e,t,n,i){for(let o=ri.length-1;o>=ri.indexOf(t);o--){const s=ri[o];if(Mg[s].common&&r._adapter.diff(i,n,s)>=e-1)return s}return ri[t?ri.indexOf(t):0]}function Z4(r){for(let e=ri.indexOf(r)+1,t=ri.length;e<t;++e)if(Mg[ri[e]].common)return ri[e]}function t1(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=ov(t,e),o=t[n]>=e?t[n]:t[i];r[o]=!0}}function eQ(r,e,t,n){const i=r._adapter,o=+i.startOf(e[0].value,n),s=e[e.length-1].value;let a,A;for(a=o;a<=s;a=+i.add(a,1,n))A=t[a],A>=0&&(e[A].major=!0);return e}function n1(r,e,t){const n=[],i={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,n.push({value:a,major:!1});return o===0||!t?n:eQ(r,n,i,t)}class $h extends kA{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new AO._date(e.adapters.date);i.init(t),Ih(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Zb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function A(c){!s&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!s||!a)&&(A(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&A(this.getMinMax(!1))),i=kn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),o=kn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,s=this.max,a=xP(i,o,s);return this._unit=t.unit||(n.autoSkip?e1(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):X4(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Z4(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),n1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?n=o:n=(o-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;t=lr(t,0,s),n=lr(n,0,s),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,o=i.time,s=o.unit||e1(o.minUnit,t,n,this._getLabelCapacity(t)),a=mt(i.ticks.stepSize,1),A=s==="week"?o.isoWeekday:!1,c=rl(A)||A===!0,l={};let u=t,d,f;if(c&&(u=+e.startOf(u,"isoWeek",A)),u=+e.startOf(u,c?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<n;d=+e.add(d,a,s),f++)t1(l,d,m);return(d===n||i.bounds==="ticks"||f===1)&&t1(l,d,m),Object.keys(l).sort(Xb).map(w=>+w)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,s=t||i[o];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,i){const o=this.options,s=o.ticks.callback;if(s)return an(s,[e,t,n],this);const a=o.time.displayFormats,A=this._unit,c=this._majorUnit,l=A&&a[A],u=c&&a[c],d=n[t],f=c&&u&&d&&d.major;return this._adapter.format(e,i||(f?u:l))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=eo(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*s,h:n*s+a*o}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,o=this._tickFormatFunction(e,0,n1(this,[e],this._majorUnit),i),s=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Zb(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return LS(e.sort(Xb))}}Ne($h,"id","time"),Ne($h,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Td(r,e,t){let n=0,i=r.length-1,o,s,a,A;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=Cs(r,"pos",e)),{pos:o,time:a}=r[n],{pos:s,time:A}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=Cs(r,"time",e)),{time:o,pos:a}=r[n],{time:s,pos:A}=r[i]);const c=s-o;return c?a+(A-a)*(e-o)/c:a}class oC extends $h{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Td(t,this.min),this._tableRange=Td(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],o=[];let s,a,A,c,l;for(s=0,a=e.length;s<a;++s)c=e[s],c>=t&&c<=n&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,a=i.length;s<a;++s)l=i[s+1],A=i[s-1],c=i[s],Math.round((l+A)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Td(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Td(this._table,n*this._tableRange+this._minPos,!0)}}Ne(oC,"id","timeseries"),Ne(oC,"defaults",$h.defaults);var tQ=Object.freeze({__proto__:null,CategoryScale:tC,LinearScale:nC,LogarithmicScale:rC,RadialLinearScale:uh,TimeScale:$h,TimeSeriesScale:oC});const nQ=[aO,OM,x4,tQ];Uo.register(...nQ);function za(r){return document.getElementById(r)}let _m=null,km=null;async function r1(){const r=await Zy,e=await r.getAll("audits"),t=await r.getAll("answers"),n=Object.keys(ua),i={};n.forEach(m=>{i[m]={title:ua[m].title,conforme:0,naoConforme:0,totalItems:0,itemDetails:{}},ua[m].items.forEach((w,B)=>{i[m].itemDetails[B]={text:w,conforme:0,naoConforme:0}})}),t.forEach(m=>{const w=e.find(b=>b.idLocal===m.auditId);if(!w)return;const B=w.MetaKey;if(!i[B])return;m.resposta==="C"&&i[B].conforme++,m.resposta==="NC"&&i[B].naoConforme++;const y=i[B].itemDetails[m.itemIndex];y&&(m.resposta==="C"&&y.conforme++,m.resposta==="NC"&&y.naoConforme++)});let o=0,s=0;Object.values(i).forEach(m=>{m.totalItems=m.conforme+m.naoConforme,o+=m.conforme,s+=m.naoConforme});const a=o+s,A=a>0?(o/a*100).toFixed(1):"0";za("geral-adherence").textContent=`${A}%`,za("total-audits").textContent=String(e.length);const c=new Set(e.map(m=>m.MetaKey));za("audited-metas").textContent=String(c.size),za("total-conformidades").textContent=String(o),za("total-nao-conformidades").textContent=String(s);const l=za("meta-stats-container");l.innerHTML="",Object.keys(i).forEach(m=>{const w=i[m];if(w.conforme>0||w.naoConforme>0){const B=document.createElement("div");B.className="p-4 bg-gray-50 rounded-lg flex justify-between items-center border-l-4 border-blue-500",B.innerHTML=`
        <div><p class="font-bold text-gray-800">${w.title}</p></div>
        <div class="text-right flex space-x-6 items-center">
          <p class="text-green-600 text-lg">Conformes: <span class="font-bold">${w.conforme}</span></p>
          <p class="text-red-500 text-lg">No Conformes: <span class="font-bold">${w.naoConforme}</span></p>
        </div>
      `,l.appendChild(B)}}),l.childElementCount||(l.innerHTML='<p class="text-gray-500 text-center">Nenhuma auditoria foi realizada ainda.</p>');const u=za("item-details-body");u.innerHTML="",Object.keys(i).forEach(m=>{const w=i[m];Object.keys(w.itemDetails).forEach(B=>{const y=Number(B),b=w.itemDetails[y],x=b.conforme+b.naoConforme;if(x>0){const O=document.createElement("tr");O.className="border-b hover:bg-gray-50",O.innerHTML=`
          <td class="py-2 px-4">${w.title.split(":")[0]}</td>
          <td class="py-2 px-4">${m.replace("meta","")}.${y+1}</td>
          <td class="py-2 px-4 text-green-600">${b.conforme}</td>
          <td class="py-2 px-4 text-green-600">${(b.conforme/x*100).toFixed(1)}%</td>
          <td class="py-2 px-4 text-red-500">${b.naoConforme}</td>
          <td class="py-2 px-4 text-red-500">${(b.naoConforme/x*100).toFixed(1)}%</td>
        `,u.appendChild(O)}})});const d=Object.values(i).map(m=>m.title.split(":")[0]),f=Object.values(i).map(m=>m.totalItems>0?m.conforme/m.totalItems*100:0);_m&&_m.destroy(),_m=new Uo(document.getElementById("adherence-chart"),{type:"bar",data:{labels:d,datasets:[{label:"Aderncia (%)",data:f,borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,max:100}},responsive:!0}}),km&&km.destroy(),km=new Uo(document.getElementById("compliance-chart"),{type:"doughnut",data:{labels:["Conformidades","No Conformidades"],datasets:[{data:[o,s]}]},options:{responsive:!0,cutout:"70%"}})}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("nav-dashboard").addEventListener("click",()=>{setTimeout(r1,50)}),setTimeout(r1,100)});function sA(r){return document.getElementById(r)}function jh(r){const e={dashboard:sA("dashboard-view"),metas:sA("metas-view"),form:sA("form-view")};Object.values(e).forEach(t=>t.classList.add("hidden")),e[r].classList.remove("hidden"),sA("page-title").textContent=r==="dashboard"?"Dashboard":r==="metas"?"Selecionar Meta":"Formulrio"}function rQ(){const r=sA("metas-grid");r.innerHTML="",Object.keys(ua).forEach(e=>{const t=ua[e],n=document.createElement("button");n.className="p-6 bg-white rounded-2xl shadow-md text-left transition-transform transform hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500",n.innerHTML=`
      <div class="flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-600 mb-4"></div>
      <h3 class="text-lg font-bold text-gray-800">${t.title.split(":")[0]}</h3>
      <p class="text-gray-600">${t.title.split(":")[1]??""}</p>
    `,n.addEventListener("click",()=>{window.dispatchEvent(new CustomEvent("open-form",{detail:{metaKey:e}})),jh("form")}),r.appendChild(n)})}function iQ(){sA("nav-dashboard").addEventListener("click",()=>jh("dashboard")),sA("nav-metas").addEventListener("click",()=>jh("metas"))}document.addEventListener("DOMContentLoaded",()=>{iQ(),rQ()});async function oQ(r,e=5*1024*1024,t=1920){if(r.size<=e)return r;const n=await createImageBitmap(r),i=Math.min(1,t/n.width),o=document.createElement("canvas");o.width=Math.round(n.width*i),o.height=Math.round(n.height*i),o.getContext("2d").drawImage(n,0,0,o.width,o.height);let a=.9,A=null;for(;a>=.5&&(A=await new Promise(c=>{o.toBlob(l=>c(l||new Blob),"image/jpeg",a)}),!(A.size<=e));)a-=.1;return new File([A],r.name.replace(/\.\w+$/,".jpg"),{type:"image/jpeg"})}function $t(r){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(r)}var Lr=Uint8Array,yi=Uint16Array,pv=Int32Array,Qg=new Lr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hg=new Lr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sC=new Lr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ET=function(r,e){for(var t=new yi(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new pv(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return{b:t,r:i}},ST=ET(Qg,2),TT=ST.b,aC=ST.r;TT[28]=258,aC[258]=28;var _T=ET(Hg,0),sQ=_T.b,i1=_T.r,AC=new yi(32768);for(var hn=0;hn<32768;++hn){var zs=(hn&43690)>>1|(hn&21845)<<1;zs=(zs&52428)>>2|(zs&13107)<<2,zs=(zs&61680)>>4|(zs&3855)<<4,AC[hn]=((zs&65280)>>8|(zs&255)<<8)>>1}var Mo=function(r,e,t){for(var n=r.length,i=0,o=new yi(e);i<n;++i)r[i]&&++o[r[i]-1];var s=new yi(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new yi(1<<e);var A=15-e;for(i=0;i<n;++i)if(r[i])for(var c=i<<4|r[i],l=e-r[i],u=s[r[i]-1]++<<l,d=u|(1<<l)-1;u<=d;++u)a[AC[u]>>A]=c}else for(a=new yi(n),i=0;i<n;++i)r[i]&&(a[i]=AC[s[r[i]-1]++]>>15-r[i]);return a},va=new Lr(288);for(var hn=0;hn<144;++hn)va[hn]=8;for(var hn=144;hn<256;++hn)va[hn]=9;for(var hn=256;hn<280;++hn)va[hn]=7;for(var hn=280;hn<288;++hn)va[hn]=8;var zh=new Lr(32);for(var hn=0;hn<32;++hn)zh[hn]=5;var aQ=Mo(va,9,0),AQ=Mo(va,9,1),cQ=Mo(zh,5,0),lQ=Mo(zh,5,1),Fm=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},ji=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},Um=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},mv=function(r){return(r+7)/8|0},kT=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Lr(r.subarray(e,t))},hQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yi=function(r,e,t){var n=new Error(e||hQ[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Yi),!t)throw n;return n},uQ=function(r,e,t,n){var i=r.length,o=0;if(!i||e.f&&!e.l)return t||new Lr(0);var s=!t,a=s||e.i!=2,A=e.i;s&&(t=new Lr(i*3));var c=function(ke){var He=t.length;if(ke>He){var Oe=new Lr(Math.max(He*2,ke));Oe.set(t),t=Oe}},l=e.f||0,u=e.p||0,d=e.b||0,f=e.l,m=e.d,w=e.m,B=e.n,y=i*8;do{if(!f){l=ji(r,u,1);var b=ji(r,u+1,3);if(u+=3,b)if(b==1)f=AQ,m=lQ,w=9,B=5;else if(b==2){var K=ji(r,u,31)+257,H=ji(r,u+10,15)+4,P=K+ji(r,u+5,31)+1;u+=14;for(var q=new Lr(P),ee=new Lr(19),F=0;F<H;++F)ee[sC[F]]=ji(r,u+F*3,7);u+=H*3;for(var R=Fm(ee),$=(1<<R)-1,V=Mo(ee,R,1),F=0;F<P;){var ie=V[ji(r,u,$)];u+=ie&15;var x=ie>>4;if(x<16)q[F++]=x;else{var ne=0,se=0;for(x==16?(se=3+ji(r,u,3),u+=2,ne=q[F-1]):x==17?(se=3+ji(r,u,7),u+=3):x==18&&(se=11+ji(r,u,127),u+=7);se--;)q[F++]=ne}}var re=q.subarray(0,K),ue=q.subarray(K);w=Fm(re),B=Fm(ue),f=Mo(re,w,1),m=Mo(ue,B,1)}else Yi(1);else{var x=mv(u)+4,O=r[x-4]|r[x-3]<<8,L=x+O;if(L>i){A&&Yi(0);break}a&&c(d+O),t.set(r.subarray(x,L),d),e.b=d+=O,e.p=u=L*8,e.f=l;continue}if(u>y){A&&Yi(0);break}}a&&c(d+131072);for(var pe=(1<<w)-1,Ue=(1<<B)-1,S=u;;S=u){var ne=f[Um(r,u)&pe],Q=ne>>4;if(u+=ne&15,u>y){A&&Yi(0);break}if(ne||Yi(2),Q<256)t[d++]=Q;else if(Q==256){S=u,f=null;break}else{var G=Q-254;if(Q>264){var F=Q-257,z=Qg[F];G=ji(r,u,(1<<z)-1)+TT[F],u+=z}var X=m[Um(r,u)&Ue],ce=X>>4;X||Yi(3),u+=X&15;var ue=sQ[ce];if(ce>3){var z=Hg[ce];ue+=Um(r,u)&(1<<z)-1,u+=z}if(u>y){A&&Yi(0);break}a&&c(d+131072);var de=d+G;if(d<ue){var fe=o-ue,Fe=Math.min(ue,de);for(fe+d<0&&Yi(3);d<Fe;++d)t[d]=n[fe+d]}for(;d<de;++d)t[d]=t[d-ue]}}e.l=f,e.p=S,e.b=d,e.f=l,f&&(l=1,e.m=w,e.d=m,e.n=B)}while(!l);return d!=t.length&&s?kT(t,0,d):t.subarray(0,d)},ss=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},eh=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},xm=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,o=t.slice();if(!i)return{t:UT,l:0};if(i==1){var s=new Lr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(L,K){return L.f-K.f}),t.push({s:-1,f:25001});var a=t[0],A=t[1],c=0,l=1,u=2;for(t[0]={s:-1,f:a.f+A.f,l:a,r:A};l!=i-1;)a=t[t[c].f<t[u].f?c++:u++],A=t[c!=l&&t[c].f<t[u].f?c++:u++],t[l++]={s:-1,f:a.f+A.f,l:a,r:A};for(var d=o[0].s,n=1;n<i;++n)o[n].s>d&&(d=o[n].s);var f=new yi(d+1),m=cC(t[l-1],f,0);if(m>e){var n=0,w=0,B=m-e,y=1<<B;for(o.sort(function(K,H){return f[H.s]-f[K.s]||K.f-H.f});n<i;++n){var b=o[n].s;if(f[b]>e)w+=y-(1<<m-f[b]),f[b]=e;else break}for(w>>=B;w>0;){var x=o[n].s;f[x]<e?w-=1<<e-f[x]++-1:++n}for(;n>=0&&w;--n){var O=o[n].s;f[O]==e&&(--f[O],++w)}m=e}return{t:new Lr(f),l:m}},cC=function(r,e,t){return r.s==-1?Math.max(cC(r.l,e,t+1),cC(r.r,e,t+1)):e[r.s]=t},o1=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new yi(++e),n=0,i=r[0],o=1,s=function(A){t[n++]=A},a=1;a<=e;++a)if(r[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=r[a]}return{c:t.subarray(0,n),n:e}},th=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},FT=function(r,e,t){var n=t.length,i=mv(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var o=0;o<n;++o)r[i+o+4]=t[o];return(i+4+n)*8},s1=function(r,e,t,n,i,o,s,a,A,c,l){ss(e,l++,t),++i[256];for(var u=xm(i,15),d=u.t,f=u.l,m=xm(o,15),w=m.t,B=m.l,y=o1(d),b=y.c,x=y.n,O=o1(w),L=O.c,K=O.n,H=new yi(19),P=0;P<b.length;++P)++H[b[P]&31];for(var P=0;P<L.length;++P)++H[L[P]&31];for(var q=xm(H,7),ee=q.t,F=q.l,R=19;R>4&&!ee[sC[R-1]];--R);var $=c+5<<3,V=th(i,va)+th(o,zh)+s,ie=th(i,d)+th(o,w)+s+14+3*R+th(H,ee)+2*H[16]+3*H[17]+7*H[18];if(A>=0&&$<=V&&$<=ie)return FT(e,l,r.subarray(A,A+c));var ne,se,re,ue;if(ss(e,l,1+(ie<V)),l+=2,ie<V){ne=Mo(d,f,0),se=d,re=Mo(w,B,0),ue=w;var pe=Mo(ee,F,0);ss(e,l,x-257),ss(e,l+5,K-1),ss(e,l+10,R-4),l+=14;for(var P=0;P<R;++P)ss(e,l+3*P,ee[sC[P]]);l+=3*R;for(var Ue=[b,L],S=0;S<2;++S)for(var Q=Ue[S],P=0;P<Q.length;++P){var G=Q[P]&31;ss(e,l,pe[G]),l+=ee[G],G>15&&(ss(e,l,Q[P]>>5&127),l+=Q[P]>>12)}}else ne=aQ,se=va,re=cQ,ue=zh;for(var P=0;P<a;++P){var z=n[P];if(z>255){var G=z>>18&31;eh(e,l,ne[G+257]),l+=se[G+257],G>7&&(ss(e,l,z>>23&31),l+=Qg[G]);var X=z&31;eh(e,l,re[X]),l+=ue[X],X>3&&(eh(e,l,z>>5&8191),l+=Hg[X])}else eh(e,l,ne[z]),l+=se[z]}return eh(e,l,ne[256]),l+se[256]},dQ=new pv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),UT=new Lr(0),fQ=function(r,e,t,n,i,o){var s=o.z||r.length,a=new Lr(n+s+5*(1+Math.ceil(s/7e3))+i),A=a.subarray(n,a.length-i),c=o.l,l=(o.r||0)&7;if(e){l&&(A[0]=o.r>>3);for(var u=dQ[e-1],d=u>>13,f=u&8191,m=(1<<t)-1,w=o.p||new yi(32768),B=o.h||new yi(m+1),y=Math.ceil(t/3),b=2*y,x=function(st){return(r[st]^r[st+1]<<y^r[st+2]<<b)&m},O=new pv(25e3),L=new yi(288),K=new yi(32),H=0,P=0,q=o.i||0,ee=0,F=o.w||0,R=0;q+2<s;++q){var $=x(q),V=q&32767,ie=B[$];if(w[V]=ie,B[$]=V,F<=q){var ne=s-q;if((H>7e3||ee>24576)&&(ne>423||!c)){l=s1(r,A,0,O,L,K,P,ee,R,q-R,l),ee=H=P=0,R=q;for(var se=0;se<286;++se)L[se]=0;for(var se=0;se<30;++se)K[se]=0}var re=2,ue=0,pe=f,Ue=V-ie&32767;if(ne>2&&$==x(q-Ue))for(var S=Math.min(d,ne)-1,Q=Math.min(32767,q),G=Math.min(258,ne);Ue<=Q&&--pe&&V!=ie;){if(r[q+re]==r[q+re-Ue]){for(var z=0;z<G&&r[q+z]==r[q+z-Ue];++z);if(z>re){if(re=z,ue=Ue,z>S)break;for(var X=Math.min(Ue,z-2),ce=0,se=0;se<X;++se){var de=q-Ue+se&32767,fe=w[de],Fe=de-fe&32767;Fe>ce&&(ce=Fe,ie=de)}}}V=ie,ie=w[V],Ue+=V-ie&32767}if(ue){O[ee++]=268435456|aC[re]<<18|i1[ue];var ke=aC[re]&31,He=i1[ue]&31;P+=Qg[ke]+Hg[He],++L[257+ke],++K[He],F=q+re,++H}else O[ee++]=r[q],++L[r[q]]}}for(q=Math.max(q,F);q<s;++q)O[ee++]=r[q],++L[r[q]];l=s1(r,A,c,O,L,K,P,ee,R,q-R,l),c||(o.r=l&7|A[l/8|0]<<3,l-=7,o.h=B,o.p=w,o.i=q,o.w=F)}else{for(var q=o.w||0;q<s+c;q+=65535){var Oe=q+65535;Oe>=s&&(A[l/8|0]=c,Oe=s),l=FT(A,l+1,r.subarray(q,Oe))}o.i=s}return kT(a,0,n+mv(l)+i)},xT=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},gQ=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Lr(o.length+r.length);s.set(o),s.set(r,o.length),r=s,i.w=o.length}return fQ(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},RT=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},pQ=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=xT();i.p(e.dictionary),RT(r,2,i.d())}},mQ=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Yi(6,"invalid zlib data"),(r[1]>>5&1)==1&&Yi(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function lC(r,e){e||(e={});var t=xT();t.p(r);var n=gQ(r,e,e.dictionary?6:2,4);return pQ(n,e),RT(n,n.length-4,t.d()),n}function wQ(r,e){return uQ(r.subarray(mQ(r),-4),{i:2},e,e)}var CQ=typeof TextDecoder<"u"&&new TextDecoder,yQ=0;try{CQ.decode(UT,{stream:!0}),yQ=1}catch{}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rm(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var tn={log:Rm,warn:function(r){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):Rm.call(null,arguments))},error:function(r){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):Rm(r))}};function Nm(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Za(n.response,e,t)},n.onerror=function(){tn.error("could not download file")},n.send()}function a1(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function _d(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var kh,hC,Za=ct.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=ct.URL||ct.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?a1(i.href)?Nm(r,e,t):_d(i,i.target="_blank"):_d(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){_d(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(a1(r))Nm(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){_d(n)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:$t(o)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Nm(r,e,t);var i=r.type==="application/octet-stream",o=/constructor/i.test(ct.HTMLElement)||ct.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var l=a.result;l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location=l,n=null},a.readAsDataURL(r)}else{var A=ct.URL||ct.webkitURL,c=A.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){A.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function NT(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,o=t[n].process,s=i.exec(r);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),A=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),A.length==1&&(A="0"+A),c.length==1&&(c="0"+c),"#"+a+A+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pm(r,e){var t=r[0],n=r[1],i=r[2],o=r[3];t=Ir(t,n,i,o,e[0],7,-680876936),o=Ir(o,t,n,i,e[1],12,-389564586),i=Ir(i,o,t,n,e[2],17,606105819),n=Ir(n,i,o,t,e[3],22,-1044525330),t=Ir(t,n,i,o,e[4],7,-176418897),o=Ir(o,t,n,i,e[5],12,1200080426),i=Ir(i,o,t,n,e[6],17,-1473231341),n=Ir(n,i,o,t,e[7],22,-45705983),t=Ir(t,n,i,o,e[8],7,1770035416),o=Ir(o,t,n,i,e[9],12,-1958414417),i=Ir(i,o,t,n,e[10],17,-42063),n=Ir(n,i,o,t,e[11],22,-1990404162),t=Ir(t,n,i,o,e[12],7,1804603682),o=Ir(o,t,n,i,e[13],12,-40341101),i=Ir(i,o,t,n,e[14],17,-1502002290),t=Er(t,n=Ir(n,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Er(o,t,n,i,e[6],9,-1069501632),i=Er(i,o,t,n,e[11],14,643717713),n=Er(n,i,o,t,e[0],20,-373897302),t=Er(t,n,i,o,e[5],5,-701558691),o=Er(o,t,n,i,e[10],9,38016083),i=Er(i,o,t,n,e[15],14,-660478335),n=Er(n,i,o,t,e[4],20,-405537848),t=Er(t,n,i,o,e[9],5,568446438),o=Er(o,t,n,i,e[14],9,-1019803690),i=Er(i,o,t,n,e[3],14,-187363961),n=Er(n,i,o,t,e[8],20,1163531501),t=Er(t,n,i,o,e[13],5,-1444681467),o=Er(o,t,n,i,e[2],9,-51403784),i=Er(i,o,t,n,e[7],14,1735328473),t=Sr(t,n=Er(n,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Sr(o,t,n,i,e[8],11,-2022574463),i=Sr(i,o,t,n,e[11],16,1839030562),n=Sr(n,i,o,t,e[14],23,-35309556),t=Sr(t,n,i,o,e[1],4,-1530992060),o=Sr(o,t,n,i,e[4],11,1272893353),i=Sr(i,o,t,n,e[7],16,-155497632),n=Sr(n,i,o,t,e[10],23,-1094730640),t=Sr(t,n,i,o,e[13],4,681279174),o=Sr(o,t,n,i,e[0],11,-358537222),i=Sr(i,o,t,n,e[3],16,-722521979),n=Sr(n,i,o,t,e[6],23,76029189),t=Sr(t,n,i,o,e[9],4,-640364487),o=Sr(o,t,n,i,e[12],11,-421815835),i=Sr(i,o,t,n,e[15],16,530742520),t=Tr(t,n=Sr(n,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Tr(o,t,n,i,e[7],10,1126891415),i=Tr(i,o,t,n,e[14],15,-1416354905),n=Tr(n,i,o,t,e[5],21,-57434055),t=Tr(t,n,i,o,e[12],6,1700485571),o=Tr(o,t,n,i,e[3],10,-1894986606),i=Tr(i,o,t,n,e[10],15,-1051523),n=Tr(n,i,o,t,e[1],21,-2054922799),t=Tr(t,n,i,o,e[8],6,1873313359),o=Tr(o,t,n,i,e[15],10,-30611744),i=Tr(i,o,t,n,e[6],15,-1560198380),n=Tr(n,i,o,t,e[13],21,1309151649),t=Tr(t,n,i,o,e[4],6,-145523070),o=Tr(o,t,n,i,e[11],10,-1120210379),i=Tr(i,o,t,n,e[2],15,718787259),n=Tr(n,i,o,t,e[9],21,-343485551),r[0]=aa(t,r[0]),r[1]=aa(n,r[1]),r[2]=aa(i,r[2]),r[3]=aa(o,r[3])}function Dg(r,e,t,n,i,o){return e=aa(aa(e,r),aa(n,o)),aa(e<<i|e>>>32-i,t)}function Ir(r,e,t,n,i,o,s){return Dg(e&t|~e&n,r,e,i,o,s)}function Er(r,e,t,n,i,o,s){return Dg(e&n|t&~n,r,e,i,o,s)}function Sr(r,e,t,n,i,o,s){return Dg(e^t^n,r,e,i,o,s)}function Tr(r,e,t,n,i,o,s){return Dg(t^(e|~n),r,e,i,o,s)}function PT(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Pm(n,vQ(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Pm(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Pm(n,i),n}function vQ(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}kh=ct.atob.bind(ct),hC=ct.btoa.bind(ct);var A1="0123456789abcdef".split("");function BQ(r){for(var e="",t=0;t<4;t++)e+=A1[r>>8*t+4&15]+A1[r>>8*t&15];return e}function bQ(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function uC(r){return PT(r).map(bQ).join("")}var IQ=function(r){for(var e=0;e<r.length;e++)r[e]=BQ(r[e]);return r.join("")}(PT("hello"))!="5d41402abc4b2a76b9719d911017c592";function aa(r,e){if(IQ){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function dC(r,e){var t,n,i,o;if(r!==t){for(var s=(i=r,o=1+(256/r.length>>0),new Array(o+1).join(i)),a=[],A=0;A<256;A++)a[A]=A;var c=0;for(A=0;A<256;A++){var l=a[A];c=(c+l+s.charCodeAt(A))%256,a[A]=a[c],a[c]=l}t=r,n=a}else a=n;var u=e.length,d=0,f=0,m="";for(A=0;A<u;A++)f=(f+(l=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=l,s=a[(a[d]+a[f])%256],m+=String.fromCharCode(e.charCodeAt(A)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var c1={print:4,modify:8,copy:16,"annot-forms":32};function Tc(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(a){if(c1.perm!==void 0)throw new Error("Invalid permission: "+a);i+=c1[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=uC(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=dC(this.encryptionKey,this.padding)}function _c(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=r[n]}return e}function l1(r){if($t(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!i],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(r,n)}catch(a){ct.console&&tn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zf(r){if(!(this instanceof Zf))return new Zf(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function LT(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function tA(r,e,t,n,i){if(!(this instanceof tA))return new tA(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,LT.call(this,n,i)}function Oc(r,e,t,n,i){if(!(this instanceof Oc))return new Oc(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,LT.call(this,n,i)}function ot(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,A=16,c="S",l=null;$t(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,o=r.compress||r.compressPdf||o,(l=r.encryption||null)!==null&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),a=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(A=r.floatPrecision),c=r.defaultPathOperation||"S"),s=r.filters||(o===!0?["FlateEncode"]:s),n=n||"mm",t=(""+(t||"P")).toLowerCase();var u=r.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=l1;var m="1.3",w=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(p){m=p};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return B};var y=f.__private__.getPageFormat=function(p){return B[p]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},x=b.COMPAT;function O(){this.saveGraphicsState(),j(new it(Ke,0,0,-Ke,0,Ps()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),c="n",x=b.ADVANCED}function L(){this.restoreGraphicsState(),c="S",x=b.COMPAT}var K=f.__private__.combineFontStyleAndFontWeight=function(p,E){if(p=="bold"&&E=="normal"||p=="bold"&&E==400||p=="normal"&&E=="italic"||p=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(p=E==400||E==="normal"?p==="italic"?"italic":"normal":E!=700&&E!=="bold"||p!=="normal"?(E==700?"bold":E)+""+p:"bold"),p};f.advancedAPI=function(p){var E=x===b.COMPAT;return E&&O.call(this),typeof p!="function"||(p(this),E&&L.call(this)),this},f.compatAPI=function(p){var E=x===b.ADVANCED;return E&&L.call(this),typeof p!="function"||(p(this),E&&O.call(this)),this},f.isAdvancedAPI=function(){return x===b.ADVANCED};var H,P=function(p){if(x!==b.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=f.roundToPrecision=f.__private__.roundToPrecision=function(p,E){var D=e||E;if(isNaN(p)||isNaN(D))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(D).replace(/0+$/,"")};H=f.hpf=f.__private__.hpf=typeof A=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return q(p,A)}:A==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return q(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return q(p,16)};var ee=f.f2=f.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return q(p,2)},F=f.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return q(p,3)},R=f.scale=f.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return x===b.COMPAT?p*Ke:x===b.ADVANCED?p:void 0},$=function(p){return x===b.COMPAT?Ps()-p:x===b.ADVANCED?p:void 0},V=function(p){return R($(p))};f.__private__.setPrecision=f.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(e=parseInt(p,10))};var ie,ne="00000000000000000000000000000000",se=f.__private__.getFileId=function(){return ne},re=f.__private__.setFileId=function(p){return ne=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),l!==null&&(Br=new Tc(l.userPermissions,l.userPassword,l.ownerPassword,ne)),ne};f.setFileId=function(p){return re(p),this},f.getFileId=function(){return se()};var ue=f.__private__.convertDateToPDFDate=function(p){var E=p.getTimezoneOffset(),D=E<0?"+":"-",W=Math.floor(Math.abs(E/60)),oe=Math.abs(E%60),me=[D,G(W),"'",G(oe),"'"].join("");return["D:",p.getFullYear(),G(p.getMonth()+1),G(p.getDate()),G(p.getHours()),G(p.getMinutes()),G(p.getSeconds()),me].join("")},pe=f.__private__.convertPDFDateToDate=function(p){var E=parseInt(p.substr(2,4),10),D=parseInt(p.substr(6,2),10)-1,W=parseInt(p.substr(8,2),10),oe=parseInt(p.substr(10,2),10),me=parseInt(p.substr(12,2),10),Ee=parseInt(p.substr(14,2),10);return new Date(E,D,W,oe,me,Ee,0)},Ue=f.__private__.setCreationDate=function(p){var E;if(p===void 0&&(p=new Date),p instanceof Date)E=ue(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=p}return ie=E},S=f.__private__.getCreationDate=function(p){var E=ie;return p==="jsDate"&&(E=pe(ie)),E};f.setCreationDate=function(p){return Ue(p),this},f.getCreationDate=function(p){return S(p)};var Q,G=f.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},z=f.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},X=0,ce=[],de=[],fe=0,Fe=[],ke=[],He=!1,Oe=de,st=function(){X=0,fe=0,de=[],ce=[],Fe=[],zo=Dn(),Qi=Dn()};f.__private__.setCustomOutputDestination=function(p){He=!0,Oe=p};var ye=function(p){He||(Oe=p)};f.__private__.resetCustomOutputDestination=function(){He=!1,Oe=de};var j=f.__private__.out=function(p){return p=p.toString(),fe+=p.length+1,Oe.push(p),Oe},wt=f.__private__.write=function(p){return j(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},Ye=f.__private__.getArrayBuffer=function(p){for(var E=p.length,D=new ArrayBuffer(E),W=new Uint8Array(D);E--;)W[E]=p.charCodeAt(E);return D},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return _e};var Pe=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(p){return Pe=x===b.ADVANCED?p/Ke:p,this};var De,Qe=f.__private__.getFontSize=f.getFontSize=function(){return x===b.COMPAT?Pe:Pe*Ke},Xe=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(p){return Xe=p,this},f.__private__.getR2L=f.getR2L=function(){return Xe};var dt,vt=f.__private__.setZoomMode=function(p){var E=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))De=p;else if(isNaN(p)){if(E.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');De=p}else De=parseInt(p,10)};f.__private__.getZoomMode=function(){return De};var It,xt=f.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');dt=p};f.__private__.getPageMode=function(){return dt};var jt=f.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');It=p};f.__private__.getLayoutMode=function(){return It},f.__private__.setDisplayMode=f.setDisplayMode=function(p,E,D){return vt(p),jt(E),xt(D),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(p){if(Object.keys(lt).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[p]},f.__private__.getDocumentProperties=function(){return lt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(p){for(var E in lt)lt.hasOwnProperty(E)&&p[E]&&(lt[E]=p[E]);return this},f.__private__.setDocumentProperty=function(p,E){if(Object.keys(lt).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[p]=E};var Et,Ke,vr,Nt,Li,Zt={},dn={},fo=[],Mt={},Ua={},bn={},Oi={},jo=null,In=0,ft=[],Qt=new l1(f),xa=r.hotfixes||[],hr={},go={},po=[],it=function p(E,D,W,oe,me,Ee){if(!(this instanceof p))return new p(E,D,W,oe,me,Ee);isNaN(E)&&(E=1),isNaN(D)&&(D=0),isNaN(W)&&(W=0),isNaN(oe)&&(oe=1),isNaN(me)&&(me=0),isNaN(Ee)&&(Ee=0),this._matrix=[E,D,W,oe,me,Ee]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(p)},it.prototype.multiply=function(p){var E=p.sx*this.sx+p.shy*this.shx,D=p.sx*this.shy+p.shy*this.sy,W=p.shx*this.sx+p.sy*this.shx,oe=p.shx*this.shy+p.sy*this.sy,me=p.tx*this.sx+p.ty*this.shx+this.tx,Ee=p.tx*this.shy+p.ty*this.sy+this.ty;return new it(E,D,W,oe,me,Ee)},it.prototype.decompose=function(){var p=this.sx,E=this.shy,D=this.shx,W=this.sy,oe=this.tx,me=this.ty,Ee=Math.sqrt(p*p+E*E),Ve=(p/=Ee)*D+(E/=Ee)*W;D-=p*Ve,W-=E*Ve;var Ze=Math.sqrt(D*D+W*W);return Ve/=Ze,p*(W/=Ze)<E*(D/=Ze)&&(p=-p,E=-E,Ve=-Ve,Ee=-Ee),{scale:new it(Ee,0,0,Ze,0,0),translate:new it(1,0,0,1,oe,me),rotate:new it(p,E,-E,p,0,0),skew:new it(1,0,Ve,1,0,0)}},it.prototype.toString=function(p){return this.join(" ")},it.prototype.inversed=function(){var p=this.sx,E=this.shy,D=this.shx,W=this.sy,oe=this.tx,me=this.ty,Ee=1/(p*W-E*D),Ve=W*Ee,Ze=-E*Ee,Ct=-D*Ee,gt=p*Ee;return new it(Ve,Ze,Ct,gt,-Ve*oe-Ct*me,-Ze*oe-gt*me)},it.prototype.applyToPoint=function(p){var E=p.x*this.sx+p.y*this.shx+this.tx,D=p.x*this.shy+p.y*this.sy+this.ty;return new jA(E,D)},it.prototype.applyToRectangle=function(p){var E=this.applyToPoint(p),D=this.applyToPoint(new jA(p.x+p.w,p.y+p.h));return new _l(E.x,E.y,D.x-E.x,D.y-E.y)},it.prototype.clone=function(){var p=this.sx,E=this.shy,D=this.shx,W=this.sy,oe=this.tx,me=this.ty;return new it(p,E,D,W,oe,me)},f.Matrix=it;var Mi=f.matrixMult=function(p,E){return E.multiply(p)},mo=new it(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=mo;var jr=function(p,E){if(!Ua[p]){var D=(E instanceof tA?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);E.id=D,Ua[p]=D,Mt[D]=E,Qt.publish("addPattern",E)}};f.ShadingPattern=tA,f.TilingPattern=Oc,f.addShadingPattern=function(p,E){return P("addShadingPattern()"),jr(p,E),this},f.beginTilingPattern=function(p){P("beginTilingPattern()"),Nu(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},f.endTilingPattern=function(p,E){P("endTilingPattern()"),E.stream=ke[Q].join(`
`),jr(p,E),Qt.publish("endTilingPattern",E),po.pop().restore()};var $n=f.__private__.newObject=function(){var p=Dn();return si(p,!0),p},Dn=f.__private__.newObjectDeferred=function(){return X++,ce[X]=function(){return fe},X},si=function(p,E){return E=typeof E=="boolean"&&E,ce[p]=fe,E&&j(p+" 0 obj"),p},NA=f.__private__.newAdditionalObject=function(){var p={objId:Dn(),content:""};return Fe.push(p),p},zo=Dn(),Qi=Dn(),Hi=f.__private__.decodeColorString=function(p){var E=p.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length===5&&(E[4]==="k"||E[4]==="K")&&(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var D=parseFloat(E[0]);E=[D,D,D,"r"]}for(var W="#",oe=0;oe<3;oe++)W+=("0"+Math.floor(255*parseFloat(E[oe])).toString(16)).slice(-2);return W},Di=f.__private__.encodeColorString=function(p){var E;typeof p=="string"&&(p={ch1:p});var D=p.ch1,W=p.ch2,oe=p.ch3,me=p.ch4,Ee=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof D=="string"&&D.charAt(0)!=="#"){var Ve=new NT(D);if(Ve.ok)D=Ve.toHex();else if(!/^\d*\.?\d*$/.test(D))throw new Error('Invalid color "'+D+'" passed to jsPDF.encodeColorString.')}if(typeof D=="string"&&/^#[0-9A-Fa-f]{3}$/.test(D)&&(D="#"+D[1]+D[1]+D[2]+D[2]+D[3]+D[3]),typeof D=="string"&&/^#[0-9A-Fa-f]{6}$/.test(D)){var Ze=parseInt(D.substr(1),16);D=Ze>>16&255,W=Ze>>8&255,oe=255&Ze}if(W===void 0||me===void 0&&D===W&&W===oe)if(typeof D=="string")E=D+" "+Ee[0];else switch(p.precision){case 2:E=ee(D/255)+" "+Ee[0];break;case 3:default:E=F(D/255)+" "+Ee[0]}else if(me===void 0||$t(me)==="object"){if(me&&!isNaN(me.a)&&me.a===0)return E=["1.","1.","1.",Ee[1]].join(" ");if(typeof D=="string")E=[D,W,oe,Ee[1]].join(" ");else switch(p.precision){case 2:E=[ee(D/255),ee(W/255),ee(oe/255),Ee[1]].join(" ");break;default:case 3:E=[F(D/255),F(W/255),F(oe/255),Ee[1]].join(" ")}}else if(typeof D=="string")E=[D,W,oe,me,Ee[2]].join(" ");else switch(p.precision){case 2:E=[ee(D),ee(W),ee(oe),ee(me),Ee[2]].join(" ");break;case 3:default:E=[F(D),F(W),F(oe),F(me),Ee[2]].join(" ")}return E},wo=f.__private__.getFilters=function(){return s},Bi=f.__private__.putStream=function(p){var E=(p=p||{}).data||"",D=p.filters||wo(),W=p.alreadyAppliedFilters||[],oe=p.addLength1||!1,me=E.length,Ee=p.objectId,Ve=function(br){return br};if(l!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");l!==null&&(Ve=Br.encryptor(Ee,0));var Ze={};D===!0&&(D=["FlateEncode"]);var Ct=p.additionalKeyValues||[],gt=(Ze=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(E,D):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(W)?W.join(" "):W.toString());if(Ze.data.length!==0&&(Ct.push({key:"Length",value:Ze.data.length}),oe===!0&&Ct.push({key:"Length1",value:me})),gt.length!=0)if(gt.split("/").length-1==1)Ct.push({key:"Filter",value:gt});else{Ct.push({key:"Filter",value:"["+gt+"]"});for(var Ft=0;Ft<Ct.length;Ft+=1)if(Ct[Ft].key==="DecodeParms"){for(var vn=[],En=0;En<Ze.reverseChain.split("/").length-1;En+=1)vn.push("null");vn.push(Ct[Ft].value),Ct[Ft].value="["+vn.join(" ")+"]"}}j("<<");for(var Kn=0;Kn<Ct.length;Kn++)j("/"+Ct[Kn].key+" "+Ct[Kn].value);j(">>"),Ze.data.length!==0&&(j("stream"),j(Ve(Ze.data)),j("endstream"))},Co=f.__private__.putPage=function(p){var E=p.number,D=p.data,W=p.objId,oe=p.contentsObjId;si(W,!0),j("<</Type /Page"),j("/Parent "+p.rootDictionaryObjId+" 0 R"),j("/Resources "+p.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(H(p.mediaBox.bottomLeftX))+" "+parseFloat(H(p.mediaBox.bottomLeftY))+" "+H(p.mediaBox.topRightX)+" "+H(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&j("/CropBox ["+H(p.cropBox.bottomLeftX)+" "+H(p.cropBox.bottomLeftY)+" "+H(p.cropBox.topRightX)+" "+H(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&j("/BleedBox ["+H(p.bleedBox.bottomLeftX)+" "+H(p.bleedBox.bottomLeftY)+" "+H(p.bleedBox.topRightX)+" "+H(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&j("/TrimBox ["+H(p.trimBox.bottomLeftX)+" "+H(p.trimBox.bottomLeftY)+" "+H(p.trimBox.topRightX)+" "+H(p.trimBox.topRightY)+"]"),p.artBox!==null&&j("/ArtBox ["+H(p.artBox.bottomLeftX)+" "+H(p.artBox.bottomLeftY)+" "+H(p.artBox.topRightX)+" "+H(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&j("/UserUnit "+p.userUnit),Qt.publish("putPage",{objId:W,pageContext:ft[E],pageNumber:E,page:D}),j("/Contents "+oe+" 0 R"),j(">>"),j("endobj");var me=D.join(`
`);return x===b.ADVANCED&&(me+=`
Q`),si(oe,!0),Bi({data:me,filters:wo(),objectId:oe}),j("endobj"),W},Ra=f.__private__.putPages=function(){var p,E,D=[];for(p=1;p<=In;p++)ft[p].objId=Dn(),ft[p].contentsObjId=Dn();for(p=1;p<=In;p++)D.push(Co({number:p,data:ke[p],objId:ft[p].objId,contentsObjId:ft[p].contentsObjId,mediaBox:ft[p].mediaBox,cropBox:ft[p].cropBox,bleedBox:ft[p].bleedBox,trimBox:ft[p].trimBox,artBox:ft[p].artBox,userUnit:ft[p].userUnit,rootDictionaryObjId:zo,resourceDictionaryObjId:Qi}));si(zo,!0),j("<</Type /Pages");var W="/Kids [";for(E=0;E<In;E++)W+=D[E]+" 0 R ";j(W+"]"),j("/Count "+In),j(">>"),j("endobj"),Qt.publish("postPutPages")},PA=function(p){Qt.publish("putFont",{font:p,out:j,newObject:$n,putStream:Bi}),p.isAlreadyPutted!==!0&&(p.objectNumber=$n(),j("<<"),j("/Type /Font"),j("/BaseFont /"+_c(p.postScriptName)),j("/Subtype /Type1"),typeof p.encoding=="string"&&j("/Encoding /"+p.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},LA=function(){for(var p in Zt)Zt.hasOwnProperty(p)&&(u===!1||u===!0&&d.hasOwnProperty(p))&&PA(Zt[p])},OA=function(p){p.objectNumber=$n();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[H(p.x),H(p.y),H(p.x+p.width),H(p.y+p.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var D=p.pages[1].join(`
`);Bi({data:D,additionalKeyValues:E,objectId:p.objectNumber}),j("endobj")},MA=function(){for(var p in hr)hr.hasOwnProperty(p)&&OA(hr[p])},pu=function(p,E){var D,W=[],oe=1/(E-1);for(D=0;D<1;D+=oe)W.push(D);if(W.push(1),p[0].offset!=0){var me={offset:0,color:p[0].color};p.unshift(me)}if(p[p.length-1].offset!=1){var Ee={offset:1,color:p[p.length-1].color};p.push(Ee)}for(var Ve="",Ze=0,Ct=0;Ct<W.length;Ct++){for(D=W[Ct];D>p[Ze+1].offset;)Ze++;var gt=p[Ze].offset,Ft=(D-gt)/(p[Ze+1].offset-gt),vn=p[Ze].color,En=p[Ze+1].color;Ve+=z(Math.round((1-Ft)*vn[0]+Ft*En[0]).toString(16))+z(Math.round((1-Ft)*vn[1]+Ft*En[1]).toString(16))+z(Math.round((1-Ft)*vn[2]+Ft*En[2]).toString(16))}return Ve.trim()},pp=function(p,E){E||(E=21);var D=$n(),W=pu(p.colors,E),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+E+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bi({data:W,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:D}),j("endobj"),p.objectNumber=$n(),j("<< /ShadingType "+p.type),j("/ColorSpace /DeviceRGB");var me="/Coords ["+H(parseFloat(p.coords[0]))+" "+H(parseFloat(p.coords[1]))+" ";p.type===2?me+=H(parseFloat(p.coords[2]))+" "+H(parseFloat(p.coords[3])):me+=H(parseFloat(p.coords[2]))+" "+H(parseFloat(p.coords[3]))+" "+H(parseFloat(p.coords[4]))+" "+H(parseFloat(p.coords[5])),j(me+="]"),p.matrix&&j("/Matrix ["+p.matrix.toString()+"]"),j("/Function "+D+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},mp=function(p,E){var D=Dn(),W=$n();E.push({resourcesOid:D,objectOid:W}),p.objectNumber=W;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+p.boundingBox.map(H).join(" ")+"]"}),oe.push({key:"XStep",value:H(p.xStep)}),oe.push({key:"YStep",value:H(p.yStep)}),oe.push({key:"Resources",value:D+" 0 R"}),p.matrix&&oe.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),Bi({data:p.stream,additionalKeyValues:oe,objectId:p.objectNumber}),j("endobj")},QA=function(p){var E;for(E in Mt)Mt.hasOwnProperty(E)&&(Mt[E]instanceof tA?pp(Mt[E]):Mt[E]instanceof Oc&&mp(Mt[E],p))},mu=function(p){for(var E in p.objectNumber=$n(),j("<<"),p)switch(E){case"opacity":j("/ca "+ee(p[E]));break;case"stroke-opacity":j("/CA "+ee(p[E]))}j(">>"),j("endobj")},wp=function(){var p;for(p in bn)bn.hasOwnProperty(p)&&mu(bn[p])},wl=function(){for(var p in j("/XObject <<"),hr)hr.hasOwnProperty(p)&&hr[p].objectNumber>=0&&j("/"+p+" "+hr[p].objectNumber+" 0 R");Qt.publish("putXobjectDict"),j(">>")},Cp=function(){Br.oid=$n(),j("<<"),j("/Filter /Standard"),j("/V "+Br.v),j("/R "+Br.r),j("/U <"+Br.toHexString(Br.U)+">"),j("/O <"+Br.toHexString(Br.O)+">"),j("/P "+Br.P),j(">>"),j("endobj")},wu=function(){for(var p in j("/Font <<"),Zt)Zt.hasOwnProperty(p)&&(u===!1||u===!0&&d.hasOwnProperty(p))&&j("/"+p+" "+Zt[p].objectNumber+" 0 R");j(">>")},yp=function(){if(Object.keys(Mt).length>0){for(var p in j("/Shading <<"),Mt)Mt.hasOwnProperty(p)&&Mt[p]instanceof tA&&Mt[p].objectNumber>=0&&j("/"+p+" "+Mt[p].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),j(">>")}},HA=function(p){if(Object.keys(Mt).length>0){for(var E in j("/Pattern <<"),Mt)Mt.hasOwnProperty(E)&&Mt[E]instanceof f.TilingPattern&&Mt[E].objectNumber>=0&&Mt[E].objectNumber<p&&j("/"+E+" "+Mt[E].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),j(">>")}},vp=function(){if(Object.keys(bn).length>0){var p;for(p in j("/ExtGState <<"),bn)bn.hasOwnProperty(p)&&bn[p].objectNumber>=0&&j("/"+p+" "+bn[p].objectNumber+" 0 R");Qt.publish("putGStateDict"),j(">>")}},Un=function(p){si(p.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),wu(),yp(),HA(p.objectOid),vp(),wl(),j(">>"),j("endobj")},Cu=function(){var p=[];LA(),wp(),MA(),QA(p),Qt.publish("putResources"),p.forEach(Un),Un({resourcesOid:Qi,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},yu=function(){Qt.publish("putAdditionalObjects");for(var p=0;p<Fe.length;p++){var E=Fe[p];si(E.objId,!0),j(E.content),j("endobj")}Qt.publish("postPutAdditionalObjects")},vu=function(p){dn[p.fontName]=dn[p.fontName]||{},dn[p.fontName][p.fontStyle]=p.id},Cl=function(p,E,D,W,oe){var me={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:p,fontName:E,fontStyle:D,encoding:W,isStandardFont:oe||!1,metadata:{}};return Qt.publish("addFont",{font:me,instance:this}),Zt[me.id]=me,vu(me),me.id},Bp=function(p){for(var E=0,D=_e.length;E<D;E++){var W=Cl.call(this,p[E][0],p[E][1],p[E][2],_e[E][3],!0);u===!1&&(d[W]=!0);var oe=p[E][0].split("-");vu({id:W,fontName:oe[0],fontStyle:oe[1]||""})}Qt.publish("addFonts",{fonts:Zt,dictionary:dn})},Ki=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(W){var E=W.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var D="Error in function "+E.split(`
`)[0].split("<")[0]+": "+W.message;if(!ct.console)throw new Error(D);ct.console.error(D,W),ct.alert&&alert(D)}},p.foo.bar=p,p.foo},DA=function(p,E){var D,W,oe,me,Ee,Ve,Ze,Ct,gt;if(oe=(E=E||{}).sourceEncoding||"Unicode",Ee=E.outputEncoding,(E.autoencode||Ee)&&Zt[Et].metadata&&Zt[Et].metadata[oe]&&Zt[Et].metadata[oe].encoding&&(me=Zt[Et].metadata[oe].encoding,!Ee&&Zt[Et].encoding&&(Ee=Zt[Et].encoding),!Ee&&me.codePages&&(Ee=me.codePages[0]),typeof Ee=="string"&&(Ee=me[Ee]),Ee)){for(Ze=!1,Ve=[],D=0,W=p.length;D<W;D++)(Ct=Ee[p.charCodeAt(D)])?Ve.push(String.fromCharCode(Ct)):Ve.push(p[D]),Ve[D].charCodeAt(0)>>8&&(Ze=!0);p=Ve.join("")}for(D=p.length;Ze===void 0&&D!==0;)p.charCodeAt(D-1)>>8&&(Ze=!0),D--;if(!Ze)return p;for(Ve=E.noBOM?[]:[254,255],D=0,W=p.length;D<W;D++){if((gt=(Ct=p.charCodeAt(D))>>8)>>8)throw new Error("Character at position "+D+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(gt),Ve.push(Ct-(gt<<8))}return String.fromCharCode.apply(void 0,Ve)},zr=f.__private__.pdfEscape=f.pdfEscape=function(p,E){return DA(p,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yl=f.__private__.beginPage=function(p){ke[++In]=[],ft[In]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},bu(In),ye(ke[Q])},Bu=function(p,E){var D,W,oe;switch(t=E||t,typeof p=="string"&&(D=y(p.toLowerCase()),Array.isArray(D)&&(W=D[0],oe=D[1])),Array.isArray(p)&&(W=p[0]*Ke,oe=p[1]*Ke),isNaN(W)&&(W=i[0],oe=i[1]),(W>14400||oe>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),W=Math.min(14400,W),oe=Math.min(14400,oe)),i=[W,oe],t.substr(0,1)){case"l":oe>W&&(i=[oe,W]);break;case"p":W>oe&&(i=[oe,W])}yl(i),ku(Il),j(Gi),Sl!==0&&j(Sl+" J"),Tl!==0&&j(Tl+" j"),Qt.publish("addPage",{pageNumber:In})},bp=function(p){p>0&&p<=In&&(ke.splice(p,1),ft.splice(p,1),In--,Q>In&&(Q=In),this.setPage(Q))},bu=function(p){p>0&&p<=In&&(Q=p)},Ip=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},Iu=function(p,E,D){var W,oe=void 0;return D=D||{},p=p!==void 0?p:Zt[Et].fontName,E=E!==void 0?E:Zt[Et].fontStyle,W=p.toLowerCase(),dn[W]!==void 0&&dn[W][E]!==void 0?oe=dn[W][E]:dn[p]!==void 0&&dn[p][E]!==void 0?oe=dn[p][E]:D.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+p+"', '"+E+"'. Refer to getFontList() for available fonts."),oe||D.noFallback||(oe=dn.times[E])==null&&(oe=dn.times.normal),oe},Ep=f.__private__.putInfo=function(){var p=$n(),E=function(W){return W};for(var D in l!==null&&(E=Br.encryptor(p,0)),j("<<"),j("/Producer ("+zr(E("jsPDF "+ot.version))+")"),lt)lt.hasOwnProperty(D)&&lt[D]&&j("/"+D.substr(0,1).toUpperCase()+D.substr(1)+" ("+zr(E(lt[D]))+")");j("/CreationDate ("+zr(E(ie))+")"),j(">>"),j("endobj")},vl=f.__private__.putCatalog=function(p){var E=(p=p||{}).rootDictionaryObjId||zo;switch($n(),j("<<"),j("/Type /Catalog"),j("/Pages "+E+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var D=""+De;D.substr(D.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&j("/OpenAction [3 0 R /XYZ null null "+ee(De)+"]")}switch(It||(It="continuous"),It){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}dt&&j("/PageMode /"+dt),Qt.publish("putCatalog"),j(">>"),j("endobj")},Sp=f.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(X+1)),j("/Root "+X+" 0 R"),j("/Info "+(X-1)+" 0 R"),l!==null&&j("/Encrypt "+Br.oid+" 0 R"),j("/ID [ <"+ne+"> <"+ne+"> ]"),j(">>")},Tp=f.__private__.putHeader=function(){j("%PDF-"+m),j("%")},_p=f.__private__.putXRef=function(){var p="0000000000";j("xref"),j("0 "+(X+1)),j("0000000000 65535 f ");for(var E=1;E<=X;E++)typeof ce[E]=="function"?j((p+ce[E]()).slice(-10)+" 00000 n "):ce[E]!==void 0?j((p+ce[E]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},Wo=f.__private__.buildDocument=function(){st(),ye(de),Qt.publish("buildDocument"),Tp(),Ra(),yu(),Cu(),l!==null&&Cp(),Ep(),vl();var p=fe;return _p(),Sp(),j("startxref"),j(""+p),j("%%EOF"),ye(ke[Q]),de.join(`
`)},KA=f.__private__.getBlob=function(p){return new Blob([Ye(p)],{type:"application/pdf"})},GA=f.output=f.__private__.output=Ki(function(p,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",p){case void 0:return Wo();case"save":f.save(E.filename);break;case"arraybuffer":return Ye(Wo());case"blob":return KA(Wo());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(KA(Wo()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var D="",W=Wo();try{D=hC(W)}catch{D=hC(unescape(encodeURIComponent(W)))}return"data:application/pdf;filename="+E.filename+";base64,"+D;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(oe=E.pdfObjectUrl,me="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",Ve=ct.open();return Ve!==null&&Ve.document.write(Ee),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',Ct=ct.open();if(Ct!==null){Ct.document.write(Ze);var gt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=E.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',vn=ct.open();if(vn!==null&&(vn.document.write(Ft),vn.document.title=E.filename),vn||typeof safari>"u")return vn;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",E);default:return null}}),Eu=function(p){return Array.isArray(xa)===!0&&xa.indexOf(p)>-1};switch(n){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=Eu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ke=n}var Br=null;Ue(),re();var kp=function(p){return l!==null?Br.encryptor(p,0):function(E){return E}},Su=f.__private__.getPageInfo=f.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[p].objId,pageNumber:p,pageContext:ft[p]}},ht=f.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in ft)if(ft[E].objId===p)break;return Su(E)},Fp=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ft[Q].objId,pageNumber:Q,pageContext:ft[Q]}};f.addPage=function(){return Bu.apply(this,arguments),this},f.setPage=function(){return bu.apply(this,arguments),ye.call(this,ke[Q]),this},f.insertPage=function(p){return this.addPage(),this.movePage(Q,p),this},f.movePage=function(p,E){var D,W;if(p>E){D=ke[p],W=ft[p];for(var oe=p;oe>E;oe--)ke[oe]=ke[oe-1],ft[oe]=ft[oe-1];ke[E]=D,ft[E]=W,this.setPage(E)}else if(p<E){D=ke[p],W=ft[p];for(var me=p;me<E;me++)ke[me]=ke[me+1],ft[me]=ft[me+1];ke[E]=D,ft[E]=W,this.setPage(E)}return this},f.deletePage=function(){return bp.apply(this,arguments),this},f.__private__.text=f.text=function(p,E,D,W,oe){var me,Ee,Ve,Ze,Ct,gt,Ft,vn,En,Kn=(W=W||{}).scope||this;if(typeof p=="number"&&typeof E=="number"&&(typeof D=="string"||Array.isArray(D))){var br=D;D=E,E=p,p=br}if(arguments[3]instanceof it?(P("The transform parameter of text() with a Matrix value"),En=oe):(Ve=arguments[4],Ze=arguments[5],$t(Ft=arguments[3])==="object"&&Ft!==null||(typeof Ve=="string"&&(Ze=Ve,Ve=null),typeof Ft=="string"&&(Ze=Ft,Ft=null),typeof Ft=="number"&&(Ve=Ft,Ft=null),W={flags:Ft,angle:Ve,align:Ze})),isNaN(E)||isNaN(D)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return Kn;var Zn="",Vi=!1,ai=typeof W.lineHeightFactor=="number"?W.lineHeightFactor:Pa,Bo=Kn.internal.scaleFactor;function Pu(on){return on=on.split("	").join(Array(W.TabLen||9).join(" ")),zr(on,Ft)}function xl(on){for(var sn,Rn=on.concat(),jn=[],es=Rn.length;es--;)typeof(sn=Rn.shift())=="string"?jn.push(sn):Array.isArray(on)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?jn.push(sn[0]):jn.push([sn[0],sn[1],sn[2]]);return jn}function Rl(on,sn){var Rn;if(typeof on=="string")Rn=sn(on)[0];else if(Array.isArray(on)){for(var jn,es,Dl=on.concat(),ic=[],Hu=Dl.length;Hu--;)typeof(jn=Dl.shift())=="string"?ic.push(sn(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(es=sn(jn[0],jn[1],jn[2]),ic.push([es[0],es[1],es[2]]));Rn=ic}return Rn}var WA=!1,Nl=!0;if(typeof p=="string")WA=!0;else if(Array.isArray(p)){var Pl=p.concat();Ee=[];for(var YA,ur=Pl.length;ur--;)(typeof(YA=Pl.shift())!="string"||Array.isArray(YA)&&typeof YA[0]!="string")&&(Nl=!1);WA=Nl}if(WA===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var JA=Pe/Kn.internal.scaleFactor,XA=JA*(ai-1);switch(W.baseline){case"bottom":D-=XA;break;case"top":D+=JA-XA;break;case"hanging":D+=JA-2*XA;break;case"middle":D+=JA/2-XA}if((gt=W.maxWidth||0)>0&&(typeof p=="string"?p=Kn.splitTextToSize(p,gt):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(on,sn){return on.concat(Kn.splitTextToSize(sn,gt))},[]))),me={text:p,x:E,y:D,options:W,mutex:{pdfEscape:zr,activeFontKey:Et,fonts:Zt,activeFontSize:Pe}},Qt.publish("preProcessText",me),p=me.text,Ve=(W=me.options).angle,!(En instanceof it)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,W.rotationDirection===0&&(Ve=-Ve),x===b.ADVANCED&&(Ve=-Ve);var ZA=Math.cos(Ve),Ll=Math.sin(Ve);En=new it(ZA,Ll,-Ll,ZA,0,0)}else Ve&&Ve instanceof it&&(En=Ve);x!==b.ADVANCED||En||(En=mo),(Ct=W.charSpace||$A)!==void 0&&(Zn+=H(R(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vn=W.horizontalScale)!==void 0&&(Zn+=H(100*vn)+` Tz
`),W.lang;var Wr=-1,Hp=W.renderingMode!==void 0?W.renderingMode:W.stroke,Ol=Kn.internal.getCurrentPageInfo().pageContext;switch(Hp){case 0:case!1:case"fill":Wr=0;break;case 1:case!0:case"stroke":Wr=1;break;case 2:case"fillThenStroke":Wr=2;break;case 3:case"invisible":Wr=3;break;case 4:case"fillAndAddForClipping":Wr=4;break;case 5:case"strokeAndAddPathForClipping":Wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wr=6;break;case 7:case"addToPathForClipping":Wr=7}var Lu=Ol.usedRenderingMode!==void 0?Ol.usedRenderingMode:-1;Wr!==-1?Zn+=Wr+` Tr
`:Lu!==-1&&(Zn+=`0 Tr
`),Wr!==-1&&(Ol.usedRenderingMode=Wr),Ze=W.align||"left";var bi,ec=Pe*ai,Ou=Kn.internal.pageSize.getWidth(),Mu=Zt[Et];Ct=W.charSpace||$A,gt=W.maxWidth||0,Ft=Object.assign({autoencode:!0,noBOM:!0},W.flags);var Ls=[],Ma=function(on){return Kn.getStringUnitWidth(on,{font:Mu,charSpace:Ct,fontSize:Pe,doKerning:!1})*Pe/Bo};if(Object.prototype.toString.call(p)==="[object Array]"){var Yr;Ee=xl(p),Ze!=="left"&&(bi=Ee.map(Ma));var Hr,Os=0;if(Ze==="right"){E-=bi[0],p=[],ur=Ee.length;for(var Jo=0;Jo<ur;Jo++)Jo===0?(Hr=vo(E),Yr=Yo(D)):(Hr=R(Os-bi[Jo]),Yr=-ec),p.push([Ee[Jo],Hr,Yr]),Os=bi[Jo]}else if(Ze==="center"){E-=bi[0]/2,p=[],ur=Ee.length;for(var Xo=0;Xo<ur;Xo++)Xo===0?(Hr=vo(E),Yr=Yo(D)):(Hr=R((Os-bi[Xo])/2),Yr=-ec),p.push([Ee[Xo],Hr,Yr]),Os=bi[Xo]}else if(Ze==="left"){p=[],ur=Ee.length;for(var tc=0;tc<ur;tc++)p.push(Ee[tc])}else if(Ze==="justify"&&Mu.encoding==="Identity-H"){p=[],ur=Ee.length,gt=gt!==0?gt:Ou;for(var Zo=0,xn=0;xn<ur;xn++)if(Yr=xn===0?Yo(D):-ec,Hr=xn===0?vo(E):Zo,xn<ur-1){var Ml=R((gt-bi[xn])/(Ee[xn].split(" ").length-1)),Dr=Ee[xn].split(" ");p.push([Dr[0]+" ",Hr,Yr]),Zo=0;for(var Ii=1;Ii<Dr.length;Ii++){var nc=(Ma(Dr[Ii-1]+" "+Dr[Ii])-Ma(Dr[Ii]))*Bo+Ml;Ii==Dr.length-1?p.push([Dr[Ii],nc,0]):p.push([Dr[Ii]+" ",nc,0]),Zo-=nc}}else p.push([Ee[xn],Hr,Yr]);p.push(["",Zo,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],ur=Ee.length,gt=gt!==0?gt:Ou,xn=0;xn<ur;xn++)Yr=xn===0?Yo(D):-ec,Hr=xn===0?vo(E):0,xn<ur-1?Ls.push(H(R((gt-bi[xn])/(Ee[xn].split(" ").length-1)))):Ls.push(0),p.push([Ee[xn],Hr,Yr])}}var Qu=typeof W.R2L=="boolean"?W.R2L:Xe;Qu===!0&&(p=Rl(p,function(on,sn,Rn){return[on.split("").reverse().join(""),sn,Rn]})),me={text:p,x:E,y:D,options:W,mutex:{pdfEscape:zr,activeFontKey:Et,fonts:Zt,activeFontSize:Pe}},Qt.publish("postProcessText",me),p=me.text,Vi=me.mutex.isHex||!1;var Ql=Zt[Et].encoding;Ql!=="WinAnsiEncoding"&&Ql!=="StandardEncoding"||(p=Rl(p,function(on,sn,Rn){return[Pu(on),sn,Rn]})),Ee=xl(p),p=[];for(var Qa,Ha,Ms,Da=0,rc=1,Ka=Array.isArray(Ee[0])?rc:Da,Qs="",Hl=function(on,sn,Rn){var jn="";return Rn instanceof it?(Rn=typeof W.angle=="number"?Mi(Rn,new it(1,0,0,1,on,sn)):Mi(new it(1,0,0,1,on,sn),Rn),x===b.ADVANCED&&(Rn=Mi(new it(1,0,0,-1,0,0),Rn)),jn=Rn.join(" ")+` Tm
`):jn=H(on)+" "+H(sn)+` Td
`,jn},Ei=0;Ei<Ee.length;Ei++){switch(Qs="",Ka){case rc:Ms=(Vi?"<":"(")+Ee[Ei][0]+(Vi?">":")"),Qa=parseFloat(Ee[Ei][1]),Ha=parseFloat(Ee[Ei][2]);break;case Da:Ms=(Vi?"<":"(")+Ee[Ei]+(Vi?">":")"),Qa=vo(E),Ha=Yo(D)}Ls!==void 0&&Ls[Ei]!==void 0&&(Qs=Ls[Ei]+` Tw
`),Ei===0?p.push(Qs+Hl(Qa,Ha,En)+Ms):Ka===Da?p.push(Qs+Ms):Ka===rc&&p.push(Qs+Hl(Qa,Ha,En)+Ms)}p=Ka===Da?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var Si=`BT
/`;return Si+=Et+" "+Pe+` Tf
`,Si+=H(Pe*ai)+` TL
`,Si+=La+`
`,Si+=Zn,Si+=p,j(Si+="ET"),d[Et]=!0,Kn};var Up=f.__private__.clip=f.clip=function(p){return j(p==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Up("evenodd")},f.__private__.discardPath=f.discardPath=function(){return j("n"),this};var yo=f.__private__.isValidStyle=function(p){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(E=!0),E};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(p){return yo(p)&&(c=p),this};var Tu=f.__private__.getStyle=f.getStyle=function(p){var E=c;switch(p){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=p}return E},_u=f.close=function(){return j("h"),this};f.stroke=function(){return j("S"),this},f.fill=function(p){return VA("f",p),this},f.fillEvenOdd=function(p){return VA("f*",p),this},f.fillStroke=function(p){return VA("B",p),this},f.fillStrokeEvenOdd=function(p){return VA("B*",p),this};var VA=function(p,E){$t(E)==="object"?Rp(E,p):j(p)},Bl=function(p){p===null||x===b.ADVANCED&&p===void 0||(p=Tu(p),j(p))};function xp(p,E,D,W,oe){var me=new Oc(E||this.boundingBox,D||this.xStep,W||this.yStep,this.gState,oe||this.matrix);me.stream=this.stream;var Ee=p+"$$"+this.cloneIndex+++"$$";return jr(Ee,me),me}var Rp=function(p,E){var D=Ua[p.key],W=Mt[D];if(W instanceof tA)j("q"),j(Np(E)),W.gState&&f.setGState(W.gState),j(p.matrix.toString()+" cm"),j("/"+D+" sh"),j("Q");else if(W instanceof Oc){var oe=new it(1,0,0,-1,0,Ps());p.matrix&&(oe=oe.multiply(p.matrix||mo),D=xp.call(W,p.key,p.boundingBox,p.xStep,p.yStep,oe).id),j("q"),j("/Pattern cs"),j("/"+D+" scn"),W.gState&&f.setGState(W.gState),j(E),j("Q")}},Np=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},bl=f.moveTo=function(p,E){return j(H(R(p))+" "+H(V(E))+" m"),this},Na=f.lineTo=function(p,E){return j(H(R(p))+" "+H(V(E))+" l"),this},Rs=f.curveTo=function(p,E,D,W,oe,me){return j([H(R(p)),H(V(E)),H(R(D)),H(V(W)),H(R(oe)),H(V(me)),"c"].join(" ")),this};f.__private__.line=f.line=function(p,E,D,W,oe){if(isNaN(p)||isNaN(E)||isNaN(D)||isNaN(W)||!yo(oe))throw new Error("Invalid arguments passed to jsPDF.line");return x===b.COMPAT?this.lines([[D-p,W-E]],p,E,[1,1],oe||"S"):this.lines([[D-p,W-E]],p,E,[1,1]).stroke()},f.__private__.lines=f.lines=function(p,E,D,W,oe,me){var Ee,Ve,Ze,Ct,gt,Ft,vn,En,Kn,br,Zn,Vi;if(typeof p=="number"&&(Vi=D,D=E,E=p,p=Vi),W=W||[1,1],me=me||!1,isNaN(E)||isNaN(D)||!Array.isArray(p)||!Array.isArray(W)||!yo(oe)||typeof me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bl(E,D),Ee=W[0],Ve=W[1],Ct=p.length,br=E,Zn=D,Ze=0;Ze<Ct;Ze++)(gt=p[Ze]).length===2?(br=gt[0]*Ee+br,Zn=gt[1]*Ve+Zn,Na(br,Zn)):(Ft=gt[0]*Ee+br,vn=gt[1]*Ve+Zn,En=gt[2]*Ee+br,Kn=gt[3]*Ve+Zn,br=gt[4]*Ee+br,Zn=gt[5]*Ve+Zn,Rs(Ft,vn,En,Kn,br,Zn));return me&&_u(),Bl(oe),this},f.path=function(p){for(var E=0;E<p.length;E++){var D=p[E],W=D.c;switch(D.op){case"m":bl(W[0],W[1]);break;case"l":Na(W[0],W[1]);break;case"c":Rs.apply(this,W);break;case"h":_u()}}return this},f.__private__.rect=f.rect=function(p,E,D,W,oe){if(isNaN(p)||isNaN(E)||isNaN(D)||isNaN(W)||!yo(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b.COMPAT&&(W=-W),j([H(R(p)),H(V(E)),H(R(D)),H(R(W)),"re"].join(" ")),Bl(oe),this},f.__private__.triangle=f.triangle=function(p,E,D,W,oe,me,Ee){if(isNaN(p)||isNaN(E)||isNaN(D)||isNaN(W)||isNaN(oe)||isNaN(me)||!yo(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[D-p,W-E],[oe-D,me-W],[p-oe,E-me]],p,E,[1,1],Ee,!0),this},f.__private__.roundedRect=f.roundedRect=function(p,E,D,W,oe,me,Ee){if(isNaN(p)||isNaN(E)||isNaN(D)||isNaN(W)||isNaN(oe)||isNaN(me)||!yo(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*D),me=Math.min(me,.5*W),this.lines([[D-2*oe,0],[oe*Ve,0,oe,me-me*Ve,oe,me],[0,W-2*me],[0,me*Ve,-oe*Ve,me,-oe,me],[2*oe-D,0],[-oe*Ve,0,-oe,-me*Ve,-oe,-me],[0,2*me-W],[0,-me*Ve,oe*Ve,-me,oe,-me]],p+oe,E,[1,1],Ee,!0),this},f.__private__.ellipse=f.ellipse=function(p,E,D,W,oe){if(isNaN(p)||isNaN(E)||isNaN(D)||isNaN(W)||!yo(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var me=4/3*(Math.SQRT2-1)*D,Ee=4/3*(Math.SQRT2-1)*W;return bl(p+D,E),Rs(p+D,E-Ee,p+me,E-W,p,E-W),Rs(p-me,E-W,p-D,E-Ee,p-D,E),Rs(p-D,E+Ee,p-me,E+W,p,E+W),Rs(p+me,E+W,p+D,E+Ee,p+D,E),Bl(oe),this},f.__private__.circle=f.circle=function(p,E,D,W){if(isNaN(p)||isNaN(E)||isNaN(D)||!yo(W))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,E,D,D,W)},f.setFont=function(p,E,D){return D&&(E=K(E,D)),Et=Iu(p,E,{disableWarning:!1}),this};var Pp=f.__private__.getFont=f.getFont=function(){return Zt[Iu.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var p,E,D={};for(p in dn)if(dn.hasOwnProperty(p))for(E in D[p]=[],dn[p])dn[p].hasOwnProperty(E)&&D[p].push(E);return D},f.addFont=function(p,E,D,W,oe){var me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&me.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&me.indexOf(arguments[3])==-1&&(D=K(D,W)),oe=oe||"Identity-H",Cl.call(this,p,E,D,oe)};var Pa,Il=r.lineWidth||.200025,qA=f.__private__.getLineWidth=f.getLineWidth=function(){return Il},ku=f.__private__.setLineWidth=f.setLineWidth=function(p){return Il=p,j(H(R(p))+" w"),this};f.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(p,E){if(p=p||[],E=E||0,isNaN(E)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(D){return H(R(D))}).join(" "),E=H(R(E)),j("["+p+"] "+E+" d"),this};var Fu=f.__private__.getLineHeight=f.getLineHeight=function(){return Pe*Pa};f.__private__.getLineHeight=f.getLineHeight=function(){return Pe*Pa};var Uu=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(Pa=p),this},xu=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Pa};Uu(r.lineHeight);var vo=f.__private__.getHorizontalCoordinate=function(p){return R(p)},Yo=f.__private__.getVerticalCoordinate=function(p){return x===b.ADVANCED?p:ft[Q].mediaBox.topRightY-ft[Q].mediaBox.bottomLeftY-R(p)},Lp=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(p){return H(vo(p))},Ns=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(p){return H(Yo(p))},Gi=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Hi(Gi)},f.__private__.setStrokeColor=f.setDrawColor=function(p,E,D,W){return Gi=Di({ch1:p,ch2:E,ch3:D,ch4:W,pdfColorType:"draw",precision:2}),j(Gi),this};var El=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Hi(El)},f.__private__.setFillColor=f.setFillColor=function(p,E,D,W){return El=Di({ch1:p,ch2:E,ch3:D,ch4:W,pdfColorType:"fill",precision:2}),j(El),this};var La=r.textColor||"0 g",Op=f.__private__.getTextColor=f.getTextColor=function(){return Hi(La)};f.__private__.setTextColor=f.setTextColor=function(p,E,D,W){return La=Di({ch1:p,ch2:E,ch3:D,ch4:W,pdfColorType:"text",precision:3}),this};var $A=r.charSpace,Mp=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat($A||0)};f.__private__.setCharSpace=f.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $A=p,this};var Sl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(p){var E=f.CapJoinStyles[p];if(E===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=E,j(E+" J"),this};var Tl=0;f.__private__.setLineJoin=f.setLineJoin=function(p){var E=f.CapJoinStyles[p];if(E===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tl=E,j(E+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(H(R(p))+" M"),this},f.GState=Zf,f.setGState=function(p){(p=typeof p=="string"?bn[Oi[p]]:Ru(null,p)).equals(jo)||(j("/"+p.id+" gs"),jo=p)};var Ru=function(p,E){if(!p||!Oi[p]){var D=!1;for(var W in bn)if(bn.hasOwnProperty(W)&&bn[W].equals(E)){D=!0;break}if(D)E=bn[W];else{var oe="GS"+(Object.keys(bn).length+1).toString(10);bn[oe]=E,E.id=oe}return p&&(Oi[p]=E.id),Qt.publish("addGState",E),E}};f.addGState=function(p,E){return Ru(p,E),this},f.saveGraphicsState=function(){return j("q"),fo.push({key:Et,size:Pe,color:La}),this},f.restoreGraphicsState=function(){j("Q");var p=fo.pop();return Et=p.key,Pe=p.size,La=p.color,jo=null,this},f.setCurrentTransformationMatrix=function(p){return j(p.toString()+" cm"),this},f.comment=function(p){return j("#"+p),this};var jA=function(p,E){var D=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return D},set:function(me){isNaN(me)||(D=parseFloat(me))}});var W=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return W},set:function(me){isNaN(me)||(W=parseFloat(me))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(me){oe=me.toString()}}),this},_l=function(p,E,D,W){jA.call(this,p,E),this.type="rect";var oe=D||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ee){isNaN(Ee)||(oe=parseFloat(Ee))}});var me=W||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return me},set:function(Ee){isNaN(Ee)||(me=parseFloat(Ee))}}),this},kl=function(){this.page=In,this.currentPage=Q,this.pages=ke.slice(0),this.pagesContext=ft.slice(0),this.x=vr,this.y=Nt,this.matrix=Li,this.width=Oa(Q),this.height=Ps(Q),this.outputDestination=Oe,this.id="",this.objectNumber=-1};kl.prototype.restore=function(){In=this.page,Q=this.currentPage,ft=this.pagesContext,ke=this.pages,vr=this.x,Nt=this.y,Li=this.matrix,Fl(Q,this.width),Ul(Q,this.height),Oe=this.outputDestination};var Nu=function(p,E,D,W,oe){po.push(new kl),In=Q=0,ke=[],vr=p,Nt=E,Li=oe,yl([D,W])},Qp=function(p){if(go[p])po.pop().restore();else{var E=new kl,D="Xo"+(Object.keys(hr).length+1).toString(10);E.id=D,go[p]=D,hr[D]=E,Qt.publish("addFormObject",E),po.pop().restore()}};for(var zA in f.beginFormObject=function(p,E,D,W,oe){return Nu(p,E,D,W,oe),this},f.endFormObject=function(p){return Qp(p),this},f.doFormObject=function(p,E){var D=hr[go[p]];return j("q"),j(E.toString()+" cm"),j("/"+D.id+" Do"),j("Q"),this},f.getFormObject=function(p){var E=hr[go[p]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},f.save=function(p,E){return p=p||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(Za(KA(Wo()),p),typeof Za.unload=="function"&&ct.setTimeout&&setTimeout(Za.unload,911),this):new Promise(function(D,W){try{var oe=Za(KA(Wo()),p);typeof Za.unload=="function"&&ct.setTimeout&&setTimeout(Za.unload,911),D(oe)}catch(me){W(me.message)}})},ot.API)ot.API.hasOwnProperty(zA)&&(zA==="events"&&ot.API.events.length?function(p,E){var D,W,oe;for(oe=E.length-1;oe!==-1;oe--)D=E[oe][0],W=E[oe][1],p.subscribe.apply(p,[D].concat(typeof W=="function"?[W]:W))}(Qt,ot.API.events):f[zA]=ot.API[zA]);var Oa=f.getPageWidth=function(p){return(ft[p=p||Q].mediaBox.topRightX-ft[p].mediaBox.bottomLeftX)/Ke},Fl=f.setPageWidth=function(p,E){ft[p].mediaBox.topRightX=E*Ke+ft[p].mediaBox.bottomLeftX},Ps=f.getPageHeight=function(p){return(ft[p=p||Q].mediaBox.topRightY-ft[p].mediaBox.bottomLeftY)/Ke},Ul=f.setPageHeight=function(p,E){ft[p].mediaBox.topRightY=E*Ke+ft[p].mediaBox.bottomLeftY};return f.internal={pdfEscape:zr,getStyle:Tu,getFont:Pp,getFontSize:Qe,getCharSpace:Mp,getTextColor:Op,getLineHeight:Fu,getLineHeightFactor:xu,getLineWidth:qA,write:wt,getHorizontalCoordinate:vo,getVerticalCoordinate:Yo,getCoordinateString:Lp,getVerticalCoordinateString:Ns,collections:{},newObject:$n,newAdditionalObject:NA,newObjectDeferred:Dn,newObjectDeferredBegin:si,getFilters:wo,putStream:Bi,events:Qt,scaleFactor:Ke,pageSize:{getWidth:function(){return Oa(Q)},setWidth:function(p){Fl(Q,p)},getHeight:function(){return Ps(Q)},setHeight:function(p){Ul(Q,p)}},encryptionOptions:l,encryption:Br,getEncryptor:kp,output:GA,getNumberOfPages:Ip,pages:ke,out:j,f2:ee,f3:F,getPageInfo:Su,getPageInfoByObjId:ht,getCurrentPageInfo:Fp,getPDFVersion:w,Point:jA,Rectangle:_l,Matrix:it,hasHotfix:Eu},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Oa(Q)},set:function(p){Fl(Q,p)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ps(Q)},set:function(p){Ul(Q,p)},enumerable:!0,configurable:!0}),Bp.call(f,_e),Et="F1",Bu(i,t),Qt.publish("initialized"),f}Tc.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Tc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Tc.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Tc.prototype.processOwnerPassword=function(r,e){return dC(uC(e).substr(0,5),r)},Tc.prototype.encryptor=function(r,e){var t=uC(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return dC(t,n)}},Zf.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||$t(r)!==$t(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},ot.API={events:[]},ot.version="2.5.2";var Tn=ot.API,wv=1,FA=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pt=function(r){return r.toFixed(2)},Ws=function(r){return r.toFixed(5)};Tn.__acroform__={};var oi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},h1=function(r){return r*wv},ko=function(r){var e=new MT,t=je.internal.getHeight(r)||0,n=je.internal.getWidth(r)||0;return e.BBox=[0,0,Number(pt(n)),Number(pt(t))],e},EQ=Tn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},SQ=Tn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},TQ=Tn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Ln=Tn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TQ(r,e-1)},On=Tn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return EQ(r,e-1)},Mn=Tn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return SQ(r,e-1)},_Q=Tn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],o=r[1],s=r[2],a=r[3],A={};return A.lowerLeft_X=t(i)||0,A.lowerLeft_Y=n(o+a)||0,A.upperRight_X=t(i+s)||0,A.upperRight_Y=n(o)||0,[Number(pt(A.lowerLeft_X)),Number(pt(A.lowerLeft_Y)),Number(pt(A.upperRight_X)),Number(pt(A.upperRight_Y))]},kQ=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=fC(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+pt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ko(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},fC=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var o=t,s=je.internal.getHeight(r)||0;s=s<0?-s:s;var a=je.internal.getWidth(r)||0;a=a<0?-a:a;var A=function(F,R,$){if(F+1<i.length){var V=R+" "+i[F+1][0];return kd(V,r,$).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,l,u=kd("3",r,o).height,d=r.multiline?s-o:(s-u)/2,f=d+=2,m=0,w=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+kd(e,r,o=12).width+", FieldWidth:"+a+`
`;break}for(var y="",b=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var O=!1;if(i[x].length!==1&&B!==i[x].length-1){if((u+2)*(b+2)+2>s)continue e;y+=i[x][B],O=!0,w=x,x--}else{y=(y+=i[x][B]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var L=parseInt(x),K=A(L,y,o),H=x>=i.length-1;if(K&&!H){y+=" ",B=0;continue}if(K||H){if(H)w=L;else if(r.multiline&&(u+2)*(b+2)+2>s)continue e}else{if(!r.multiline||(u+2)*(b+2)+2>s)continue e;w=L}}for(var P="",q=m;q<=w;q++){var ee=i[q];if(r.multiline){if(q===w){P+=ee[B]+" ",B=(B+1)%ee.length;continue}if(q===m){P+=ee[ee.length-1]+" ";continue}}P+=ee[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,l=kd(P,r,o).width,r.textAlign){case"right":c=a-l-2;break;case"center":c=(a-l)/2;break;case"left":default:c=2}e+=pt(c)+" "+pt(f)+` Td
`,e+="("+FA(P)+`) Tj
`,e+=-pt(c)+` 0 Td
`,f=-(o+2),l=0,m=O?w:w+1,b++,y=""}break}return n.text=e,n.fontSize=o,n},kd=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},FQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},UQ=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},xQ=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,i=r[t];e.internal.newObjectDeferredBegin(i.objId,!0),$t(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},RQ=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(co.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(FQ)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wv=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new QT,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.objId=void 0,o.hasAnnotation&&UQ(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var o=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var a=n[s],A=[],c=a.Rect;if(a.Rect&&(a.Rect=_Q(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=je.createDefaultAppearanceStream(a),$t(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(A=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var l=kQ(a);A.push({key:"AP",value:"<</N "+l+">>"}),i.internal.acroformPlugin.xForms.push(l)}if(a.appearanceStreamContent){var u="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(u+="/"+d+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var m=f[s];typeof m=="function"&&(m=m.call(i,a)),u+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(i,a)),u+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:a.objId}),i.internal.out("endobj")}o&&xQ(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},OT=Tn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(s){return s};if(Array.isArray(r)){for(var i="[",o=0;o<r.length;o++)switch(o!==0&&(i+=" "),$t(r[o])){case"boolean":case"number":case"object":i+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+FA(n(r[o].toString()))+")"):i+=r[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lm=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+FA(n(r))+")"},No=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};No.prototype.toString=function(){return this.objId+" 0 R"},No.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},No.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:OT(i,this.objId,this.scope)}):i instanceof No?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var MT=function(){No.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};oi(MT,No);var QT=function(){No.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+FA(t(r))+")"}},set:function(t){r=t}})};oi(QT,No);var co=function r(){No.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ln(e,3)},set:function(y){y?this.F=On(e,3):this.F=Mn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');t=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof eg)return;o="FieldObject"+r.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+FA(y(o))+")"},set:function(y){o=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(y){o=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/wv:c},set:function(y){c=y}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof eg||this instanceof dA))return Lm(u,this.objId,this.scope)},set:function(y){y=y.toString(),u=y}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof sr?d:Lm(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof sr?y:y.substr(0,1)==="("?uc(y.substr(1,y.length-2)):uc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?uc(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof sr?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof sr?f:Lm(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof sr?y:y.substr(0,1)==="("?uc(y.substr(1,y.length-2)):uc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?uc(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof sr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(y){y=!!y,w=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,1)},set:function(y){y?this.Ff=On(this.Ff,1):this.Ff=Mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,2)},set:function(y){y?this.Ff=On(this.Ff,2):this.Ff=Mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,3)},set:function(y){y?this.Ff=On(this.Ff,3):this.Ff=Mn(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');B=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(B){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:B=2;break;case"center":case 1:B=1;break;case"left":case 0:default:B=0}}})};oi(co,No);var qc=function(){co.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return OT(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(o,s,a){a||(a=1);for(var A,c=[];A=s.exec(o);)c.push(A[a]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,18)},set:function(t){t?this.Ff=On(this.Ff,18):this.Ff=Mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=On(this.Ff,19):this.Ff=Mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,20)},set:function(t){t?(this.Ff=On(this.Ff,20),e.sort()):this.Ff=Mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,22)},set:function(t){t?this.Ff=On(this.Ff,22):this.Ff=Mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(t){t?this.Ff=On(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,27)},set:function(t){t?this.Ff=On(this.Ff,27):this.Ff=Mn(this.Ff,27)}}),this.hasAppearanceStream=!1};oi(qc,co);var $c=function(){qc.call(this),this.fontName="helvetica",this.combo=!1};oi($c,qc);var jc=function(){$c.call(this),this.combo=!0};oi(jc,$c);var bf=function(){jc.call(this),this.edit=!0};oi(bf,jc);var sr=function(){co.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,15)},set:function(t){t?this.Ff=On(this.Ff,15):this.Ff=Mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,16)},set:function(t){t?this.Ff=On(this.Ff,16):this.Ff=Mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,17)},set:function(t){t?this.Ff=On(this.Ff,17):this.Ff=Mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(t){t?this.Ff=On(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+FA(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){$t(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};oi(sr,co);var If=function(){sr.call(this),this.pushButton=!0};oi(If,sr);var zc=function(){sr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};oi(zc,sr);var eg=function(){var r,e;co.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),n)s.push("/"+o+" ("+FA(i(n[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){$t(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oi(eg,co),zc.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},zc.prototype.createOption=function(r){var e=new eg;return e.Parent=this,e.optionName=r,this.Kids.push(e),NQ.call(this.scope,e),e};var Ef=function(){sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=je.CheckBox.createAppearanceStream()};oi(Ef,sr);var dA=function(){co.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,13)},set:function(e){e?this.Ff=On(this.Ff,13):this.Ff=Mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,21)},set:function(e){e?this.Ff=On(this.Ff,21):this.Ff=Mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,23)},set:function(e){e?this.Ff=On(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,24)},set:function(e){e?this.Ff=On(this.Ff,24):this.Ff=Mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,25)},set:function(e){e?this.Ff=On(this.Ff,25):this.Ff=Mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,26)},set:function(e){e?this.Ff=On(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oi(dA,co);var Sf=function(){dA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ln(this.Ff,14)},set:function(r){r?this.Ff=On(this.Ff,14):this.Ff=Mn(this.Ff,14)}}),this.password=!0};oi(Sf,dA);var je={CheckBox:{createAppearanceStream:function(){return{N:{On:je.CheckBox.YesNormal},D:{On:je.CheckBox.YesPushDown,Off:je.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=ko(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),o=fC(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+pt(je.internal.getWidth(r))+" "+pt(je.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+pt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=ko(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],o=je.internal.getHeight(r),s=je.internal.getWidth(r),a=fC(r,r.caption);return i.push("1 g"),i.push("0 0 "+pt(s)+" "+pt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pt(s-1)+" "+pt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+pt(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=ko(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pt(je.internal.getWidth(r))+" "+pt(je.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:je.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=je.RadioButton.Circle.YesNormal,e.D[r]=je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=ko(r);e.scope=r.scope;var t=[],n=je.internal.getWidth(r)<=je.internal.getHeight(r)?je.internal.getWidth(r)/4:je.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=je.internal.Bezier_C,o=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ws(je.internal.getWidth(r)/2)+" "+Ws(je.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ko(r);e.scope=r.scope;var t=[],n=je.internal.getWidth(r)<=je.internal.getHeight(r)?je.internal.getWidth(r)/4:je.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*je.internal.Bezier_C).toFixed(5)),s=Number((n*je.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ws(je.internal.getWidth(r)/2)+" "+Ws(je.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ws(je.internal.getWidth(r)/2)+" "+Ws(je.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=ko(r);e.scope=r.scope;var t=[],n=je.internal.getWidth(r)<=je.internal.getHeight(r)?je.internal.getWidth(r)/4:je.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*je.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ws(je.internal.getWidth(r)/2)+" "+Ws(je.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:je.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=je.RadioButton.Cross.YesNormal,e.D[r]=je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=ko(r);e.scope=r.scope;var t=[],n=je.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+pt(je.internal.getWidth(r)-2)+" "+pt(je.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(pt(n.x1.x)+" "+pt(n.x1.y)+" m"),t.push(pt(n.x2.x)+" "+pt(n.x2.y)+" l"),t.push(pt(n.x4.x)+" "+pt(n.x4.y)+" m"),t.push(pt(n.x3.x)+" "+pt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=ko(r);e.scope=r.scope;var t=je.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(je.internal.getWidth(r))+" "+pt(je.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pt(je.internal.getWidth(r)-2)+" "+pt(je.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(pt(t.x1.x)+" "+pt(t.x1.y)+" m"),n.push(pt(t.x2.x)+" "+pt(t.x2.y)+" l"),n.push(pt(t.x4.x)+" "+pt(t.x4.y)+" m"),n.push(pt(t.x3.x)+" "+pt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=ko(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pt(je.internal.getWidth(r))+" "+pt(je.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};je.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=je.internal.getWidth(r),t=je.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},je.internal.getWidth=function(r){var e=0;return $t(r)==="object"&&(e=h1(r.Rect[2])),e},je.internal.getHeight=function(r){var e=0;return $t(r)==="object"&&(e=h1(r.Rect[3])),e};var NQ=Tn.addField=function(r){if(RQ(this,r),!(r instanceof co))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Tn.AcroFormChoiceField=qc,Tn.AcroFormListBox=$c,Tn.AcroFormComboBox=jc,Tn.AcroFormEditBox=bf,Tn.AcroFormButton=sr,Tn.AcroFormPushButton=If,Tn.AcroFormRadioButton=zc,Tn.AcroFormCheckBox=Ef,Tn.AcroFormTextField=dA,Tn.AcroFormPasswordField=Sf,Tn.AcroFormAppearance=je,Tn.AcroForm={ChoiceField:qc,ListBox:$c,ComboBox:jc,EditBox:bf,Button:sr,PushButton:If,RadioButton:zc,CheckBox:Ef,TextField:dA,PasswordField:Sf,Appearance:je},ot.AcroForm={ChoiceField:qc,ListBox:$c,ComboBox:jc,EditBox:bf,Button:sr,PushButton:If,RadioButton:zc,CheckBox:Ef,TextField:dA,PasswordField:Sf,Appearance:je};ot.AcroForm;function HT(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(F,R){var $,V,ie,ne,se,re=e;if((R=R||e)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(K(F))for(se in t)for(ie=t[se],$=0;$<ie.length;$+=1){for(ne=!0,V=0;V<ie[$].length;V+=1)if(ie[$][V]!==void 0&&ie[$][V]!==F[V]){ne=!1;break}if(ne===!0){re=se;break}}else for(se in t)for(ie=t[se],$=0;$<ie.length;$+=1){for(ne=!0,V=0;V<ie[$].length;V+=1)if(ie[$][V]!==void 0&&ie[$][V]!==F.charCodeAt(V)){ne=!1;break}if(ne===!0){re=se;break}}return re===e&&R!==e&&(re=R),re},i=function F(R){for(var $=this.internal.write,V=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:R.width}),ne.push({key:"Height",value:R.height}),R.colorSpace===B.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===B.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var se="",re=0,ue=R.transparency.length;re<ue;re++)se+=R.transparency[re]+" "+R.transparency[re]+" ";ne.push({key:"Mask",value:"["+se+"]"})}R.sMask!==void 0&&ne.push({key:"SMask",value:R.objectId+1+" 0 R"});var pe=R.filter!==void 0?["/"+R.filter]:void 0;if(V({data:R.data,additionalKeyValues:ne,alreadyAppliedFilters:pe,objectId:R.objectId}),$("endobj"),"sMask"in R&&R.sMask!==void 0){var Ue="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,S={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:Ue,data:R.sMask};"filter"in R&&(S.filter=R.filter),F.call(this,S)}if(R.colorSpace===B.INDEXED){var Q=this.internal.newObject();V({data:P(new Uint8Array(R.palette)),objectId:Q}),$("endobj")}},o=function(){var F=this.internal.collections.addImage_images;for(var R in F)i.call(this,F[R])},s=function(){var F,R=this.internal.collections.addImage_images,$=this.internal.write;for(var V in R)$("/I"+(F=R[V]).index,F.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},A=function(){var F=this.internal.collections.addImage_images;return a.call(this),F},c=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(F){return typeof r["process"+F.toUpperCase()]=="function"},u=function(F){return $t(F)==="object"&&F.nodeType===1},d=function(F,R){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var $=""+F.getAttribute("src");if($.indexOf("data:image/")===0)return kh(unescape($).split("base64,").pop());var V=r.loadFile($,!0);if(V!==void 0)return V}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ie;switch(R){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return kh(F.toDataURL(ie,1).split("base64,").pop())}},f=function(F){var R=this.internal.collections.addImage_images;if(R){for(var $ in R)if(F===R[$].alias)return R[$]}},m=function(F,R,$){return F||R||(F=-96,R=-96),F<0&&(F=-1*$.width*72/F/this.internal.scaleFactor),R<0&&(R=-1*$.height*72/R/this.internal.scaleFactor),F===0&&(F=R*$.width/$.height),R===0&&(R=F*$.height/$.width),[F,R]},w=function(F,R,$,V,ie,ne){var se=m.call(this,$,V,ie),re=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,pe=A.call(this);if($=se[0],V=se[1],pe[ie.index]=ie,ne){ne*=Math.PI/180;var Ue=Math.cos(ne),S=Math.sin(ne),Q=function(z){return z.toFixed(4)},G=[Q(Ue),Q(S),Q(-1*S),Q(Ue),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,re(F),ue(R+V),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([re($),"0","0",re(V),"0","0","cm"].join(" "))):this.internal.write([re($),"0","0",re(V),re(F),ue(R+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},B=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=r.__addimage__.sHashCode=function(F){var R,$,V=0;if(typeof F=="string")for($=F.length,R=0;R<$;R++)V=(V<<5)-V+F.charCodeAt(R),V|=0;else if(K(F))for($=F.byteLength/2,R=0;R<$;R++)V=(V<<5)-V+F[R],V|=0;return V},x=r.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var R=!0;return F.length===0&&(R=!1),F.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(R=!1),R},O=r.__addimage__.extractImageFromDataUrl=function(F){var R=(F=F||"").split("base64,"),$=null;if(R.length===2){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(V)&&($={mimeType:V[1],charset:V[2],data:R[1]})}return $},L=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(F){return L()&&F instanceof ArrayBuffer};var K=r.__addimage__.isArrayBufferView=function(F){return L()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},H=r.__addimage__.binaryStringToUint8Array=function(F){for(var R=F.length,$=new Uint8Array(R),V=0;V<R;V++)$[V]=F.charCodeAt(V);return $},P=r.__addimage__.arrayBufferToBinaryString=function(F){for(var R="",$=K(F)?F:new Uint8Array(F),V=0;V<$.length;V+=8192)R+=String.fromCharCode.apply(null,$.subarray(V,V+8192));return R};r.addImage=function(){var F,R,$,V,ie,ne,se,re,ue;if(typeof arguments[1]=="number"?(R=e,$=arguments[1],V=arguments[2],ie=arguments[3],ne=arguments[4],se=arguments[5],re=arguments[6],ue=arguments[7]):(R=arguments[1],$=arguments[2],V=arguments[3],ie=arguments[4],ne=arguments[5],se=arguments[6],re=arguments[7],ue=arguments[8]),$t(F=arguments[0])==="object"&&!u(F)&&"imageData"in F){var pe=F;F=pe.imageData,R=pe.format||R||e,$=pe.x||$||0,V=pe.y||V||0,ie=pe.w||pe.width||ie,ne=pe.h||pe.height||ne,se=pe.alias||se,re=pe.compression||re,ue=pe.rotation||pe.angle||ue}var Ue=this.internal.getFilters();if(re===void 0&&Ue.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN($)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var S=q.call(this,F,R,se,re);return w.call(this,$,V,ie,ne,S,ue),this};var q=function(F,R,$,V){var ie,ne,se;if(typeof F=="string"&&n(F)===e){F=unescape(F);var re=ee(F,!1);(re!==""||(re=r.loadFile(F,!0))!==void 0)&&(F=re)}if(u(F)&&(F=d(F,R)),R=n(F,R),!l(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((se=$)==null||se.length===0)&&($=function(ue){return typeof ue=="string"||K(ue)?b(ue):K(ue.data)?b(ue.data):null}(F)),(ie=f.call(this,$))||(L()&&(F instanceof Uint8Array||R==="RGBA"||(ne=F,F=H(F))),ie=this["process"+R.toUpperCase()](F,c.call(this),$,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in r.image_compression?ue:y.NONE}(V),ne)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},ee=r.__addimage__.convertBase64ToBinaryString=function(F,R){var $;R=typeof R!="boolean"||R;var V,ie="";if(typeof F=="string"){V=($=O(F))!==null?$.data:F;try{ie=kh(V)}catch(ne){if(R)throw x(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};r.getImageProperties=function(F){var R,$,V="";if(u(F)&&(F=d(F)),typeof F=="string"&&n(F)===e&&((V=ee(F,!1))===""&&(V=r.loadFile(F)||""),F=V),$=n(F),!l($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!L()||F instanceof Uint8Array||(F=H(F)),!(R=this["process"+$.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=$,R}})(ot.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};ot.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,l=!1,u=0;u<c.length&&!l;u++)switch((n=c[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(l!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){n=c[d];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(w.objId),b=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+A.objId+" 0 R",o+=" /T ("+f(y(b))+") >>",w.content=o;var x=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(w.objId,"0 R",B.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(m(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var L=this.annotations._nameMap[n.options.name];n.options.pageNumber=L.page,n.options.top=L.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var K=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+K+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,o,s){var a=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:A(t),y:c(n),w:A(t+i),h:c(n+o)},options:s,type:"link"})},r.textWithLink=function(t,n,i,o){var s,a,A=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var l=this.splitTextToSize(t,a).length;s=Math.ceil(c*l)}else a=A,s=c;return this.text(t,n,i,o),i+=.2*c,o.align==="center"&&(n-=A/2),o.align==="right"&&(n-=A),this.link(n,i-c,a,s,o),A},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(ot.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=r.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},A=r.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&i.indexOf(w.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var l=r.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length==4},u=r.__arabicParser__.resolveLigatures=function(w){var B=0,y=t,b="",x=0;for(B=0;B<w.length;B+=1)y[w.charCodeAt(B)]!==void 0?(x++,typeof(y=y[w.charCodeAt(B)])=="number"&&(b+=String.fromCharCode(y),y=t,x=0),B===w.length-1&&(y=t,b+=w.charAt(B-(x-1)),B-=x-1,x=0)):(y=t,b+=w.charAt(B-x),B-=x,x=0);return b};r.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var d=r.__arabicParser__.getCorrectForm=function(w,B,y){return s(w)?o(w)===!1?-1:!c(w)||!s(B)&&!s(y)||!s(y)&&a(B)||a(w)&&!s(B)||a(w)&&A(B)||a(w)&&a(B)?0:l(w)&&s(B)&&!a(B)&&s(y)&&c(y)?3:a(w)||!s(y)?1:2:-1},f=function(w){var B=0,y=0,b=0,x="",O="",L="",K=(w=w||"").split("\\s+"),H=[];for(B=0;B<K.length;B+=1){for(H.push(""),y=0;y<K[B].length;y+=1)x=K[B][y],O=K[B][y-1],L=K[B][y+1],s(x)?(b=d(x,O,L),H[B]+=b!==-1?String.fromCharCode(e[x.charCodeAt(0)][b]):x):H[B]+=x;H[B]=u(H[B])}return H.join(" ")},m=r.__arabicParser__.processArabic=r.processArabic=function(){var w,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(B)){var b=0;for(y=[],b=0;b<B.length;b+=1)Array.isArray(B[b])?y.push([f(B[b][0]),B[b][1],B[b][2]]):y.push([f(B[b])]);w=y}else w=f(B);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};r.events.push(["preProcessText",m])}(ot.API),ot.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(w){A=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(w){m=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},r.getTextDimensions=function(A,c){n.call(this);var l=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,w=0,B=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var y=c.maxWidth;y>0?typeof A=="string"?A=this.splitTextToSize(A,y):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(x,O){return x.concat(B.splitTextToSize(O,y))},[])):A=Array.isArray(A)?A:[A];for(var b=0;b<A.length;b++)f<(w=this.getStringUnitWidth(A[b],{font:u})*l)&&(f=w);return f!==0&&(m=A.length),{w:f/=d,h:Math.max((m*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/d,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var A;A=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===A.lineNumber?(A.x=(c.x||0)+(c.width||0),A.y=c.y||0):c.y+c.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,f&&d&&(this.printHeaderRow(A.lineNumber,!0),A.y+=d[0].height)):A.y=c.y+c.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,t===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-l,A.y+l,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+l,{align:"center",baseline:"top",maxWidth:A.width-l-l}):this.text(A.text,A.x+l,A.y+l,{align:"left",baseline:"top",maxWidth:A.width-l-l})),this.internal.__cell__.lastCell=A,this};r.table=function(A,c,l,u,d){if(n.call(this),!l)throw new Error("No data for PDF table.");var f,m,w,B,y=[],b=[],x=[],O={},L={},K=[],H=[],P=(d=d||{}).autoSize||!1,q=d.printHeaders!==!1,ee=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,F=d.margins||Object.assign({width:this.getPageWidth()},e),R=typeof d.padding=="number"?d.padding:3,$=d.headerBackgroundColor||"#c8c8c8",V=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=V,this.setFontSize(ee),u==null)b=y=Object.keys(l[0]),x=y.map(function(){return"left"});else if(Array.isArray(u)&&$t(u[0])==="object")for(y=u.map(function(pe){return pe.name}),b=u.map(function(pe){return pe.prompt||pe.name||""}),x=u.map(function(pe){return pe.align||"left"}),f=0;f<u.length;f+=1)L[u[f].name]=u[f].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(b=y=u,x=y.map(function(){return"left"}));if(P||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<y.length;f+=1){for(O[B=y[f]]=l.map(function(pe){return pe[B]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=O[B],this.setFont(void 0,"normal"),w=0;w<m.length;w+=1)K.push(this.getTextDimensions(m[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[B]=Math.max.apply(null,K)+R+R,K=[]}if(q){var ie={};for(f=0;f<y.length;f+=1)ie[y[f]]={},ie[y[f]].text=b[f],ie[y[f]].align=x[f];var ne=a.call(this,ie,L);H=y.map(function(pe){return new o(A,c,L[pe],ne,ie[pe].text,void 0,ie[pe].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var se=u.reduce(function(pe,Ue){return pe[Ue.name]=Ue.align,pe},{});for(f=0;f<l.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:l[f]},this);var re=a.call(this,l[f],L);for(w=0;w<y.length;w+=1){var ue=l[f][y[w]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:w,data:ue},this),s.call(this,new o(A,c,L[y[w]],re,ue,f+2,se[y[w]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=c,this};var a=function(A,c){var l=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(A).map(function(f){var m=A[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-l-l)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/d+l+l},this).reduce(function(f,m){return Math.max(f,m)},0)};r.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},r.printHeaderRow=function(A,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){l=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(l.y=this.internal.__cell__.margins.top||0,d.push(l)),l.lineNumber=A;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,l),this.setTextColor(m)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}}(ot.API);var DT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gC=HT(KT),GT=[100,200,300,400,500,600,700,800,900],PQ=HT(GT);function pC(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return DT[o=o||"normal"]?o:"normal"}(r.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(o){return typeof gC[o=o||"normal"]=="number"?o:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function u1(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var LQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},d1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function f1(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function OQ(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},LQ,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=pC(e[a])).family]&&(o.family=i[o.family]),r.hasOwnProperty(o.family)){s=r[o.family];break}if(!(s=s||r[n]))throw new Error("Could not find a font-family for the rule '"+f1(o)+"' and default family '"+n+"'.");if(s=function(A,c){if(c[A])return c[A];var l=gC[A],u=l<=gC.normal?-1:1,d=u1(c,KT,l,u);if(!d)throw new Error("Could not find a matching font-stretch value for "+A);return d}(o.stretch,s),s=function(A,c){if(c[A])return c[A];for(var l=DT[A],u=0;u<l.length;++u)if(c[l[u]])return c[l[u]];throw new Error("Could not find a matching font-style for "+A)}(o.style,s),!(s=function(A,c){if(c[A])return c[A];if(A===400&&c[500])return c[500];if(A===500&&c[400])return c[400];var l=PQ[A],u=u1(c,GT,l,A<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+A);return u}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+f1(o)+"'.");return s}function g1(r){return r.trimLeft()}function MQ(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function QQ(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Fd,p1,m1,Om=["times"];(function(r){var e,t,n,i,o,s,a,A,c,l=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new A,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new s,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new s,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,A=this.internal.Matrix,c=new l}]);var u=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=S;Object.defineProperty(this,"pdf",{get:function(){return Q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ye){G=!!ye}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(ye){z=!!ye}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(ye){isNaN(ye)||(X=ye)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ye){isNaN(ye)||(ce=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var j;typeof ye=="number"?j=[ye,ye,ye,ye]:((j=new Array(4))[0]=ye[0],j[1]=ye.length>=2?ye[1]:j[0],j[2]=ye.length>=3?ye[2]:j[0],j[3]=ye.length>=4?ye[3]:j[1]),c.margin=j}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ye){fe=ye}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(ye){Fe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof l&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ye){ke=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var j;j=d(ye),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=j.a===0,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var j=d(ye);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=j.a===0,this.ctx.strokeOpacity=j.a,j.a===0?this.pdf.setDrawColor(255,255,255):(j.a,this.pdf.setDrawColor(j.r,j.g,j.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var He=null;function Oe(ye,j){if(He===null){var wt=function(Ye){var _e=[];return Object.keys(Ye).forEach(function(Pe){Ye[Pe].forEach(function(De){var Qe=null;switch(De){case"bold":Qe={family:Pe,weight:"bold"};break;case"italic":Qe={family:Pe,style:"italic"};break;case"bolditalic":Qe={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:Pe}}Qe!==null&&(Qe.ref={name:Pe,style:De},_e.push(Qe))})}),_e}(ye.getFontList());He=function(Ye){for(var _e={},Pe=0;Pe<Ye.length;++Pe){var De=pC(Ye[Pe]),Qe=De.family,Xe=De.stretch,dt=De.style,vt=De.weight;_e[Qe]=_e[Qe]||{},_e[Qe][Xe]=_e[Qe][Xe]||{},_e[Qe][Xe][dt]=_e[Qe][Xe][dt]||{},_e[Qe][Xe][dt][vt]=De}return _e}(wt.concat(j))}return He}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(ye){He=null,st=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var j;if(this.ctx.font=ye,(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var wt=j[1],Ye=(j[2],j[3]),_e=j[4],Pe=(j[5],j[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(De==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Qe=function(lt){var Et,Ke,vr=[],Nt=lt.trim();if(Nt==="")return Om;if(Nt in d1)return[d1[Nt]];for(;Nt!=="";){switch(Ke=null,Et=(Nt=g1(Nt)).charAt(0)){case'"':case"'":Ke=MQ(Nt.substring(1),Et);break;default:Ke=QQ(Nt)}if(Ke===null||(vr.push(Ke[0]),(Nt=g1(Ke[1]))!==""&&Nt.charAt(0)!==","))return Om;Nt=Nt.replace(/^,/,"")}return vr}(Pe);if(this.fontFaces){var Xe=OQ(Oe(this.pdf,this.fontFaces),Qe.map(function(lt){return{family:lt,stretch:"normal",weight:Ye,style:wt}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var dt="";(Ye==="bold"||parseInt(Ye,10)>=700||wt==="bold")&&(dt="bold"),wt==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var vt="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Qe.length;xt++){if(this.pdf.internal.getFont(Qe[xt],dt,{noFallback:!0,disableWarning:!0})!==void 0){vt=Qe[xt];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(Qe[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=Qe[xt],dt="bold";else if(this.pdf.internal.getFont(Qe[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=Qe[xt],dt="normal";break}}if(vt===""){for(var jt=0;jt<Qe.length;jt++)if(It[Qe[jt]]){vt=It[Qe[jt]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,Ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,Ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};u.prototype.setLineDash=function(S){this.lineDash=S},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){O.call(this,"fill",!1)},u.prototype.stroke=function(){O.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(S,Q){if(isNaN(S)||isNaN(Q))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(S,Q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(S,Q)},u.prototype.closePath=function(){var S=new s(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&$t(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){S=new s(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(S.x,S.y)},u.prototype.lineTo=function(S,Q){if(isNaN(S)||isNaN(Q))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(S,Q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},u.prototype.quadraticCurveTo=function(S,Q,G,z){if(isNaN(G)||isNaN(z)||isNaN(S)||isNaN(Q))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new s(G,z)),ce=this.ctx.transform.applyToPoint(new s(S,Q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},u.prototype.bezierCurveTo=function(S,Q,G,z,X,ce){if(isNaN(X)||isNaN(ce)||isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(X,ce)),fe=this.ctx.transform.applyToPoint(new s(S,Q)),Fe=this.ctx.transform.applyToPoint(new s(G,z));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Fe.x,y2:Fe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},u.prototype.arc=function(S,Q,G,z,X,ce){if(isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z)||isNaN(X))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(S,Q));S=de.x,Q=de.y;var fe=this.ctx.transform.applyToPoint(new s(0,G)),Fe=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(fe.x-Fe.x,2)+Math.pow(fe.y-Fe.y,2))}Math.abs(X-z)>=2*Math.PI&&(z=0,X=2*Math.PI),this.path.push({type:"arc",x:S,y:Q,radius:G,startAngle:z,endAngle:X,counterclockwise:ce})},u.prototype.arcTo=function(S,Q,G,z,X){throw new Error("arcTo not implemented.")},u.prototype.rect=function(S,Q,G,z){if(isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,Q),this.lineTo(S+G,Q),this.lineTo(S+G,Q+z),this.lineTo(S,Q+z),this.lineTo(S,Q),this.lineTo(S+G,Q),this.lineTo(S,Q)},u.prototype.fillRect=function(S,Q,G,z){if(isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,Q,G,z),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},u.prototype.strokeRect=function(S,Q,G,z){if(isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(S,Q,G,z),this.stroke())},u.prototype.clearRect=function(S,Q,G,z){if(isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,Q,G,z))},u.prototype.save=function(S){S=typeof S!="boolean"||S;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},u.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(S){var Q,G,z,X;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))Q=0,G=0,z=0,X=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(ce!==null)Q=parseInt(ce[1]),G=parseInt(ce[2]),z=parseInt(ce[3]),X=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)Q=parseInt(ce[1]),G=parseInt(ce[2]),z=parseInt(ce[3]),X=parseFloat(ce[4]);else{if(X=1,typeof S=="string"&&S.charAt(0)!=="#"){var de=new NT(S);S=de.ok?de.toHex():"#000000"}S.length===4?(Q=S.substring(1,2),Q+=Q,G=S.substring(2,3),G+=G,z=S.substring(3,4),z+=z):(Q=S.substring(1,3),G=S.substring(3,5),z=S.substring(5,7)),Q=parseInt(Q,16),G=parseInt(G,16),z=parseInt(z,16)}}return{r:Q,g:G,b:z,a:X,style:S}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(S,Q,G,z){if(isNaN(Q)||isNaN(G)||typeof S!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!f.call(this)){var X=re(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;R.call(this,{text:S,x:Q,y:G,scale:ce,angle:X,align:this.textAlign,maxWidth:z})}},u.prototype.strokeText=function(S,Q,G,z){if(isNaN(Q)||isNaN(G)||typeof S!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){z=isNaN(z)?void 0:z;var X=re(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;R.call(this,{text:S,x:Q,y:G,scale:ce,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:z})}},u.prototype.measureText=function(S){if(typeof S!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,G=this.pdf.internal.scaleFactor,z=Q.internal.getFontSize(),X=Q.getStringUnitWidth(S)*z/Q.internal.scaleFactor,ce=function(de){var fe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ce({width:X*=Math.round(96*G/72*1e4)/1e4})},u.prototype.scale=function(S,Q){if(isNaN(S)||isNaN(Q))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new A(S,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.rotate=function(S){if(isNaN(S))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new A(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},u.prototype.translate=function(S,Q){if(isNaN(S)||isNaN(Q))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new A(1,0,0,1,S,Q);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.transform=function(S,Q,G,z,X,ce){if(isNaN(S)||isNaN(Q)||isNaN(G)||isNaN(z)||isNaN(X)||isNaN(ce))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new A(S,Q,G,z,X,ce);this.ctx.transform=this.ctx.transform.multiply(de)},u.prototype.setTransform=function(S,Q,G,z,X,ce){S=isNaN(S)?1:S,Q=isNaN(Q)?0:Q,G=isNaN(G)?0:G,z=isNaN(z)?1:z,X=isNaN(X)?0:X,ce=isNaN(ce)?0:ce,this.ctx.transform=new A(S,Q,G,z,X,ce)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(S,Q,G,z,X,ce,de,fe,Fe){var ke=this.pdf.getImageProperties(S),He=1,Oe=1,st=1,ye=1;z!==void 0&&fe!==void 0&&(st=fe/z,ye=Fe/X,He=ke.width/z*fe/z,Oe=ke.height/X*Fe/X),ce===void 0&&(ce=Q,de=G,Q=0,G=0),z!==void 0&&fe===void 0&&(fe=z,Fe=X),z===void 0&&fe===void 0&&(fe=ke.width,Fe=ke.height);for(var j,wt=this.ctx.transform.decompose(),Ye=re(wt.rotate.shx),_e=new A,Pe=(_e=(_e=(_e=_e.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new a(ce-Q*st,de-G*ye,z*He,X*Oe)),De=B.call(this,Pe),Qe=[],Xe=0;Xe<De.length;Xe+=1)Qe.indexOf(De[Xe])===-1&&Qe.push(De[Xe]);if(x(Qe),this.autoPaging)for(var dt=Qe[0],vt=Qe[Qe.length-1],It=dt;It<vt+1;It++){this.pdf.setPage(It);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=It===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=It===1?0:lt+(It-2)*Et;if(this.ctx.clip_path.length!==0){var vr=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(j,this.posX+this.margin[3],-Ke+jt+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=vr}var Nt=JSON.parse(JSON.stringify(Pe));Nt=b([Nt],this.posX+this.margin[3],-Ke+jt+this.ctx.prevPageLastElemOffset)[0];var Li=(It>dt||It<vt)&&w.call(this);Li&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Et,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,Ye),Li&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Ye)};var B=function(S,Q,G){var z=[];Q=Q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":z.push(Math.floor((S.y+X)/G)+1);break;case"arc":z.push(Math.floor((S.y+X-S.radius)/G)+1),z.push(Math.floor((S.y+X+S.radius)/G)+1);break;case"qct":var ce=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);z.push(Math.floor((ce.y+X)/G)+1),z.push(Math.floor((ce.y+ce.h+X)/G)+1);break;case"bct":var de=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);z.push(Math.floor((de.y+X)/G)+1),z.push(Math.floor((de.y+de.h+X)/G)+1);break;case"rect":z.push(Math.floor((S.y+X)/G)+1),z.push(Math.floor((S.y+S.h+X)/G)+1)}for(var fe=0;fe<z.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<z[fe];)y.call(this);return z},y=function(){var S=this.fillStyle,Q=this.strokeStyle,G=this.font,z=this.lineCap,X=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=Q,this.font=G,this.lineCap=z,this.lineWidth=X,this.lineJoin=ce},b=function(S,Q,G){for(var z=0;z<S.length;z++)switch(S[z].type){case"bct":S[z].x2+=Q,S[z].y2+=G;case"qct":S[z].x1+=Q,S[z].y1+=G;case"mt":case"lt":case"arc":default:S[z].x+=Q,S[z].y+=G}return S},x=function(S){return S.sort(function(Q,G){return Q-G})},O=function(S,Q){for(var G,z,X=this.fillStyle,ce=this.strokeStyle,de=this.lineCap,fe=this.lineWidth,Fe=Math.abs(fe*this.ctx.transform.scaleX),ke=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),st=[],ye=0;ye<Oe.length;ye++)if(Oe[ye].x!==void 0)for(var j=B.call(this,Oe[ye]),wt=0;wt<j.length;wt+=1)st.indexOf(j[wt])===-1&&st.push(j[wt]);for(var Ye=0;Ye<st.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<st[Ye];)y.call(this);if(x(st),this.autoPaging)for(var _e=st[0],Pe=st[st.length-1],De=_e;De<Pe+1;De++){this.pdf.setPage(De),this.fillStyle=X,this.strokeStyle=ce,this.lineCap=de,this.lineWidth=Fe,this.lineJoin=ke;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=De===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=De===1?0:dt+(De-2)*vt;if(this.ctx.clip_path.length!==0){var xt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-It+Xe+this.ctx.prevPageLastElemOffset),L.call(this,S,!0),this.path=xt}if(z=JSON.parse(JSON.stringify(He)),this.path=b(z,this.posX+this.margin[3],-It+Xe+this.ctx.prevPageLastElemOffset),Q===!1||De===0){var jt=(De>_e||De<Pe)&&w.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,vt,null).clip().discardPath()),L.call(this,S,Q),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Fe,L.call(this,S,Q),this.lineWidth=fe;this.path=He},L=function(S,Q){if((S!=="stroke"||Q||!m.call(this))&&(S==="stroke"||Q||!f.call(this))){for(var G,z,X=[],ce=this.path,de=0;de<ce.length;de++){var fe=ce[de];switch(fe.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:fe,deltas:[],abs:[]});break;case"lt":var Fe=X.length;if(ce[de-1]&&!isNaN(ce[de-1].x)&&(G=[fe.x-ce[de-1].x,fe.y-ce[de-1].y],Fe>0)){for(;Fe>=0;Fe--)if(X[Fe-1].close!==!0&&X[Fe-1].begin!==!0){X[Fe-1].deltas.push(G),X[Fe-1].abs.push(fe);break}}break;case"bct":G=[fe.x1-ce[de-1].x,fe.y1-ce[de-1].y,fe.x2-ce[de-1].x,fe.y2-ce[de-1].y,fe.x-ce[de-1].x,fe.y-ce[de-1].y],X[X.length-1].deltas.push(G);break;case"qct":var ke=ce[de-1].x+2/3*(fe.x1-ce[de-1].x),He=ce[de-1].y+2/3*(fe.y1-ce[de-1].y),Oe=fe.x+2/3*(fe.x1-fe.x),st=fe.y+2/3*(fe.y1-fe.y),ye=fe.x,j=fe.y;G=[ke-ce[de-1].x,He-ce[de-1].y,Oe-ce[de-1].x,st-ce[de-1].y,ye-ce[de-1].x,j-ce[de-1].y],X[X.length-1].deltas.push(G);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(fe)}}z=Q?null:S==="stroke"?"stroke":"fill";for(var wt=!1,Ye=0;Ye<X.length;Ye++)if(X[Ye].arc)for(var _e=X[Ye].abs,Pe=0;Pe<_e.length;Pe++){var De=_e[Pe];De.type==="arc"?P.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,Q,!wt):$.call(this,De.x,De.y),wt=!0}else if(X[Ye].close===!0)this.pdf.internal.out("h"),wt=!1;else if(X[Ye].begin!==!0){var Qe=X[Ye].start.x,Xe=X[Ye].start.y;V.call(this,X[Ye].deltas,Qe,Xe),wt=!0}z&&q.call(this,z),Q&&ee.call(this)}},K=function(S){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-G;case"top":return S+Q-G;case"hanging":return S+Q-2*G;case"middle":return S+Q/2-G;case"ideographic":return S;case"alphabetic":default:return S}},H=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(Q,G){this.colorStops.push([Q,G])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(S,Q,G,z,X,ce,de,fe,Fe){for(var ke=ne.call(this,G,z,X,ce),He=0;He<ke.length;He++){var Oe=ke[He];He===0&&(Fe?F.call(this,Oe.x1+S,Oe.y1+Q):$.call(this,Oe.x1+S,Oe.y1+Q)),ie.call(this,S,Q,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}fe?ee.call(this):q.call(this,de)},q=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(S,Q){this.pdf.internal.out(t(S)+" "+n(Q)+" m")},R=function(S){var Q;switch(S.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var G=this.pdf.getTextDimensions(S.text),z=K.call(this,S.y),X=H.call(this,z)-G.h,ce=this.ctx.transform.applyToPoint(new s(S.x,z)),de=this.ctx.transform.decompose(),fe=new A;fe=(fe=(fe=fe.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Fe,ke,He,Oe=this.ctx.transform.applyToRectangle(new a(S.x,z,G.w,G.h)),st=fe.applyToRectangle(new a(S.x,X,G.w,G.h)),ye=B.call(this,st),j=[],wt=0;wt<ye.length;wt+=1)j.indexOf(ye[wt])===-1&&j.push(ye[wt]);if(x(j),this.autoPaging)for(var Ye=j[0],_e=j[j.length-1],Pe=Ye;Pe<_e+1;Pe++){this.pdf.setPage(Pe);var De=Pe===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],dt=Xe-this.margin[0],vt=this.pdf.internal.pageSize.width-this.margin[1],It=vt-this.margin[3],xt=Pe===1?0:Qe+(Pe-2)*dt;if(this.ctx.clip_path.length!==0){var jt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Fe,this.posX+this.margin[3],-1*xt+De),L.call(this,"fill",!0),this.path=jt}var lt=b([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-xt+De+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*S.scale),He=this.lineWidth,this.lineWidth=He*S.scale);var Et=this.autoPaging!=="text";if(Et||lt.y+lt.h<=Xe){if(Et||lt.y>=De&&lt.x<=vt){var Ke=Et?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||vt-lt.x)[0],vr=b([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-xt+De+this.ctx.prevPageLastElemOffset)[0],Nt=Et&&(Pe>Ye||Pe<_e)&&w.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,dt,null).clip().discardPath()),this.pdf.text(Ke,vr.x,vr.y,{angle:S.angle,align:Q,renderingMode:S.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else lt.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-lt.y);S.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=He)}else S.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*S.scale),He=this.lineWidth,this.lineWidth=He*S.scale),this.pdf.text(S.text,ce.x+this.posX,ce.y+this.posY,{angle:S.angle,align:Q,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=He)},$=function(S,Q,G,z){G=G||0,z=z||0,this.pdf.internal.out(t(S+G)+" "+n(Q+z)+" l")},V=function(S,Q,G){return this.pdf.lines(S,Q,G,null,null)},ie=function(S,Q,G,z,X,ce,de,fe){this.pdf.internal.out([e(i(G+S)),e(o(z+Q)),e(i(X+S)),e(o(ce+Q)),e(i(de+S)),e(o(fe+Q)),"c"].join(" "))},ne=function(S,Q,G,z){for(var X=2*Math.PI,ce=Math.PI/2;Q>G;)Q-=X;var de=Math.abs(G-Q);de<X&&z&&(de=X-de);for(var fe=[],Fe=z?-1:1,ke=Q;de>1e-5;){var He=ke+Fe*Math.min(de,ce);fe.push(se.call(this,S,ke,He)),de-=Math.abs(He-ke),ke=He}return fe},se=function(S,Q,G){var z=(G-Q)/2,X=S*Math.cos(z),ce=S*Math.sin(z),de=X,fe=-ce,Fe=de*de+fe*fe,ke=Fe+de*X+fe*ce,He=4/3*(Math.sqrt(2*Fe*ke)-ke)/(de*ce-fe*X),Oe=de-He*fe,st=fe+He*de,ye=Oe,j=-st,wt=z+Q,Ye=Math.cos(wt),_e=Math.sin(wt);return{x1:S*Math.cos(Q),y1:S*Math.sin(Q),x2:Oe*Ye-st*_e,y2:Oe*_e+st*Ye,x3:ye*Ye-j*_e,y3:ye*_e+j*Ye,x4:S*Math.cos(G),y4:S*Math.sin(G)}},re=function(S){return 180*S/Math.PI},ue=function(S,Q,G,z,X,ce){var de=S+.5*(G-S),fe=Q+.5*(z-Q),Fe=X+.5*(G-X),ke=ce+.5*(z-ce),He=Math.min(S,X,de,Fe),Oe=Math.max(S,X,de,Fe),st=Math.min(Q,ce,fe,ke),ye=Math.max(Q,ce,fe,ke);return new a(He,st,Oe-He,ye-st)},pe=function(S,Q,G,z,X,ce,de,fe){var Fe,ke,He,Oe,st,ye,j,wt,Ye,_e,Pe,De,Qe,Xe,dt=G-S,vt=z-Q,It=X-G,xt=ce-z,jt=de-X,lt=fe-ce;for(ke=0;ke<41;ke++)Ye=(j=(He=S+(Fe=ke/40)*dt)+Fe*((st=G+Fe*It)-He))+Fe*(st+Fe*(X+Fe*jt-st)-j),_e=(wt=(Oe=Q+Fe*vt)+Fe*((ye=z+Fe*xt)-Oe))+Fe*(ye+Fe*(ce+Fe*lt-ye)-wt),ke==0?(Pe=Ye,De=_e,Qe=Ye,Xe=_e):(Pe=Math.min(Pe,Ye),De=Math.min(De,_e),Qe=Math.max(Qe,Ye),Xe=Math.max(Xe,_e));return new a(Math.round(Pe),Math.round(De),Math.round(Qe-Pe),Math.round(Xe-De))},Ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,Q,G=(S=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:Q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(ot.API),function(r){var e=function(o){var s,a,A,c,l,u,d,f,m,w;for(a=[],A=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>A;A+=4)(l=(o.charCodeAt(A)<<24)+(o.charCodeAt(A+1)<<16)+(o.charCodeAt(A+2)<<8)+o.charCodeAt(A+3))!==0?(u=(l=((l=((l=((l=(l-(w=l%85))/85)-(m=l%85))/85)-(f=l%85))/85)-(d=l%85))/85)%85,a.push(u+33,d+33,f+33,m+33,w+33)):a.push(122);return function(B,y){for(var b=y;b>0;b--)B.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,A,c,l,u=String,d="length",f=255,m="charCodeAt",w="slice",B="replace";for(o[w](-2),o=o[w](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),A=[],c=0,l=(o+=s="uuuuu"[w](o[d]%5||5))[d];l>c;c+=5)a=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),A.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(y,b){for(var x=b;x>0;x--)y.pop()}(A,s[d]),u.fromCharCode.apply(u,A)},n=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",A=0;A<o.length;A+=2)a+=String.fromCharCode("0x"+(o[A]+o[A+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=lC(s)).reduce(function(A,c){return A+String.fromCharCode(c)},"")};r.processDataByFilters=function(o,s){var a=0,A=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":A=t(A),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=n(A),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:A,reverseChain:c.reverse().join(" ")}}}(ot.API),function(r){r.loadFile=function(e,t,n){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(A,c,l){var u=new XMLHttpRequest,d=0,f=function(m){var w=m.length,B=[],y=String.fromCharCode;for(d=0;d<w;d+=1)B.push(y(255&m.charCodeAt(d)));return B.join("")};if(u.open("GET",A,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(u.onload=function(){u.status===200?l(f(this.responseText)):l(void 0)}),u.send(null),c&&u.status===200)return f(u.responseText)}(i,o,s)}catch{}return a}(e,t,n)},r.loadImageFile=r.loadFile}(ot.API),function(r){function e(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):Mw(()=>Promise.resolve().then(()=>T8),void 0)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):Mw(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var a=$t(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var A=document.createElement(s);for(var c in a.className&&(A.className=a.className),a.innerHTML&&a.dompurify&&(A.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)A.style[c]=a.style[c];return A},o=function s(a){var A=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),A);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(A){return this.set({src:i("div",{innerHTML:s,dompurify:A})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function A(c,l){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)l!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(A(d,l));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,a(this.prop.container,A)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var A=this.opt.jsPDF,c=this.opt.fontFaces,l=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:l,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var f=c[d],m=f.src.find(function(w){return w.format==="truetype"});m&&A.addFont(m.url,f.ref.name,f.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,A.context2d.save(!0),a(this.prop.container,u)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var a=Object.keys(s||{}).map(function(A){if(A in o.template.prop)return function(){this.prop[A]=s[A]};switch(A){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[A]=s[A]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var A=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(A):A})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(A,c){return Math.floor(A*c/72*96)}return this.then(function(){(s=s||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,A,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),A!=null&&(this.progress.n=A),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,A,c){return this.setProgress(s?this.progress.val+s:null,a||null,A?this.progress.n+A:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var A=this;return this.thenCore(s,a,function(c,l){return A.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(u){return A.updateProgress(null,c),u}).then(c,l).then(function(u){return A.updateProgress(1),u})})},o.prototype.thenCore=function(s,a,A){A=A||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),l=A.call(c,s,a);return o.convert(l,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(A){a=a.thenCore(A)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ot.getPageSize=function(s,a,A){if($t(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,A=c.format||A}a=a||"mm",A=A||"a4",s=(""+(s||"P")).toLowerCase();var l,u=(""+A).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=.75;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+a}var f,m=0,w=0;if(d.hasOwnProperty(u))m=d[u][1]/l,w=d[u][0]/l;else try{m=A[1],w=A[0]}catch{throw new Error("Invalid format: "+A)}if(s==="p"||s==="portrait")s="p",w>m&&(f=w,w=m,m=f);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>w&&(f=w,w=m,m=f)}return{width:w,height:m,unit:a,k:l,orientation:s}},r.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(pC):null;var A=new o(a);return a.worker?A:A.from(s).doCallback()}}(ot.API),ot.API.addJS=function(r){return m1=r,this.internal.events.subscribe("postPutResources",function(){Fd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),p1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+m1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fd!==void 0&&p1!==void 0&&this.internal.out("/Names <</JavaScript "+Fd+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=n.exec(s);if(a!=null){var A=a[1];t.internal.newObjectDeferredBegin(A,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,l=[];for(o=0;o<c;o++){var u=t.internal.newObject();l.push(u);var d=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<l.length;o++)t.internal.write("(page_"+(o+1)+")"+l[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,o){var s={title:i,options:o,children:[]};return n==null&&(n=this.root),n.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var s=n.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var A=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var o=0;o<i.children.length;o++)n.count++,this.count_r(n,i.children[o]);return n.count}}])}(ot.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,o,s,a){var A,c=this.decode.DCT_DECODE,l=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(A=function(u){for(var d,f=256*u.charCodeAt(4)+u.charCodeAt(5),m=u.length,w={width:0,height:0,numcomponents:1},B=4;B<m;B+=2){if(B+=f,e.indexOf(u.charCodeAt(B+1))!==-1){d=256*u.charCodeAt(B+5)+u.charCodeAt(B+6),w={width:256*u.charCodeAt(B+7)+u.charCodeAt(B+8),height:d,numcomponents:u.charCodeAt(B+9)};break}f=256*u.charCodeAt(B+2)+u.charCodeAt(B+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}l={data:t,width:A.width,height:A.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:i}}return l}}(ot.API);var dc,Ud,w1,C1,y1,HQ=function(){var r,e,t;function n(o){var s,a,A,c,l,u,d,f,m,w,B,y,b,x;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(s=this.readUInt32(),m=(function(){var O,L;for(L=[],O=0;O<4;++O)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},l=this.readUInt16(),c=this.readUInt16()||100,u.delay=1e3*l/c,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),o=(u!=null?u.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((w=A-this.transparency.indexed.length)>0)for(b=0;0<=w?b<w:b>w;0<=w?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":d=(B=this.read(s)).indexOf(0),f=String.fromCharCode.apply(String,B.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,B.slice(d+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),A=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function l(u,d,f,m){var w,B,y,b,x,O,L,K,H,P,q,ee,F,R,$,V,ie,ne,se,re,ue,pe=Math.ceil((c.width-u)/f),Ue=Math.ceil((c.height-d)/m),S=c.width==pe&&c.height==Ue;for(R=s*pe,ee=S?a:new Uint8Array(R*Ue),O=o.length,F=0,B=0;F<Ue&&A<O;){switch(o[A++]){case 0:for(b=ie=0;ie<R;b=ie+=1)ee[B++]=o[A++];break;case 1:for(b=ne=0;ne<R;b=ne+=1)w=o[A++],x=b<s?0:ee[B-s],ee[B++]=(w+x)%256;break;case 2:for(b=se=0;se<R;b=se+=1)w=o[A++],y=(b-b%s)/s,$=F&&ee[(F-1)*R+y*s+b%s],ee[B++]=($+w)%256;break;case 3:for(b=re=0;re<R;b=re+=1)w=o[A++],y=(b-b%s)/s,x=b<s?0:ee[B-s],$=F&&ee[(F-1)*R+y*s+b%s],ee[B++]=(w+Math.floor((x+$)/2))%256;break;case 4:for(b=ue=0;ue<R;b=ue+=1)w=o[A++],y=(b-b%s)/s,x=b<s?0:ee[B-s],F===0?$=V=0:($=ee[(F-1)*R+y*s+b%s],V=y&&ee[(F-1)*R+(y-1)*s+b%s]),L=x+$-V,K=Math.abs(L-x),P=Math.abs(L-$),q=Math.abs(L-V),H=K<=P&&K<=q?x:P<=q?$:V,ee[B++]=(w+H)%256;break;default:throw new Error("Invalid filter algorithm: "+o[A-1])}if(!S){var Q=((d+F*m)*c.width+u)*s,G=F*R;for(b=0;b<pe;b+=1){for(var z=0;z<s;z+=1)a[Q++]=ee[G++];Q+=(f-1)*s}}F++}}return o=wQ(o),c.interlaceMethod==1?(l(0,0,8,8),l(4,0,8,8),l(0,4,4,8),l(2,0,4,4),l(0,2,2,4),l(1,0,2,2),l(0,1,1,2)):l(0,0,1,1),a},n.prototype.decodePalette=function(){var o,s,a,A,c,l,u,d,f;for(a=this.palette,l=this.transparency.indexed||[],c=new Uint8Array((l.length||0)+a.length),A=0,o=0,s=u=0,d=a.length;u<d;s=u+=3)c[A++]=a[s],c[A++]=a[s+1],c[A++]=a[s+2],c[A++]=(f=l[o++])!=null?f:255;return c},n.prototype.copyToImageData=function(o,s){var a,A,c,l,u,d,f,m,w,B,y;if(A=this.colors,w=null,a=this.hasAlphaChannel,this.palette.length&&(w=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),A=4,a=!0),m=(c=o.data||o).length,u=w||s,l=d=0,A===1)for(;l<m;)f=w?4*s[l/4]:d,B=u[f++],c[l++]=B,c[l++]=B,c[l++]=B,c[l++]=a?u[f++]:255,d=f;else for(;l<m;)f=w?4*s[l/4]:d,c[l++]=u[f++],c[l++]=u[f++],c[l++]=u[f++],c[l++]=a?u[f++]:255,d=f},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(ct)==="[object Window]"){try{e=ct.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(o){var s;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var s,a,A,c,l,u,d,f;if(this.animation){for(f=[],a=l=0,u=(d=this.animation.frames).length;l<u;a=++l)s=d[a],A=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(A,c),s.imageData=A,f.push(s.image=r(A));return f}},n.prototype.renderFrame=function(o,s){var a,A,c;return a=(A=this.animation.frames)[s],c=A[s-1],s===0&&o.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(o){var s,a,A,c,l,u,d=this;return a=0,u=this.animation,c=u.numFrames,A=u.frames,l=u.numPlays,(s=function(){var f,m;if(f=a++%c,m=A[f],d.renderFrame(o,f),c>1&&a/c<l)return d.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function DQ(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],o=i>>7,s=1<<(7&i)+1;r[e++],r[e++];var a=null,A=null;o&&(a=e,A=s,e+=3*s);var c=!0,l=[],u=0,d=null,f=0,m=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,m=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=r[e++];u=r[e++]|r[e++]<<8,d=r[e++],!(1&w)&&(d=null),f=w>>2&7,e++;break;case 254:for(;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var B=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,O=r[e++],L=O>>6&1,K=1<<(7&O)+1,H=a,P=A,q=!1;O>>7&&(q=!0,H=e,P=K,e+=3*K);var ee=e;for(e++;;){var F;if(!((F=r[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}l.push({x:B,y,width:b,height:x,has_local_palette:q,palette_offset:H,palette_size:P,data_offset:ee,data_length:e-ee,transparent_index:d,interlaced:!!L,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return m},this.frameInfo=function(R){if(R<0||R>=l.length)throw new Error("Frame index out of range.");return l[R]},this.decodeAndBlitFrameBGRA=function(R,$){var V=this.frameInfo(R),ie=V.width*V.height,ne=new Uint8Array(ie);v1(r,V.data_offset,ne,ie);var se=V.palette_offset,re=V.transparent_index;re===null&&(re=256);var ue=V.width,pe=t-ue,Ue=ue,S=4*(V.y*t+V.x),Q=4*((V.y+V.height)*t+V.x),G=S,z=4*pe;V.interlaced===!0&&(z+=4*t*7);for(var X=8,ce=0,de=ne.length;ce<de;++ce){var fe=ne[ce];if(Ue===0&&(Ue=ue,(G+=z)>=Q&&(z=4*pe+4*t*(X-1),G=S+(ue+pe)*(X<<1),X>>=1)),fe===re)G+=4;else{var Fe=r[se+3*fe],ke=r[se+3*fe+1],He=r[se+3*fe+2];$[G++]=He,$[G++]=ke,$[G++]=Fe,$[G++]=255}--Ue}},this.decodeAndBlitFrameRGBA=function(R,$){var V=this.frameInfo(R),ie=V.width*V.height,ne=new Uint8Array(ie);v1(r,V.data_offset,ne,ie);var se=V.palette_offset,re=V.transparent_index;re===null&&(re=256);var ue=V.width,pe=t-ue,Ue=ue,S=4*(V.y*t+V.x),Q=4*((V.y+V.height)*t+V.x),G=S,z=4*pe;V.interlaced===!0&&(z+=4*t*7);for(var X=8,ce=0,de=ne.length;ce<de;++ce){var fe=ne[ce];if(Ue===0&&(Ue=ue,(G+=z)>=Q&&(z=4*pe+4*t*(X-1),G=S+(ue+pe)*(X<<1),X>>=1)),fe===re)G+=4;else{var Fe=r[se+3*fe],ke=r[se+3*fe+1],He=r[se+3*fe+2];$[G++]=Fe,$[G++]=ke,$[G++]=He,$[G++]=255}--Ue}}}function v1(r,e,t,n){for(var i=r[e++],o=1<<i,s=o+1,a=s+1,A=i+1,c=(1<<A)-1,l=0,u=0,d=0,f=r[e++],m=new Int32Array(4096),w=null;;){for(;l<16&&f!==0;)u|=r[e++]<<l,l+=8,f===1?f=r[e++]:--f;if(l<A)break;var B=u&c;if(u>>=A,l-=A,B!==o){if(B===s)break;for(var y=B<a?B:w,b=0,x=y;x>o;)x=m[x]>>8,++b;var O=x;if(d+b+(y!==B?1:0)>n)return void tn.log("Warning, gif stream longer than expected.");t[d++]=O;var L=d+=b;for(y!==B&&(t[d++]=O),x=y;b--;)x=m[x],t[--L]=255&x,x>>=8;w!==null&&a<4096&&(m[a++]=w<<8|O,a>=c+1&&A<12&&(++A,c=c<<1|1)),w=B}else a=s+1,c=(1<<(A=i+1))-1,w=null}return d!==n&&tn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mm(r){var e,t,n,i,o,s=Math.floor,a=new Array(64),A=new Array(64),c=new Array(64),l=new Array(64),u=new Array(65535),d=new Array(65535),f=new Array(64),m=new Array(64),w=[],B=0,y=7,b=new Array(64),x=new Array(64),O=new Array(64),L=new Array(256),K=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(S,Q){for(var G=0,z=0,X=new Array,ce=1;ce<=16;ce++){for(var de=1;de<=S[ce];de++)X[Q[z]]=[],X[Q[z]][0]=G,X[Q[z]][1]=ce,z++,G++;G*=2}return X}function se(S){for(var Q=S[0],G=S[1]-1;G>=0;)Q&1<<G&&(B|=1<<y),G--,--y<0&&(B==255?(re(255),re(0)):re(B),y=7,B=0)}function re(S){w.push(S)}function ue(S){re(S>>8&255),re(255&S)}function pe(S,Q,G,z,X){for(var ce,de=X[0],fe=X[240],Fe=function(_e,Pe){var De,Qe,Xe,dt,vt,It,xt,jt,lt,Et,Ke=0;for(lt=0;lt<8;++lt){De=_e[Ke],Qe=_e[Ke+1],Xe=_e[Ke+2],dt=_e[Ke+3],vt=_e[Ke+4],It=_e[Ke+5],xt=_e[Ke+6];var vr=De+(jt=_e[Ke+7]),Nt=De-jt,Li=Qe+xt,Zt=Qe-xt,dn=Xe+It,fo=Xe-It,Mt=dt+vt,Ua=dt-vt,bn=vr+Mt,Oi=vr-Mt,jo=Li+dn,In=Li-dn;_e[Ke]=bn+jo,_e[Ke+4]=bn-jo;var ft=.707106781*(In+Oi);_e[Ke+2]=Oi+ft,_e[Ke+6]=Oi-ft;var Qt=.382683433*((bn=Ua+fo)-(In=Zt+Nt)),xa=.5411961*bn+Qt,hr=1.306562965*In+Qt,go=.707106781*(jo=fo+Zt),po=Nt+go,it=Nt-go;_e[Ke+5]=it+xa,_e[Ke+3]=it-xa,_e[Ke+1]=po+hr,_e[Ke+7]=po-hr,Ke+=8}for(Ke=0,lt=0;lt<8;++lt){De=_e[Ke],Qe=_e[Ke+8],Xe=_e[Ke+16],dt=_e[Ke+24],vt=_e[Ke+32],It=_e[Ke+40],xt=_e[Ke+48];var Mi=De+(jt=_e[Ke+56]),mo=De-jt,jr=Qe+xt,$n=Qe-xt,Dn=Xe+It,si=Xe-It,NA=dt+vt,zo=dt-vt,Qi=Mi+NA,Hi=Mi-NA,Di=jr+Dn,wo=jr-Dn;_e[Ke]=Qi+Di,_e[Ke+32]=Qi-Di;var Bi=.707106781*(wo+Hi);_e[Ke+16]=Hi+Bi,_e[Ke+48]=Hi-Bi;var Co=.382683433*((Qi=zo+si)-(wo=$n+mo)),Ra=.5411961*Qi+Co,PA=1.306562965*wo+Co,LA=.707106781*(Di=si+$n),OA=mo+LA,MA=mo-LA;_e[Ke+40]=MA+Ra,_e[Ke+24]=MA-Ra,_e[Ke+8]=OA+PA,_e[Ke+56]=OA-PA,Ke++}for(lt=0;lt<64;++lt)Et=_e[lt]*Pe[lt],f[lt]=Et>0?Et+.5|0:Et-.5|0;return f}(S,Q),ke=0;ke<64;++ke)m[H[ke]]=Fe[ke];var He=m[0]-G;G=m[0],He==0?se(z[0]):(se(z[d[ce=32767+He]]),se(u[ce]));for(var Oe=63;Oe>0&&m[Oe]==0;)Oe--;if(Oe==0)return se(de),G;for(var st,ye=1;ye<=Oe;){for(var j=ye;m[ye]==0&&ye<=Oe;)++ye;var wt=ye-j;if(wt>=16){st=wt>>4;for(var Ye=1;Ye<=st;++Ye)se(fe);wt&=15}ce=32767+m[ye],se(X[(wt<<4)+d[ce]]),se(u[ce]),ye++}return Oe!=63&&se(de),G}function Ue(S){S=Math.min(Math.max(S,1),100),o!=S&&(function(Q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var X=s((G[z]*Q+50)/100);X=Math.min(Math.max(X,1),255),a[H[z]]=X}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var fe=s((ce[de]*Q+50)/100);fe=Math.min(Math.max(fe,1),255),A[H[de]]=fe}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,He=0;He<8;He++)for(var Oe=0;Oe<8;Oe++)c[ke]=1/(a[H[ke]]*Fe[He]*Fe[Oe]*8),l[ke]=1/(A[H[ke]]*Fe[He]*Fe[Oe]*8),ke++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),o=S)}this.encode=function(S,Q){Q&&Ue(Q),w=new Array,B=0,y=7,ue(65496),ue(65504),ue(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ue(1),ue(1),re(0),re(0),function(){ue(65499),ue(132),re(0);for(var Qe=0;Qe<64;Qe++)re(a[Qe]);re(1);for(var Xe=0;Xe<64;Xe++)re(A[Xe])}(),function(Qe,Xe){ue(65472),ue(17),re(8),ue(Xe),ue(Qe),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(S.width,S.height),function(){ue(65476),ue(418),re(0);for(var Qe=0;Qe<16;Qe++)re(P[Qe+1]);for(var Xe=0;Xe<=11;Xe++)re(q[Xe]);re(16);for(var dt=0;dt<16;dt++)re(ee[dt+1]);for(var vt=0;vt<=161;vt++)re(F[vt]);re(1);for(var It=0;It<16;It++)re(R[It+1]);for(var xt=0;xt<=11;xt++)re($[xt]);re(17);for(var jt=0;jt<16;jt++)re(V[jt+1]);for(var lt=0;lt<=161;lt++)re(ie[lt])}(),ue(65498),ue(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var G=0,z=0,X=0;B=0,y=7,this.encode.displayName="_encode_";for(var ce,de,fe,Fe,ke,He,Oe,st,ye,j=S.data,wt=S.width,Ye=S.height,_e=4*wt,Pe=0;Pe<Ye;){for(ce=0;ce<_e;){for(ke=_e*Pe+ce,Oe=-1,st=0,ye=0;ye<64;ye++)He=ke+(st=ye>>3)*_e+(Oe=4*(7&ye)),Pe+st>=Ye&&(He-=_e*(Pe+1+st-Ye)),ce+Oe>=_e&&(He-=ce+Oe-_e+4),de=j[He++],fe=j[He++],Fe=j[He++],b[ye]=(K[de]+K[fe+256>>0]+K[Fe+512>>0]>>16)-128,x[ye]=(K[de+768>>0]+K[fe+1024>>0]+K[Fe+1280>>0]>>16)-128,O[ye]=(K[de+1280>>0]+K[fe+1536>>0]+K[Fe+1792>>0]>>16)-128;G=pe(b,c,G,e,n),z=pe(x,l,z,t,i),X=pe(O,l,X,t,i),ce+=32}Pe+=8}if(y>=0){var De=[];De[1]=y+1,De[0]=(1<<y+1)-1,se(De)}return ue(65497),new Uint8Array(w)},r=r||50,function(){for(var S=String.fromCharCode,Q=0;Q<256;Q++)L[Q]=S(Q)}(),e=ne(P,q),t=ne(R,$),n=ne(ee,F),i=ne(V,ie),function(){for(var S=1,Q=2,G=1;G<=15;G++){for(var z=S;z<Q;z++)d[32767+z]=G,u[32767+z]=[],u[32767+z][1]=G,u[32767+z][0]=z;for(var X=-(Q-1);X<=-S;X++)d[32767+X]=G,u[32767+X]=[],u[32767+X][1]=G,u[32767+X][0]=Q-1+X;S<<=1,Q<<=1}}(),function(){for(var S=0;S<256;S++)K[S]=19595*S,K[S+256>>0]=38470*S,K[S+512>>0]=7471*S+32768,K[S+768>>0]=-11059*S,K[S+1024>>0]=-21709*S,K[S+1280>>0]=32768*S+8421375,K[S+1536>>0]=-27439*S,K[S+1792>>0]=-5329*S}(),Ue(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zi(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function B1(r){function e(P){if(!P)throw Error("assert :P")}function t(P,q,ee){for(var F=0;4>F;F++)if(P[q+F]!=ee.charCodeAt(F))return!0;return!1}function n(P,q,ee,F,R){for(var $=0;$<R;$++)P[q+$]=ee[F+$]}function i(P,q,ee,F){for(var R=0;R<F;R++)P[q+R]=ee}function o(P){return new Int32Array(P)}function s(P,q){for(var ee=[],F=0;F<P;F++)ee.push(new q);return ee}function a(P,q){var ee=[];return function F(R,$,V){for(var ie=V[$],ne=0;ne<ie&&(R.push(V.length>$+1?[]:new q),!(V.length<$+1));ne++)F(R[ne],$+1,V)}(ee,0,P),ee}var A=function(){var P=this;function q(h,g){for(var C=1<<g-1>>>0;h&C;)C>>>=1;return C?(h&C-1)+C:h}function ee(h,g,C,v,I){e(!(v%C));do h[g+(v-=C)]=I;while(0<v)}function F(h,g,C,v,I){if(e(2328>=I),512>=I)var T=o(512);else if((T=o(I))==null)return 0;return function(k,U,N,M,Y,ae){var Ae,te,be=U,ge=1<<N,J=o(16),Z=o(16);for(e(Y!=0),e(M!=null),e(k!=null),e(0<N),te=0;te<Y;++te){if(15<M[te])return 0;++J[M[te]]}if(J[0]==Y)return 0;for(Z[1]=0,Ae=1;15>Ae;++Ae){if(J[Ae]>1<<Ae)return 0;Z[Ae+1]=Z[Ae]+J[Ae]}for(te=0;te<Y;++te)Ae=M[te],0<M[te]&&(ae[Z[Ae]++]=te);if(Z[15]==1)return(M=new R).g=0,M.value=ae[0],ee(k,be,1,ge,M),ge;var ve,Ie=-1,Be=ge-1,qe=0,Le=1,nt=1,Me=1<<N;for(te=0,Ae=1,Y=2;Ae<=N;++Ae,Y<<=1){if(Le+=nt<<=1,0>(nt-=J[Ae]))return 0;for(;0<J[Ae];--J[Ae])(M=new R).g=Ae,M.value=ae[te++],ee(k,be+qe,Y,Me,M),qe=q(qe,Ae)}for(Ae=N+1,Y=2;15>=Ae;++Ae,Y<<=1){if(Le+=nt<<=1,0>(nt-=J[Ae]))return 0;for(;0<J[Ae];--J[Ae]){if(M=new R,(qe&Be)!=Ie){for(be+=Me,ve=1<<(Ie=Ae)-N;15>Ie&&!(0>=(ve-=J[Ie]));)++Ie,ve<<=1;ge+=Me=1<<(ve=Ie-N),k[U+(Ie=qe&Be)].g=ve+N,k[U+Ie].value=be-U-Ie}M.g=Ae-N,M.value=ae[te++],ee(k,be+(qe>>N),Y,Me,M),qe=q(qe,Ae)}}return Le!=2*Z[15]-1?0:ge}(h,g,C,v,I,T)}function R(){this.value=this.g=0}function $(){this.value=this.g=0}function V(){this.G=s(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ur,$)}function ie(h,g,C,v){e(h!=null),e(g!=null),e(2147483648>v),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=C,h.Jd=g,h.Yc=C+v,h.Zc=4<=v?C+v-4+1:C,ce(h)}function ne(h,g){for(var C=0;0<g--;)C|=fe(h,128)<<g;return C}function se(h,g){var C=ne(h,g);return de(h)?-C:C}function re(h,g,C,v){var I,T=0;for(e(h!=null),e(g!=null),e(4294967288>v),h.Sb=v,h.Ra=0,h.u=0,h.h=0,4<v&&(v=4),I=0;I<v;++I)T+=g[C+I]<<8*I;h.Ra=T,h.bb=v,h.oa=g,h.pa=C}function ue(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ZA-8>>>0,++h.bb,h.u-=8;G(h)&&(h.h=1,h.u=0)}function pe(h,g){if(e(0<=g),!h.h&&g<=XA){var C=Q(h)&JA[g];return h.u+=g,ue(h),C}return h.h=1,h.u=0}function Ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(h){return h.Ra>>>(h.u&ZA-1)>>>0}function G(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ZA}function z(h,g){h.u=g,h.h=G(h)}function X(h){h.u>=Ll&&(e(h.u>=Ll),ue(h))}function ce(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function de(h){return ne(h,1)}function fe(h,g){var C=h.Ca;0>h.b&&ce(h);var v=h.b,I=C*g>>>8,T=(h.I>>>v>I)+0;for(T?(C-=I,h.I-=I+1<<v>>>0):C=I+1,v=C,I=0;256<=v;)I+=8,v>>=8;return v=7^I+Wr[v],h.b-=v,h.Ca=(C<<v)-1,T}function Fe(h,g,C){h[g+0]=C>>24&255,h[g+1]=C>>16&255,h[g+2]=C>>8&255,h[g+3]=C>>0&255}function ke(h,g){return h[g+0]<<0|h[g+1]<<8}function He(h,g){return ke(h,g)|h[g+2]<<16}function Oe(h,g){return ke(h,g)|ke(h,g+2)<<16}function st(h,g){var C=1<<g;return e(h!=null),e(0<g),h.X=o(C),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function ye(h,g){e(h!=null),e(g!=null),e(h.Xa==g.Xa),n(g.X,0,h.X,0,1<<g.Xa)}function j(){this.X=[],this.Xa=this.Mb=0}function wt(h,g,C,v){e(C!=null),e(v!=null);var I=C[0],T=v[0];return I==0&&(I=(h*T+g/2)/g),T==0&&(T=(g*I+h/2)/h),0>=I||0>=T?0:(C[0]=I,v[0]=T,1)}function Ye(h,g){return h+(1<<g)-1>>>g}function _e(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Pe(h,g){P[g]=function(C,v,I,T,k,U,N){var M;for(M=0;M<k;++M){var Y=P[h](U[N+M-1],I,T+M);U[N+M]=_e(C[v+M],Y)}}}function De(){this.ud=this.hd=this.jd=0}function Qe(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function Xe(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function dt(h,g){return Xe(h+(h-g+.5>>1))}function vt(h,g,C){return Math.abs(g-C)-Math.abs(h-C)}function It(h,g,C,v,I,T,k){for(v=T[k-1],C=0;C<I;++C)T[k+C]=v=_e(h[g+C],v)}function xt(h,g,C,v,I){var T;for(T=0;T<C;++T){var k=h[g+T],U=k>>8&255,N=16711935&(N=(N=16711935&k)+((U<<16)+U));v[I+T]=(4278255360&k)+N>>>0}}function jt(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function lt(h,g,C,v,I,T){var k;for(k=0;k<v;++k){var U=g[C+k],N=U>>>8,M=U,Y=255&(Y=(Y=U>>>16)+((h.jd<<24>>24)*(N<<24>>24)>>>5));M=255&(M=(M=M+((h.hd<<24>>24)*(N<<24>>24)>>>5))+((h.ud<<24>>24)*(Y<<24>>24)>>>5)),I[T+k]=(4278255360&U)+(Y<<16)+M}}function Et(h,g,C,v,I){P[g]=function(T,k,U,N,M,Y,ae,Ae,te){for(N=ae;N<Ae;++N)for(ae=0;ae<te;++ae)M[Y++]=I(U[v(T[k++])])},P[h]=function(T,k,U,N,M,Y,ae){var Ae=8>>T.b,te=T.Ea,be=T.K[0],ge=T.w;if(8>Ae)for(T=(1<<T.b)-1,ge=(1<<Ae)-1;k<U;++k){var J,Z=0;for(J=0;J<te;++J)J&T||(Z=v(N[M++])),Y[ae++]=I(be[Z&ge]),Z>>=Ae}else P["VP8LMapColor"+C](N,M,be,ge,Y,ae,k,U,te)}}function Ke(h,g,C,v,I){for(C=g+C;g<C;){var T=h[g++];v[I++]=T>>16&255,v[I++]=T>>8&255,v[I++]=T>>0&255}}function vr(h,g,C,v,I){for(C=g+C;g<C;){var T=h[g++];v[I++]=T>>16&255,v[I++]=T>>8&255,v[I++]=T>>0&255,v[I++]=T>>24&255}}function Nt(h,g,C,v,I){for(C=g+C;g<C;){var T=(k=h[g++])>>16&240|k>>12&15,k=k>>0&240|k>>28&15;v[I++]=T,v[I++]=k}}function Li(h,g,C,v,I){for(C=g+C;g<C;){var T=(k=h[g++])>>16&248|k>>13&7,k=k>>5&224|k>>3&31;v[I++]=T,v[I++]=k}}function Zt(h,g,C,v,I){for(C=g+C;g<C;){var T=h[g++];v[I++]=T>>0&255,v[I++]=T>>8&255,v[I++]=T>>16&255}}function dn(h,g,C,v,I,T){if(T==0)for(C=g+C;g<C;)Fe(v,((T=h[g++])[0]>>24|T[1]>>8&65280|T[2]<<8&16711680|T[3]<<24)>>>0),I+=32;else n(v,I,h,g,C)}function fo(h,g){P[g][0]=P[h+"0"],P[g][1]=P[h+"1"],P[g][2]=P[h+"2"],P[g][3]=P[h+"3"],P[g][4]=P[h+"4"],P[g][5]=P[h+"5"],P[g][6]=P[h+"6"],P[g][7]=P[h+"7"],P[g][8]=P[h+"8"],P[g][9]=P[h+"9"],P[g][10]=P[h+"10"],P[g][11]=P[h+"11"],P[g][12]=P[h+"12"],P[g][13]=P[h+"13"],P[g][14]=P[h+"0"],P[g][15]=P[h+"0"]}function Mt(h){return h==Gp||h==Vp||h==$u||h==qp}function Ua(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ua,this.f.kb=new bn,this.sd=null}function jo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Qt(h,g){var C=h.T,v=g.ba.f.RGBA,I=v.eb,T=v.fb+h.ka*v.A,k=_i[g.ba.S],U=h.y,N=h.O,M=h.f,Y=h.N,ae=h.ea,Ae=h.W,te=g.cc,be=g.dc,ge=g.Mc,J=g.Nc,Z=h.ka,ve=h.ka+h.T,Ie=h.U,Be=Ie+1>>1;for(Z==0?k(U,N,null,null,M,Y,ae,Ae,M,Y,ae,Ae,I,T,null,null,Ie):(k(g.ec,g.fc,U,N,te,be,ge,J,M,Y,ae,Ae,I,T-v.A,I,T,Ie),++C);Z+2<ve;Z+=2)te=M,be=Y,ge=ae,J=Ae,Y+=h.Rc,Ae+=h.Rc,T+=2*v.A,k(U,(N+=2*h.fa)-h.fa,U,N,te,be,ge,J,M,Y,ae,Ae,I,T-v.A,I,T,Ie);return N+=h.fa,h.j+ve<h.o?(n(g.ec,g.fc,U,N,Ie),n(g.cc,g.dc,M,Y,Be),n(g.Mc,g.Nc,ae,Ae,Be),C--):1&ve||k(U,N,null,null,M,Y,ae,Ae,M,Y,ae,Ae,I,T+v.A,null,null,Ie),C}function xa(h,g,C){var v=h.F,I=[h.J];if(v!=null){var T=h.U,k=g.ba.S,U=k==qu||k==$u;g=g.ba.f.RGBA;var N=[0],M=h.ka;N[0]=h.T,h.Kb&&(M==0?--N[0]:(--M,I[0]-=h.width),h.j+h.ka+h.T==h.o&&(N[0]=h.o-h.j-M));var Y=g.eb;M=g.fb+M*g.A,h=sn(v,I[0],h.width,T,N,Y,M+(U?0:3),g.A),e(C==N),h&&Mt(k)&&Si(Y,M,U,T,N,g.A)}return 0}function hr(h){var g=h.ma,C=g.ba.S,v=11>C,I=C==Gu||C==Vu||C==qu||C==Kp||C==12||Mt(C);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Nl(g.Oa,h,I?11:12))return 0;if(I&&Mt(C)&&Ee(),h.da)alert("todo:use_scaling");else{if(v){if(g.Ib=ft,h.Kb){if(C=h.U+1>>1,g.memory=o(h.U+2*C),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+C,g.Ib=Qt,Ee()}}else alert("todo:EmitYUV");I&&(g.Jb=xa,v&&oe())}if(v&&!F0){for(h=0;256>h;++h)IF[h]=89858*(h-128)+zu>>ju,TF[h]=-22014*(h-128)+zu,SF[h]=-45773*(h-128),EF[h]=113618*(h-128)+zu>>ju;for(h=Gl;h<zp;++h)g=76283*(h-16)+zu>>ju,_F[h-Gl]=ai(g,255),kF[h-Gl]=ai(g+8>>4,15);F0=1}return 1}function go(h){var g=h.ma,C=h.U,v=h.T;return e(!(1&h.ka)),0>=C||0>=v?0:(C=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,C),g.Dc+=C,1)}function po(h){h.ma.memory=null}function it(h,g,C,v){return pe(h,8)!=47?0:(g[0]=pe(h,14)+1,C[0]=pe(h,14)+1,v[0]=pe(h,1),pe(h,3)!=0?0:!h.h)}function Mi(h,g){if(4>h)return h+1;var C=h-2>>1;return(2+(1&h)<<C)+pe(g,C)+1}function mo(h,g){return 120<g?g-120:1<=(C=((C=lF[g-1])>>4)*h+(8-(15&C)))?C:1;var C}function jr(h,g,C){var v=Q(C),I=h[g+=255&v].g-8;return 0<I&&(z(C,C.u+8),v=Q(C),g+=h[g].value,g+=v&(1<<I)-1),z(C,C.u+h[g].g),h[g].value}function $n(h,g,C){return C.g+=h.g,C.value+=h.value<<g>>>0,e(8>=C.g),h.g}function Dn(h,g,C){var v=h.xc;return e((g=v==0?0:h.vc[h.md*(C>>v)+(g>>v)])<h.Wb),h.Ya[g]}function si(h,g,C,v){var I=h.ab,T=h.c*g,k=h.C;g=k+g;var U=C,N=v;for(v=h.Ta,C=h.Ua;0<I--;){var M=h.gc[I],Y=k,ae=g,Ae=U,te=N,be=(N=v,U=C,M.Ea);switch(e(Y<ae),e(ae<=M.nc),M.hc){case 2:Lu(Ae,te,(ae-Y)*be,N,U);break;case 0:var ge=Y,J=ae,Z=N,ve=U,Ie=(Me=M).Ea;ge==0&&(Hp(Ae,te,null,null,1,Z,ve),It(Ae,te+1,0,0,Ie-1,Z,ve+1),te+=Ie,ve+=Ie,++ge);for(var Be=1<<Me.b,qe=Be-1,Le=Ye(Ie,Me.b),nt=Me.K,Me=Me.w+(ge>>Me.b)*Le;ge<J;){var Lt=nt,Dt=Me,Rt=1;for(Ol(Ae,te,Z,ve-Ie,1,Z,ve);Rt<Ie;){var Tt=(Rt&~qe)+Be;Tt>Ie&&(Tt=Ie),(0,Ls[Lt[Dt++]>>8&15])(Ae,te+ +Rt,Z,ve+Rt-Ie,Tt-Rt,Z,ve+Rt),Rt=Tt}te+=Ie,ve+=Ie,++ge&qe||(Me+=Le)}ae!=M.nc&&n(N,U-be,N,U+(ae-Y-1)*be,be);break;case 1:for(be=Ae,J=te,Ie=(Ae=M.Ea)-(ve=Ae&~(Z=(te=1<<M.b)-1)),ge=Ye(Ae,M.b),Be=M.K,M=M.w+(Y>>M.b)*ge;Y<ae;){for(qe=Be,Le=M,nt=new De,Me=J+ve,Lt=J+Ae;J<Me;)jt(qe[Le++],nt),Ma(nt,be,J,te,N,U),J+=te,U+=te;J<Lt&&(jt(qe[Le++],nt),Ma(nt,be,J,Ie,N,U),J+=Ie,U+=Ie),++Y&Z||(M+=ge)}break;case 3:if(Ae==N&&te==U&&0<M.b){for(J=N,Ae=be=U+(ae-Y)*be-(ve=(ae-Y)*Ye(M.Ea,M.b)),te=N,Z=U,ge=[],ve=(Ie=ve)-1;0<=ve;--ve)ge[ve]=te[Z+ve];for(ve=Ie-1;0<=ve;--ve)J[Ae+ve]=ge[ve];bi(M,Y,ae,N,be,N,U)}else bi(M,Y,ae,Ae,te,N,U)}U=v,N=C}N!=C&&n(v,C,U,N,T)}function NA(h,g){var C=h.V,v=h.Ba+h.c*h.C,I=g-h.C;if(e(g<=h.l.o),e(16>=I),0<I){var T=h.l,k=h.Ta,U=h.Ua,N=T.width;if(si(h,I,C,v),I=U=[U],e((C=h.C)<(v=g)),e(T.v<T.va),v>T.o&&(v=T.o),C<T.j){var M=T.j-C;C=T.j,I[0]+=M*N}if(C>=v?C=0:(I[0]+=4*T.v,T.ka=C-T.j,T.U=T.va-T.v,T.T=v-C,C=1),C){if(U=U[0],11>(C=h.ca).S){var Y=C.f.RGBA,ae=(v=C.S,I=T.U,T=T.T,M=Y.eb,Y.A),Ae=T;for(Y=Y.fb+h.Ma*Y.A;0<Ae--;){var te=k,be=U,ge=I,J=M,Z=Y;switch(v){case Ku:Yr(te,be,ge,J,Z);break;case Gu:Hr(te,be,ge,J,Z);break;case Gp:Hr(te,be,ge,J,Z),Si(J,Z,0,ge,1,0);break;case v0:Xo(te,be,ge,J,Z);break;case Vu:dn(te,be,ge,J,Z,1);break;case Vp:dn(te,be,ge,J,Z,1),Si(J,Z,0,ge,1,0);break;case qu:dn(te,be,ge,J,Z,0);break;case $u:dn(te,be,ge,J,Z,0),Si(J,Z,1,ge,1,0);break;case Kp:Os(te,be,ge,J,Z);break;case qp:Os(te,be,ge,J,Z),on(J,Z,ge,1,0);break;case B0:Jo(te,be,ge,J,Z);break;default:e(0)}U+=N,Y+=ae}h.Ma+=T}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=C.height)}}h.C=g,e(h.C<=h.i)}function zo(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var C=h.Ya[g].G,v=h.Ya[g].H;if(0<C[1][v[1]+0].g||0<C[2][v[2]+0].g||0<C[3][v[3]+0].g)return 0}return 1}function Qi(h,g,C,v,I,T){if(h.Z!=0){var k=h.qd,U=h.rd;for(e(Ds[h.Z]!=null);g<C;++g)Ds[h.Z](k,U,v,I,v,I,T),k=v,U=I,I+=T;h.qd=k,h.rd=U}}function Hi(h,g){var C=h.l.ma,v=C.Z==0||C.Z==1?h.l.j:h.C;if(v=h.C<v?v:h.C,e(g<=h.l.o),g>v){var I=h.l.width,T=C.ca,k=C.tb+I*v,U=h.V,N=h.Ba+h.c*v,M=h.gc;e(h.ab==1),e(M[0].hc==3),Ou(M[0],v,g,U,N,T,k),Qi(C,v,g,T,k,I)}h.C=h.Ma=g}function Di(h,g,C,v,I,T,k){var U=h.$/v,N=h.$%v,M=h.m,Y=h.s,ae=C+h.$,Ae=ae;I=C+v*I;var te=C+v*T,be=280+Y.ua,ge=h.Pb?U:16777216,J=0<Y.ua?Y.Wa:null,Z=Y.wc,ve=ae<te?Dn(Y,N,U):null;e(h.C<T),e(te<=I);var Ie=!1;e:for(;;){for(;Ie||ae<te;){var Be=0;if(U>=ge){var qe=ae-C;e((ge=h).Pb),ge.wd=ge.m,ge.xd=qe,0<ge.s.ua&&ye(ge.s.Wa,ge.s.vb),ge=U+uF}if(N&Z||(ve=Dn(Y,N,U)),e(ve!=null),ve.Qb&&(g[ae]=ve.qb,Ie=!0),!Ie)if(X(M),ve.jc){Be=M,qe=g;var Le=ae,nt=ve.pd[Q(Be)&ur-1];e(ve.jc),256>nt.g?(z(Be,Be.u+nt.g),qe[Le]=nt.value,Be=0):(z(Be,Be.u+nt.g-256),e(256<=nt.value),Be=nt.value),Be==0&&(Ie=!0)}else Be=jr(ve.G[0],ve.H[0],M);if(M.h)break;if(Ie||256>Be){if(!Ie)if(ve.nd)g[ae]=(ve.qb|Be<<8)>>>0;else{if(X(M),Ie=jr(ve.G[1],ve.H[1],M),X(M),qe=jr(ve.G[2],ve.H[2],M),Le=jr(ve.G[3],ve.H[3],M),M.h)break;g[ae]=(Le<<24|Ie<<16|Be<<8|qe)>>>0}if(Ie=!1,++ae,++N>=v&&(N=0,++U,k!=null&&U<=T&&!(U%16)&&k(h,U),J!=null))for(;Ae<ae;)Be=g[Ae++],J.X[(506832829*Be&4294967295)>>>J.Mb]=Be}else if(280>Be){if(Be=Mi(Be-256,M),qe=jr(ve.G[4],ve.H[4],M),X(M),qe=mo(v,qe=Mi(qe,M)),M.h)break;if(ae-C<qe||I-ae<Be)break e;for(Le=0;Le<Be;++Le)g[ae+Le]=g[ae+Le-qe];for(ae+=Be,N+=Be;N>=v;)N-=v,++U,k!=null&&U<=T&&!(U%16)&&k(h,U);if(e(ae<=I),N&Z&&(ve=Dn(Y,N,U)),J!=null)for(;Ae<ae;)Be=g[Ae++],J.X[(506832829*Be&4294967295)>>>J.Mb]=Be}else{if(!(Be<be))break e;for(Ie=Be-280,e(J!=null);Ae<ae;)Be=g[Ae++],J.X[(506832829*Be&4294967295)>>>J.Mb]=Be;Be=ae,e(!(Ie>>>(qe=J).Xa)),g[Be]=qe.X[Ie],Ie=!0}Ie||e(M.h==G(M))}if(h.Pb&&M.h&&ae<I)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ye(h.s.vb,h.s.Wa);else{if(M.h)break e;k!=null&&k(h,U>T?T:U),h.a=0,h.$=ae-C}return 1}return h.a=3,0}function wo(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,e(h!=null)}function Bi(){var h=new Qp;return h==null?null:(h.a=0,h.xb=E0,fo("Predictor","VP8LPredictors"),fo("Predictor","VP8LPredictors_C"),fo("PredictorAdd","VP8LPredictorsAdd"),fo("PredictorAdd","VP8LPredictorsAdd_C"),Lu=xt,Ma=lt,Yr=Ke,Hr=vr,Os=Nt,Jo=Li,Xo=Zt,P.VP8LMapColor32b=ec,P.VP8LMapColor8b=Mu,h)}function Co(h,g,C,v,I){var T=1,k=[h],U=[g],N=v.m,M=v.s,Y=null,ae=0;e:for(;;){if(C)for(;T&&pe(N,1);){var Ae=k,te=U,be=v,ge=1,J=be.m,Z=be.gc[be.ab],ve=pe(J,2);if(be.Oc&1<<ve)T=0;else{switch(be.Oc|=1<<ve,Z.hc=ve,Z.Ea=Ae[0],Z.nc=te[0],Z.K=[null],++be.ab,e(4>=be.ab),ve){case 0:case 1:Z.b=pe(J,3)+2,ge=Co(Ye(Z.Ea,Z.b),Ye(Z.nc,Z.b),0,be,Z.K),Z.K=Z.K[0];break;case 3:var Ie,Be=pe(J,8)+1,qe=16<Be?0:4<Be?1:2<Be?2:3;if(Ae[0]=Ye(Z.Ea,qe),Z.b=qe,Ie=ge=Co(Be,1,0,be,Z.K)){var Le,nt=Be,Me=Z,Lt=1<<(8>>Me.b),Dt=o(Lt);if(Dt==null)Ie=0;else{var Rt=Me.K[0],Tt=Me.w;for(Dt[0]=Me.K[0][0],Le=1;Le<1*nt;++Le)Dt[Le]=_e(Rt[Tt+Le],Dt[Le-1]);for(;Le<4*Lt;++Le)Dt[Le]=0;Me.K[0]=null,Me.K[0]=Dt,Ie=1}}ge=Ie;break;case 2:break;default:e(0)}T=ge}}if(k=k[0],U=U[0],T&&pe(N,1)&&!(T=1<=(ae=pe(N,4))&&11>=ae)){v.a=3;break e}var en;if(en=T)t:{var zt,yt,Gn,Jr=v,Vn=k,Xr=U,Kt=ae,ci=C,li=Jr.m,er=Jr.s,dr=[null],Kr=1,ki=0,bo=hF[Kt];n:for(;;){if(ci&&pe(li,1)){var tr=pe(li,3)+2,ns=Ye(Vn,tr),Ga=Ye(Xr,tr),oc=ns*Ga;if(!Co(ns,Ga,0,Jr,dr))break n;for(dr=dr[0],er.xc=tr,zt=0;zt<oc;++zt){var Ks=dr[zt]>>8&65535;dr[zt]=Ks,Ks>=Kr&&(Kr=Ks+1)}}if(li.h)break n;for(yt=0;5>yt;++yt){var Sn=b0[yt];!yt&&0<Kt&&(Sn+=1<<Kt),ki<Sn&&(ki=Sn)}var Wp=s(Kr*bo,R),R0=Kr,N0=s(R0,V);if(N0==null)var Yu=null;else e(65536>=R0),Yu=N0;var Vl=o(ki);if(Yu==null||Vl==null||Wp==null){Jr.a=1;break n}var Ju=Wp;for(zt=Gn=0;zt<Kr;++zt){var $i=Yu[zt],sc=$i.G,ac=$i.H,P0=0,Xu=1,L0=0;for(yt=0;5>yt;++yt){Sn=b0[yt],sc[yt]=Ju,ac[yt]=Gn,!yt&&0<Kt&&(Sn+=1<<Kt);i:{var Zu,Yp=Sn,ed=Jr,ql=Vl,xF=Ju,RF=Gn,Jp=0,Gs=ed.m,NF=pe(Gs,1);if(i(ql,0,0,Yp),NF){var PF=pe(Gs,1)+1,LF=pe(Gs,1),O0=pe(Gs,LF==0?1:8);ql[O0]=1,PF==2&&(ql[O0=pe(Gs,8)]=1);var td=1}else{var M0=o(19),Q0=pe(Gs,4)+4;if(19<Q0){ed.a=3;var nd=0;break i}for(Zu=0;Zu<Q0;++Zu)M0[cF[Zu]]=pe(Gs,3);var Xp=void 0,$l=void 0,H0=ed,OF=M0,rd=Yp,D0=ql,Zp=0,Vs=H0.m,K0=8,G0=s(128,R);r:for(;F(G0,0,7,OF,19);){if(pe(Vs,1)){var MF=2+2*pe(Vs,3);if((Xp=2+pe(Vs,MF))>rd)break r}else Xp=rd;for($l=0;$l<rd&&Xp--;){X(Vs);var V0=G0[0+(127&Q(Vs))];z(Vs,Vs.u+V0.g);var Ac=V0.value;if(16>Ac)D0[$l++]=Ac,Ac!=0&&(K0=Ac);else{var QF=Ac==16,q0=Ac-16,HF=aF[q0],$0=pe(Vs,sF[q0])+HF;if($l+$0>rd)break r;for(var DF=QF?K0:0;0<$0--;)D0[$l++]=DF}}Zp=1;break r}Zp||(H0.a=3),td=Zp}(td=td&&!Gs.h)&&(Jp=F(xF,RF,8,ql,Yp)),td&&Jp!=0?nd=Jp:(ed.a=3,nd=0)}if(nd==0)break n;if(Xu&&AF[yt]==1&&(Xu=Ju[Gn].g==0),P0+=Ju[Gn].g,Gn+=nd,3>=yt){var jl,em=Vl[0];for(jl=1;jl<Sn;++jl)Vl[jl]>em&&(em=Vl[jl]);L0+=em}}if($i.nd=Xu,$i.Qb=0,Xu&&($i.qb=(sc[3][ac[3]+0].value<<24|sc[1][ac[1]+0].value<<16|sc[2][ac[2]+0].value)>>>0,P0==0&&256>sc[0][ac[0]+0].value&&($i.Qb=1,$i.qb+=sc[0][ac[0]+0].value<<8)),$i.jc=!$i.Qb&&6>L0,$i.jc){var id,rs=$i;for(id=0;id<ur;++id){var qs=id,$s=rs.pd[qs],od=rs.G[0][rs.H[0]+qs];256<=od.value?($s.g=od.g+256,$s.value=od.value):($s.g=0,$s.value=0,qs>>=$n(od,8,$s),qs>>=$n(rs.G[1][rs.H[1]+qs],16,$s),qs>>=$n(rs.G[2][rs.H[2]+qs],0,$s),$n(rs.G[3][rs.H[3]+qs],24,$s))}}}er.vc=dr,er.Wb=Kr,er.Ya=Yu,er.yc=Wp,en=1;break t}en=0}if(!(T=en)){v.a=3;break e}if(0<ae){if(M.ua=1<<ae,!st(M.Wa,ae)){v.a=1,T=0;break e}}else M.ua=0;var tm=v,j0=k,KF=U,nm=tm.s,rm=nm.xc;if(tm.c=j0,tm.i=KF,nm.md=Ye(j0,rm),nm.wc=rm==0?-1:(1<<rm)-1,C){v.xb=CF;break e}if((Y=o(k*U))==null){v.a=1,T=0;break e}T=(T=Di(v,Y,0,k,U,U,null))&&!N.h;break e}return T?(I!=null?I[0]=Y:(e(Y==null),e(C)),v.$=0,C||wo(M)):wo(M),T}function Ra(h,g){var C=h.c*h.i,v=C+g+16*g;return e(h.c<=g),h.V=o(v),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+C+g,1)}function PA(h,g){var C=h.C,v=g-C,I=h.V,T=h.Ba+h.c*C;for(e(g<=h.l.o);0<v;){var k=16<v?16:v,U=h.l.ma,N=h.l.width,M=N*k,Y=U.ca,ae=U.tb+N*C,Ae=h.Ta,te=h.Ua;si(h,k,I,T),Rn(Ae,te,Y,ae,M),Qi(U,C,C+k,Y,ae,N),v-=k,I+=k*h.c,C+=k}e(C==g),h.C=h.Ma=g}function LA(){this.ub=this.yd=this.td=this.Rb=0}function OA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function MA(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function pu(){this.Yb=function(){var h=[];return function g(C,v,I){for(var T=I[v],k=0;k<T&&(C.push(I.length>v+1?[]:0),!(I.length<v+1));k++)g(C[k],v+1,I)}(h,0,[3,11]),h}()}function pp(){this.jb=o(3),this.Wc=a([4,8],pu),this.Xc=a([4,17],pu)}function mp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function QA(){this.ld=this.La=this.dd=this.tc=0}function mu(){this.Na=this.la=0}function wp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cp(){this.uc=this.M=this.Nb=0,this.wa=Array(new QA),this.Y=0,this.ya=Array(new wl),this.aa=0,this.l=new HA}function wu(){this.y=o(16),this.f=o(8),this.ea=o(8)}function yp(){this.cb=this.a=0,this.sc="",this.m=new Ue,this.Od=new LA,this.Kc=new OA,this.ed=new mp,this.Qa=new MA,this.Ic=this.$c=this.Aa=0,this.D=new Cp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Ue),this.ia=0,this.pb=s(4,wp),this.Pa=new pp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wu),this.Hd=0,this.rb=Array(new mu),this.sb=0,this.wa=Array(new QA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wl),this.L=this.aa=0,this.gd=a([4,2],QA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function HA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vp(){var h=new yp;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Kl||(Kl=vu)),h}function Un(h,g,C){return h.a==0&&(h.a=g,h.sc=C,h.cb=0),0}function Cu(h,g,C){return 3<=C&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function yu(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return Un(h,2,"null VP8Io passed to VP8GetHeaders()");var C=g.data,v=g.w,I=g.ha;if(4>I)return Un(h,7,"Truncated header.");var T=C[v+0]|C[v+1]<<8|C[v+2]<<16,k=h.Od;if(k.Rb=!(1&T),k.td=T>>1&7,k.yd=T>>4&1,k.ub=T>>5,3<k.td)return Un(h,3,"Incorrect keyframe parameters.");if(!k.yd)return Un(h,4,"Frame not displayable.");v+=3,I-=3;var U=h.Kc;if(k.Rb){if(7>I)return Un(h,7,"cannot parse picture header");if(!Cu(C,v,I))return Un(h,3,"Bad code word");U.c=16383&(C[v+4]<<8|C[v+3]),U.Td=C[v+4]>>6,U.i=16383&(C[v+6]<<8|C[v+5]),U.Ud=C[v+6]>>6,v+=7,I-=7,h.za=U.c+15>>4,h.Ub=U.i+15>>4,g.width=U.c,g.height=U.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((T=h.Pa).jb,0,255,T.jb.length),e((T=h.Qa)!=null),T.Cb=0,T.Bb=0,T.Fb=1,i(T.Zb,0,0,T.Zb.length),i(T.Lb,0,0,T.Lb)}if(k.ub>I)return Un(h,7,"bad partition length");ie(T=h.m,C,v,k.ub),v+=k.ub,I-=k.ub,k.Rb&&(U.Ld=de(T),U.Kd=de(T)),U=h.Qa;var N,M=h.Pa;if(e(T!=null),e(U!=null),U.Cb=de(T),U.Cb){if(U.Bb=de(T),de(T)){for(U.Fb=de(T),N=0;4>N;++N)U.Zb[N]=de(T)?se(T,7):0;for(N=0;4>N;++N)U.Lb[N]=de(T)?se(T,6):0}if(U.Bb)for(N=0;3>N;++N)M.jb[N]=de(T)?ne(T,8):255}else U.Bb=0;if(T.Ka)return Un(h,3,"cannot parse segment header");if((U=h.ed).zd=de(T),U.Tb=ne(T,6),U.wb=ne(T,3),U.Pc=de(T),U.Pc&&de(T)){for(M=0;4>M;++M)de(T)&&(U.vd[M]=se(T,6));for(M=0;4>M;++M)de(T)&&(U.od[M]=se(T,6))}if(h.L=U.Tb==0?0:U.zd?1:2,T.Ka)return Un(h,3,"cannot parse filter header");var Y=I;if(I=N=v,v=N+Y,U=Y,h.Xb=(1<<ne(h.m,2))-1,Y<3*(M=h.Xb))C=7;else{for(N+=3*M,U-=3*M,Y=0;Y<M;++Y){var ae=C[I+0]|C[I+1]<<8|C[I+2]<<16;ae>U&&(ae=U),ie(h.Jc[+Y],C,N,ae),N+=ae,U-=ae,I+=3}ie(h.Jc[+M],C,N,U),C=N<v?0:5}if(C!=0)return Un(h,C,"cannot parse partitions");for(C=ne(N=h.m,7),I=de(N)?se(N,4):0,v=de(N)?se(N,4):0,U=de(N)?se(N,4):0,M=de(N)?se(N,4):0,N=de(N)?se(N,4):0,Y=h.Qa,ae=0;4>ae;++ae){if(Y.Cb){var Ae=Y.Zb[ae];Y.Fb||(Ae+=C)}else{if(0<ae){h.pb[ae]=h.pb[0];continue}Ae=C}var te=h.pb[ae];te.Sc[0]=$p[ai(Ae+I,127)],te.Sc[1]=jp[ai(Ae+0,127)],te.Eb[0]=2*$p[ai(Ae+v,127)],te.Eb[1]=101581*jp[ai(Ae+U,127)]>>16,8>te.Eb[1]&&(te.Eb[1]=8),te.Qc[0]=$p[ai(Ae+M,117)],te.Qc[1]=jp[ai(Ae+N,127)],te.lc=Ae+N}if(!k.Rb)return Un(h,4,"Not a key frame.");for(de(T),k=h.Pa,C=0;4>C;++C){for(I=0;8>I;++I)for(v=0;3>v;++v)for(U=0;11>U;++U)M=fe(T,mF[C][I][v][U])?ne(T,8):gF[C][I][v][U],k.Wc[C][I].Yb[v][U]=M;for(I=0;17>I;++I)k.Xc[C][I]=k.Wc[C][wF[I]]}return h.kc=de(T),h.kc&&(h.Bd=ne(T,8)),h.cb=1}function vu(h,g,C,v,I,T,k){var U=g[I].Yb[C];for(C=0;16>I;++I){if(!fe(h,U[C+0]))return I;for(;!fe(h,U[C+1]);)if(U=g[++I].Yb[0],C=0,I==16)return 16;var N=g[I+1].Yb;if(fe(h,U[C+2])){var M=h,Y=0;if(fe(M,(Ae=U)[(ae=C)+3]))if(fe(M,Ae[ae+6])){for(U=0,ae=2*(Y=fe(M,Ae[ae+8]))+(Ae=fe(M,Ae[ae+9+Y])),Y=0,Ae=dF[ae];Ae[U];++U)Y+=Y+fe(M,Ae[U]);Y+=3+(8<<ae)}else fe(M,Ae[ae+7])?(Y=7+2*fe(M,165),Y+=fe(M,145)):Y=5+fe(M,159);else Y=fe(M,Ae[ae+4])?3+fe(M,Ae[ae+5]):2;U=N[2]}else Y=1,U=N[1];N=k+fF[I],0>(M=h).b&&ce(M);var ae,Ae=M.b,te=(ae=M.Ca>>1)-(M.I>>Ae)>>31;--M.b,M.Ca+=te,M.Ca|=1,M.I-=(ae+1&te)<<Ae,T[N]=((Y^te)-te)*v[(0<I)+0]}return 16}function Cl(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Bp(h,g){if(h==null)return 0;if(g==null)return Un(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!yu(h,g))return 0;if(e(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var C=Wu[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-C>>4,h.zb=g.j-C>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+C>>4,h.Hb=g.va+15+C>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var v=h.ed;for(C=0;4>C;++C){var I;if(h.Qa.Cb){var T=h.Qa.Lb[C];h.Qa.Fb||(T+=v.Tb)}else T=v.Tb;for(I=0;1>=I;++I){var k=h.gd[C][I],U=T;if(v.Pc&&(U+=v.vd[0],I&&(U+=v.od[0])),0<(U=0>U?0:63<U?63:U)){var N=U;0<v.wb&&(N=4<v.wb?N>>2:N>>1)>9-v.wb&&(N=9-v.wb),1>N&&(N=1),k.dd=N,k.tc=2*U+N,k.ld=40<=U?2:15<=U?1:0}else k.tc=0;k.La=I}}}C=0}else Un(h,6,"Frame setup failed"),C=h.a;if(C=C==0){if(C){h.$c=0,0<h.Aa||(h.Ic=UF);e:{C=h.Ic,v=4*(N=h.za);var M=32*N,Y=N+1,ae=0<h.L?N*(0<h.Aa?2:1):0,Ae=(h.Aa==2?2:1)*N;if((k=v+832+(I=3*(16*C+Wu[h.L])/2*M)+(T=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=k)C=0;else{if(k>h.Vb){if(h.Vb=0,h.Ec=o(k),h.Fc=0,h.Ec==null){C=Un(h,1,"no memory during frame initialization.");break e}h.Vb=k}k=h.Ec,U=h.Fc,h.Ac=k,h.Bc=U,U+=v,h.Gd=s(M,wu),h.Hd=0,h.rb=s(Y+1,mu),h.sb=1,h.wa=ae?s(ae,QA):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=N),e(!0),h.oc=k,h.pc=U,U+=832,h.ya=s(Ae,wl),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=N),h.R=16*N,h.B=8*N,N=(M=Wu[h.L])*h.R,M=M/2*h.B,h.sa=k,h.ta=U+N,h.qa=h.sa,h.ra=h.ta+16*C*h.R+M,h.Ha=h.qa,h.Ia=h.ra+8*C*h.B+M,h.$c=0,U+=I,h.mb=T?k:null,h.nb=T?U:null,e(U+T<=h.Fc+h.Vb),Cl(h),i(h.Ac,h.Bc,0,v),C=1}}if(C){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!Hu){for(C=-255;255>=C;++C)jn[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)es[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Dl[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)ic[255+C]=0>C?0:255<C?255:C;Hu=1}tc=Ep,Zo=bp,Ml=bu,Dr=Ip,Ii=Iu,xn=Bu,nc=El,Qu=La,Ql=Mp,Qa=Sl,Ha=Op,Ms=$A,Da=Tl,rc=Ru,Ka=xu,Qs=vo,Hl=Yo,Ei=Lp,qi[0]=yo,qi[1]=Sp,qi[2]=Fp,qi[3]=Up,qi[4]=Tu,qi[5]=VA,qi[6]=_u,qi[7]=Bl,qi[8]=Rp,qi[9]=xp,Hs[0]=Eu,Hs[1]=_p,Hs[2]=Wo,Hs[3]=KA,Hs[4]=Br,Hs[5]=kp,Hs[6]=Su,ts[0]=Rs,ts[1]=Tp,ts[2]=Np,ts[3]=bl,ts[4]=Pa,ts[5]=Pp,ts[6]=Il,C=1}else C=0}C&&(C=function(te,be){for(te.M=0;te.M<te.Va;++te.M){var ge,J=te.Jc[te.M&te.Xb],Z=te.m,ve=te;for(ge=0;ge<ve.za;++ge){var Ie=Z,Be=ve,qe=Be.Ac,Le=Be.Bc+4*ge,nt=Be.zc,Me=Be.ya[Be.aa+ge];if(Be.Qa.Bb?Me.$b=fe(Ie,Be.Pa.jb[0])?2+fe(Ie,Be.Pa.jb[2]):fe(Ie,Be.Pa.jb[1]):Me.$b=0,Be.kc&&(Me.Ad=fe(Ie,Be.Bd)),Me.Za=!fe(Ie,145)+0,Me.Za){var Lt=Me.Ob,Dt=0;for(Be=0;4>Be;++Be){var Rt,Tt=nt[0+Be];for(Rt=0;4>Rt;++Rt){Tt=pF[qe[Le+Rt]][Tt];for(var en=I0[fe(Ie,Tt[0])];0<en;)en=I0[2*en+fe(Ie,Tt[en])];Tt=-en,qe[Le+Rt]=Tt}n(Lt,Dt,qe,Le,4),Dt+=4,nt[0+Be]=Tt}}else Tt=fe(Ie,156)?fe(Ie,128)?1:3:fe(Ie,163)?2:0,Me.Ob[0]=Tt,i(qe,Le,Tt,4),i(nt,0,Tt,4);Me.Dd=fe(Ie,142)?fe(Ie,114)?fe(Ie,183)?1:3:2:0}if(ve.m.Ka)return Un(te,7,"Premature end-of-partition0 encountered.");for(;te.ja<te.za;++te.ja){if(ve=J,Ie=(Z=te).rb[Z.sb-1],qe=Z.rb[Z.sb+Z.ja],ge=Z.ya[Z.aa+Z.ja],Le=Z.kc?ge.Ad:0)Ie.la=qe.la=0,ge.Za||(Ie.Na=qe.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var zt,yt;if(Ie=qe,qe=ve,Le=Z.Pa.Xc,nt=Z.ya[Z.aa+Z.ja],Me=Z.pb[nt.$b],Be=nt.ad,Lt=0,Dt=Z.rb[Z.sb-1],Tt=Rt=0,i(Be,Lt,0,384),nt.Za)var Gn=0,Jr=Le[3];else{en=o(16);var Vn=Ie.Na+Dt.Na;if(Vn=Kl(qe,Le[1],Vn,Me.Eb,0,en,0),Ie.Na=Dt.Na=(0<Vn)+0,1<Vn)tc(en,0,Be,Lt);else{var Xr=en[0]+3>>3;for(en=0;256>en;en+=16)Be[Lt+en]=Xr}Gn=1,Jr=Le[0]}var Kt=15&Ie.la,ci=15&Dt.la;for(en=0;4>en;++en){var li=1&ci;for(Xr=yt=0;4>Xr;++Xr)Kt=Kt>>1|(li=(Vn=Kl(qe,Jr,Vn=li+(1&Kt),Me.Sc,Gn,Be,Lt))>Gn)<<7,yt=yt<<2|(3<Vn?3:1<Vn?2:Be[Lt+0]!=0),Lt+=16;Kt>>=4,ci=ci>>1|li<<7,Rt=(Rt<<8|yt)>>>0}for(Jr=Kt,Gn=ci>>4,zt=0;4>zt;zt+=2){for(yt=0,Kt=Ie.la>>4+zt,ci=Dt.la>>4+zt,en=0;2>en;++en){for(li=1&ci,Xr=0;2>Xr;++Xr)Vn=li+(1&Kt),Kt=Kt>>1|(li=0<(Vn=Kl(qe,Le[2],Vn,Me.Qc,0,Be,Lt)))<<3,yt=yt<<2|(3<Vn?3:1<Vn?2:Be[Lt+0]!=0),Lt+=16;Kt>>=2,ci=ci>>1|li<<5}Tt|=yt<<4*zt,Jr|=Kt<<4<<zt,Gn|=(240&ci)<<zt}Ie.la=Jr,Dt.la=Gn,nt.Hc=Rt,nt.Gc=Tt,nt.ia=43690&Tt?0:Me.ia,Le=!(Rt|Tt)}if(0<Z.L&&(Z.wa[Z.Y+Z.ja]=Z.gd[ge.$b][ge.Za],Z.wa[Z.Y+Z.ja].La|=!Le),ve.Ka)return Un(te,7,"Premature end-of-file encountered.")}if(Cl(te),Z=be,ve=1,ge=(J=te).D,Ie=0<J.L&&J.M>=J.zb&&J.M<=J.Va,J.Aa==0)e:{if(ge.M=J.M,ge.uc=Ie,Rl(J,ge),ve=1,ge=(yt=J.D).Nb,Ie=(Tt=Wu[J.L])*J.R,qe=Tt/2*J.B,en=16*ge*J.R,Xr=8*ge*J.B,Le=J.sa,nt=J.ta-Ie+en,Me=J.qa,Be=J.ra-qe+Xr,Lt=J.Ha,Dt=J.Ia-qe+Xr,ci=(Kt=yt.M)==0,Rt=Kt>=J.Va-1,J.Aa==2&&Rl(J,yt),yt.uc)for(li=(Vn=J).D.M,e(Vn.D.uc),yt=Vn.yb;yt<Vn.Hb;++yt){Gn=yt,Jr=li;var er=(dr=(Sn=Vn).D).Nb;zt=Sn.R;var dr=dr.wa[dr.Y+Gn],Kr=Sn.sa,ki=Sn.ta+16*er*zt+16*Gn,bo=dr.dd,tr=dr.tc;if(tr!=0)if(e(3<=tr),Sn.L==1)0<Gn&&Qs(Kr,ki,zt,tr+4),dr.La&&Ei(Kr,ki,zt,tr),0<Jr&&Ka(Kr,ki,zt,tr+4),dr.La&&Hl(Kr,ki,zt,tr);else{var ns=Sn.B,Ga=Sn.qa,oc=Sn.ra+8*er*ns+8*Gn,Ks=Sn.Ha,Sn=Sn.Ia+8*er*ns+8*Gn;er=dr.ld,0<Gn&&(Qu(Kr,ki,zt,tr+4,bo,er),Qa(Ga,oc,Ks,Sn,ns,tr+4,bo,er)),dr.La&&(Ms(Kr,ki,zt,tr,bo,er),rc(Ga,oc,Ks,Sn,ns,tr,bo,er)),0<Jr&&(nc(Kr,ki,zt,tr+4,bo,er),Ql(Ga,oc,Ks,Sn,ns,tr+4,bo,er)),dr.La&&(Ha(Kr,ki,zt,tr,bo,er),Da(Ga,oc,Ks,Sn,ns,tr,bo,er))}}if(J.ia&&alert("todo:DitherRow"),Z.put!=null){if(yt=16*Kt,Kt=16*(Kt+1),ci?(Z.y=J.sa,Z.O=J.ta+en,Z.f=J.qa,Z.N=J.ra+Xr,Z.ea=J.Ha,Z.W=J.Ia+Xr):(yt-=Tt,Z.y=Le,Z.O=nt,Z.f=Me,Z.N=Be,Z.ea=Lt,Z.W=Dt),Rt||(Kt-=Tt),Kt>Z.o&&(Kt=Z.o),Z.F=null,Z.J=null,J.Fa!=null&&0<J.Fa.length&&yt<Kt&&(Z.J=Ul(J,Z,yt,Kt-yt),Z.F=J.mb,Z.F==null&&Z.F.length==0)){ve=Un(J,3,"Could not decode alpha data.");break e}yt<Z.j&&(Tt=Z.j-yt,yt=Z.j,e(!(1&Tt)),Z.O+=J.R*Tt,Z.N+=J.B*(Tt>>1),Z.W+=J.B*(Tt>>1),Z.F!=null&&(Z.J+=Z.width*Tt)),yt<Kt&&(Z.O+=Z.v,Z.N+=Z.v>>1,Z.W+=Z.v>>1,Z.F!=null&&(Z.J+=Z.v),Z.ka=yt-Z.j,Z.U=Z.va-Z.v,Z.T=Kt-yt,ve=Z.put(Z))}ge+1!=J.Ic||Rt||(n(J.sa,J.ta-Ie,Le,nt+16*J.R,Ie),n(J.qa,J.ra-qe,Me,Be+8*J.B,qe),n(J.Ha,J.Ia-qe,Lt,Dt+8*J.B,qe))}if(!ve)return Un(te,6,"Output aborted.")}return 1}(h,g)),g.bc!=null&&g.bc(g),C&=1}return C?(h.cb=0,C):0}function Ki(h,g,C,v,I){I=h[g+C+32*v]+(I>>3),h[g+C+32*v]=-256&I?0>I?0:255:I}function DA(h,g,C,v,I,T){Ki(h,g,0,C,v+I),Ki(h,g,1,C,v+T),Ki(h,g,2,C,v-T),Ki(h,g,3,C,v-I)}function zr(h){return(20091*h>>16)+h}function yl(h,g,C,v){var I,T=0,k=o(16);for(I=0;4>I;++I){var U=h[g+0]+h[g+8],N=h[g+0]-h[g+8],M=(35468*h[g+4]>>16)-zr(h[g+12]),Y=zr(h[g+4])+(35468*h[g+12]>>16);k[T+0]=U+Y,k[T+1]=N+M,k[T+2]=N-M,k[T+3]=U-Y,T+=4,g++}for(I=T=0;4>I;++I)U=(h=k[T+0]+4)+k[T+8],N=h-k[T+8],M=(35468*k[T+4]>>16)-zr(k[T+12]),Ki(C,v,0,0,U+(Y=zr(k[T+4])+(35468*k[T+12]>>16))),Ki(C,v,1,0,N+M),Ki(C,v,2,0,N-M),Ki(C,v,3,0,U-Y),T++,v+=32}function Bu(h,g,C,v){var I=h[g+0]+4,T=35468*h[g+4]>>16,k=zr(h[g+4]),U=35468*h[g+1]>>16;DA(C,v,0,I+k,h=zr(h[g+1]),U),DA(C,v,1,I+T,h,U),DA(C,v,2,I-T,h,U),DA(C,v,3,I-k,h,U)}function bp(h,g,C,v,I){yl(h,g,C,v),I&&yl(h,g+16,C,v+4)}function bu(h,g,C,v){Zo(h,g+0,C,v,1),Zo(h,g+32,C,v+128,1)}function Ip(h,g,C,v){var I;for(h=h[g+0]+4,I=0;4>I;++I)for(g=0;4>g;++g)Ki(C,v,g,I,h)}function Iu(h,g,C,v){h[g+0]&&Dr(h,g+0,C,v),h[g+16]&&Dr(h,g+16,C,v+4),h[g+32]&&Dr(h,g+32,C,v+128),h[g+48]&&Dr(h,g+48,C,v+128+4)}function Ep(h,g,C,v){var I,T=o(16);for(I=0;4>I;++I){var k=h[g+0+I]+h[g+12+I],U=h[g+4+I]+h[g+8+I],N=h[g+4+I]-h[g+8+I],M=h[g+0+I]-h[g+12+I];T[0+I]=k+U,T[8+I]=k-U,T[4+I]=M+N,T[12+I]=M-N}for(I=0;4>I;++I)k=(h=T[0+4*I]+3)+T[3+4*I],U=T[1+4*I]+T[2+4*I],N=T[1+4*I]-T[2+4*I],M=h-T[3+4*I],C[v+0]=k+U>>3,C[v+16]=M+N>>3,C[v+32]=k-U>>3,C[v+48]=M-N>>3,v+=64}function vl(h,g,C){var v,I=g-32,T=Ai,k=255-h[I-1];for(v=0;v<C;++v){var U,N=T,M=k+h[g-1];for(U=0;U<C;++U)h[g+U]=N[M+h[I+U]];g+=32}}function Sp(h,g){vl(h,g,4)}function Tp(h,g){vl(h,g,8)}function _p(h,g){vl(h,g,16)}function Wo(h,g){var C;for(C=0;16>C;++C)n(h,g+32*C,h,g-32,16)}function KA(h,g){var C;for(C=16;0<C;--C)i(h,g,h[g-1],16),g+=32}function GA(h,g,C){var v;for(v=0;16>v;++v)i(g,C+32*v,h,16)}function Eu(h,g){var C,v=16;for(C=0;16>C;++C)v+=h[g-1+32*C]+h[g+C-32];GA(v>>5,h,g)}function Br(h,g){var C,v=8;for(C=0;16>C;++C)v+=h[g-1+32*C];GA(v>>4,h,g)}function kp(h,g){var C,v=8;for(C=0;16>C;++C)v+=h[g+C-32];GA(v>>4,h,g)}function Su(h,g){GA(128,h,g)}function ht(h,g,C){return h+2*g+C+2>>2}function Fp(h,g){var C,v=g-32;for(v=new Uint8Array([ht(h[v-1],h[v+0],h[v+1]),ht(h[v+0],h[v+1],h[v+2]),ht(h[v+1],h[v+2],h[v+3]),ht(h[v+2],h[v+3],h[v+4])]),C=0;4>C;++C)n(h,g+32*C,v,0,v.length)}function Up(h,g){var C=h[g-1],v=h[g-1+32],I=h[g-1+64],T=h[g-1+96];Fe(h,g+0,16843009*ht(h[g-1-32],C,v)),Fe(h,g+32,16843009*ht(C,v,I)),Fe(h,g+64,16843009*ht(v,I,T)),Fe(h,g+96,16843009*ht(I,T,T))}function yo(h,g){var C,v=4;for(C=0;4>C;++C)v+=h[g+C-32]+h[g-1+32*C];for(v>>=3,C=0;4>C;++C)i(h,g+32*C,v,4)}function Tu(h,g){var C=h[g-1+0],v=h[g-1+32],I=h[g-1+64],T=h[g-1-32],k=h[g+0-32],U=h[g+1-32],N=h[g+2-32],M=h[g+3-32];h[g+0+96]=ht(v,I,h[g-1+96]),h[g+1+96]=h[g+0+64]=ht(C,v,I),h[g+2+96]=h[g+1+64]=h[g+0+32]=ht(T,C,v),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=ht(k,T,C),h[g+3+64]=h[g+2+32]=h[g+1+0]=ht(U,k,T),h[g+3+32]=h[g+2+0]=ht(N,U,k),h[g+3+0]=ht(M,N,U)}function _u(h,g){var C=h[g+1-32],v=h[g+2-32],I=h[g+3-32],T=h[g+4-32],k=h[g+5-32],U=h[g+6-32],N=h[g+7-32];h[g+0+0]=ht(h[g+0-32],C,v),h[g+1+0]=h[g+0+32]=ht(C,v,I),h[g+2+0]=h[g+1+32]=h[g+0+64]=ht(v,I,T),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=ht(I,T,k),h[g+3+32]=h[g+2+64]=h[g+1+96]=ht(T,k,U),h[g+3+64]=h[g+2+96]=ht(k,U,N),h[g+3+96]=ht(U,N,N)}function VA(h,g){var C=h[g-1+0],v=h[g-1+32],I=h[g-1+64],T=h[g-1-32],k=h[g+0-32],U=h[g+1-32],N=h[g+2-32],M=h[g+3-32];h[g+0+0]=h[g+1+64]=T+k+1>>1,h[g+1+0]=h[g+2+64]=k+U+1>>1,h[g+2+0]=h[g+3+64]=U+N+1>>1,h[g+3+0]=N+M+1>>1,h[g+0+96]=ht(I,v,C),h[g+0+64]=ht(v,C,T),h[g+0+32]=h[g+1+96]=ht(C,T,k),h[g+1+32]=h[g+2+96]=ht(T,k,U),h[g+2+32]=h[g+3+96]=ht(k,U,N),h[g+3+32]=ht(U,N,M)}function Bl(h,g){var C=h[g+0-32],v=h[g+1-32],I=h[g+2-32],T=h[g+3-32],k=h[g+4-32],U=h[g+5-32],N=h[g+6-32],M=h[g+7-32];h[g+0+0]=C+v+1>>1,h[g+1+0]=h[g+0+64]=v+I+1>>1,h[g+2+0]=h[g+1+64]=I+T+1>>1,h[g+3+0]=h[g+2+64]=T+k+1>>1,h[g+0+32]=ht(C,v,I),h[g+1+32]=h[g+0+96]=ht(v,I,T),h[g+2+32]=h[g+1+96]=ht(I,T,k),h[g+3+32]=h[g+2+96]=ht(T,k,U),h[g+3+64]=ht(k,U,N),h[g+3+96]=ht(U,N,M)}function xp(h,g){var C=h[g-1+0],v=h[g-1+32],I=h[g-1+64],T=h[g-1+96];h[g+0+0]=C+v+1>>1,h[g+2+0]=h[g+0+32]=v+I+1>>1,h[g+2+32]=h[g+0+64]=I+T+1>>1,h[g+1+0]=ht(C,v,I),h[g+3+0]=h[g+1+32]=ht(v,I,T),h[g+3+32]=h[g+1+64]=ht(I,T,T),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=T}function Rp(h,g){var C=h[g-1+0],v=h[g-1+32],I=h[g-1+64],T=h[g-1+96],k=h[g-1-32],U=h[g+0-32],N=h[g+1-32],M=h[g+2-32];h[g+0+0]=h[g+2+32]=C+k+1>>1,h[g+0+32]=h[g+2+64]=v+C+1>>1,h[g+0+64]=h[g+2+96]=I+v+1>>1,h[g+0+96]=T+I+1>>1,h[g+3+0]=ht(U,N,M),h[g+2+0]=ht(k,U,N),h[g+1+0]=h[g+3+32]=ht(C,k,U),h[g+1+32]=h[g+3+64]=ht(v,C,k),h[g+1+64]=h[g+3+96]=ht(I,v,C),h[g+1+96]=ht(T,I,v)}function Np(h,g){var C;for(C=0;8>C;++C)n(h,g+32*C,h,g-32,8)}function bl(h,g){var C;for(C=0;8>C;++C)i(h,g,h[g-1],8),g+=32}function Na(h,g,C){var v;for(v=0;8>v;++v)i(g,C+32*v,h,8)}function Rs(h,g){var C,v=8;for(C=0;8>C;++C)v+=h[g+C-32]+h[g-1+32*C];Na(v>>4,h,g)}function Pp(h,g){var C,v=4;for(C=0;8>C;++C)v+=h[g+C-32];Na(v>>3,h,g)}function Pa(h,g){var C,v=4;for(C=0;8>C;++C)v+=h[g-1+32*C];Na(v>>3,h,g)}function Il(h,g){Na(128,h,g)}function qA(h,g,C){var v=h[g-C],I=h[g+0],T=3*(I-v)+Dp[1020+h[g-2*C]-h[g+C]],k=Du[112+(T+4>>3)];h[g-C]=Ai[255+v+Du[112+(T+3>>3)]],h[g+0]=Ai[255+I-k]}function ku(h,g,C,v){var I=h[g+0],T=h[g+C];return Ti[255+h[g-2*C]-h[g-C]]>v||Ti[255+T-I]>v}function Fu(h,g,C,v){return 4*Ti[255+h[g-C]-h[g+0]]+Ti[255+h[g-2*C]-h[g+C]]<=v}function Uu(h,g,C,v,I){var T=h[g-3*C],k=h[g-2*C],U=h[g-C],N=h[g+0],M=h[g+C],Y=h[g+2*C],ae=h[g+3*C];return 4*Ti[255+U-N]+Ti[255+k-M]>v?0:Ti[255+h[g-4*C]-T]<=I&&Ti[255+T-k]<=I&&Ti[255+k-U]<=I&&Ti[255+ae-Y]<=I&&Ti[255+Y-M]<=I&&Ti[255+M-N]<=I}function xu(h,g,C,v){var I=2*v+1;for(v=0;16>v;++v)Fu(h,g+v,C,I)&&qA(h,g+v,C)}function vo(h,g,C,v){var I=2*v+1;for(v=0;16>v;++v)Fu(h,g+v*C,1,I)&&qA(h,g+v*C,1)}function Yo(h,g,C,v){var I;for(I=3;0<I;--I)xu(h,g+=4*C,C,v)}function Lp(h,g,C,v){var I;for(I=3;0<I;--I)vo(h,g+=4,C,v)}function Ns(h,g,C,v,I,T,k,U){for(T=2*T+1;0<I--;){if(Uu(h,g,C,T,k))if(ku(h,g,C,U))qA(h,g,C);else{var N=h,M=g,Y=C,ae=N[M-2*Y],Ae=N[M-Y],te=N[M+0],be=N[M+Y],ge=N[M+2*Y],J=27*(ve=Dp[1020+3*(te-Ae)+Dp[1020+ae-be]])+63>>7,Z=18*ve+63>>7,ve=9*ve+63>>7;N[M-3*Y]=Ai[255+N[M-3*Y]+ve],N[M-2*Y]=Ai[255+ae+Z],N[M-Y]=Ai[255+Ae+J],N[M+0]=Ai[255+te-J],N[M+Y]=Ai[255+be-Z],N[M+2*Y]=Ai[255+ge-ve]}g+=v}}function Gi(h,g,C,v,I,T,k,U){for(T=2*T+1;0<I--;){if(Uu(h,g,C,T,k))if(ku(h,g,C,U))qA(h,g,C);else{var N=h,M=g,Y=C,ae=N[M-Y],Ae=N[M+0],te=N[M+Y],be=Du[112+((ge=3*(Ae-ae))+4>>3)],ge=Du[112+(ge+3>>3)],J=be+1>>1;N[M-2*Y]=Ai[255+N[M-2*Y]+J],N[M-Y]=Ai[255+ae+ge],N[M+0]=Ai[255+Ae-be],N[M+Y]=Ai[255+te-J]}g+=v}}function El(h,g,C,v,I,T){Ns(h,g,C,1,16,v,I,T)}function La(h,g,C,v,I,T){Ns(h,g,1,C,16,v,I,T)}function Op(h,g,C,v,I,T){var k;for(k=3;0<k;--k)Gi(h,g+=4*C,C,1,16,v,I,T)}function $A(h,g,C,v,I,T){var k;for(k=3;0<k;--k)Gi(h,g+=4,1,C,16,v,I,T)}function Mp(h,g,C,v,I,T,k,U){Ns(h,g,I,1,8,T,k,U),Ns(C,v,I,1,8,T,k,U)}function Sl(h,g,C,v,I,T,k,U){Ns(h,g,1,I,8,T,k,U),Ns(C,v,1,I,8,T,k,U)}function Tl(h,g,C,v,I,T,k,U){Gi(h,g+4*I,I,1,8,T,k,U),Gi(C,v+4*I,I,1,8,T,k,U)}function Ru(h,g,C,v,I,T,k,U){Gi(h,g+4,1,I,8,T,k,U),Gi(C,v+4,1,I,8,T,k,U)}function jA(){this.ba=new Oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _l(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nu(){this.ua=0,this.Wa=new j,this.vb=new j,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new R}function Qp(){this.xb=this.a=0,this.l=new HA,this.ca=new Oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nu,this.ab=0,this.gc=s(4,kl),this.Oc=0}function zA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new HA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Oa(h,g,C,v,I,T,k){for(h=h==null?0:h[g+0],g=0;g<k;++g)I[T+g]=h+C[v+g]&255,h=I[T+g]}function Fl(h,g,C,v,I,T,k){var U;if(h==null)Oa(null,null,C,v,I,T,k);else for(U=0;U<k;++U)I[T+U]=h[g+U]+C[v+U]&255}function Ps(h,g,C,v,I,T,k){if(h==null)Oa(null,null,C,v,I,T,k);else{var U,N=h[g+0],M=N,Y=N;for(U=0;U<k;++U)M=Y+(N=h[g+U])-M,Y=C[v+U]+(-256&M?0>M?0:255:M)&255,M=N,I[T+U]=Y}}function Ul(h,g,C,v){var I=g.width,T=g.o;if(e(h!=null&&g!=null),0>C||0>=v||C+v>T)return null;if(!h.Cc){if(h.ga==null){var k;if(h.ga=new zA,(k=h.ga==null)||(k=g.width*g.o,e(h.Gb.length==0),h.Gb=o(k),h.Uc=0,h.Gb==null?k=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,k=1),k=!k),!k){k=h.ga;var U=h.Fa,N=h.P,M=h.qc,Y=h.mb,ae=h.nb,Ae=N+1,te=M-1,be=k.l;if(e(U!=null&&Y!=null&&g!=null),Ds[0]=null,Ds[1]=Oa,Ds[2]=Fl,Ds[3]=Ps,k.ca=Y,k.tb=ae,k.c=g.width,k.i=g.height,e(0<k.c&&0<k.i),1>=M)g=0;else if(k.$a=U[N+0]>>0&3,k.Z=U[N+0]>>2&3,k.Lc=U[N+0]>>4&3,N=U[N+0]>>6&3,0>k.$a||1<k.$a||4<=k.Z||1<k.Lc||N)g=0;else if(be.put=go,be.ac=hr,be.bc=po,be.ma=k,be.width=g.width,be.height=g.height,be.Da=g.Da,be.v=g.v,be.va=g.va,be.j=g.j,be.o=g.o,k.$a)e:{e(k.$a==1),g=Bi();t:for(;;){if(g==null){g=0;break e}if(e(k!=null),k.mc=g,g.c=k.c,g.i=k.i,g.l=k.l,g.l.ma=k,g.l.width=k.c,g.l.height=k.i,g.a=0,re(g.m,U,Ae,te),!Co(k.c,k.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&zo(g.s)?(k.ic=1,U=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o(U),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(k.ic=0,g=Ra(g,k.c)),!g))break t;g=1;break e}k.mc=null,g=0}else g=te>=k.c*k.i;k=!g}if(k)return null;h.ga.Lc!=1?h.Ga=0:v=T-C}e(h.ga!=null),e(C+v<=T);e:{if(g=(U=h.ga).c,T=U.l.o,U.$a==0){if(Ae=h.rc,te=h.Vc,be=h.Fa,N=h.P+1+C*g,M=h.mb,Y=h.nb+C*g,e(N<=h.P+h.qc),U.Z!=0)for(e(Ds[U.Z]!=null),k=0;k<v;++k)Ds[U.Z](Ae,te,be,N,M,Y,g),Ae=M,te=Y,Y+=g,N+=g;else for(k=0;k<v;++k)n(M,Y,be,N,g),Ae=M,te=Y,Y+=g,N+=g;h.rc=Ae,h.Vc=te}else{if(e(U.mc!=null),g=C+v,e((k=U.mc)!=null),e(g<=k.i),k.C>=g)g=1;else if(U.ic||oe(),U.ic){U=k.V,Ae=k.Ba,te=k.c;var ge=k.i,J=(be=1,N=k.$/te,M=k.$%te,Y=k.m,ae=k.s,k.$),Z=te*ge,ve=te*g,Ie=ae.wc,Be=J<ve?Dn(ae,M,N):null;e(J<=Z),e(g<=ge),e(zo(ae));t:for(;;){for(;!Y.h&&J<ve;){if(M&Ie||(Be=Dn(ae,M,N)),e(Be!=null),X(Y),256>(ge=jr(Be.G[0],Be.H[0],Y)))U[Ae+J]=ge,++J,++M>=te&&(M=0,++N<=g&&!(N%16)&&Hi(k,N));else{if(!(280>ge)){be=0;break t}ge=Mi(ge-256,Y);var qe,Le=jr(Be.G[4],Be.H[4],Y);if(X(Y),!(J>=(Le=mo(te,Le=Mi(Le,Y)))&&Z-J>=ge)){be=0;break t}for(qe=0;qe<ge;++qe)U[Ae+J+qe]=U[Ae+J+qe-Le];for(J+=ge,M+=ge;M>=te;)M-=te,++N<=g&&!(N%16)&&Hi(k,N);J<ve&&M&Ie&&(Be=Dn(ae,M,N))}e(Y.h==G(Y))}Hi(k,N>g?g:N);break t}!be||Y.h&&J<Z?(be=0,k.a=Y.h?5:3):k.$=J,g=be}else g=Di(k,k.V,k.Ba,k.c,k.i,g,PA);if(!g){v=0;break e}}C+v>=T&&(h.Cc=1),v=1}if(!v)return null;if(h.Cc&&((v=h.ga)!=null&&(v.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+C*I}function p(h,g,C,v,I,T){for(;0<I--;){var k,U=h,N=g+(C?1:0),M=h,Y=g+(C?0:3);for(k=0;k<v;++k){var ae=M[Y+4*k];ae!=255&&(ae*=32897,U[N+4*k+0]=U[N+4*k+0]*ae>>23,U[N+4*k+1]=U[N+4*k+1]*ae>>23,U[N+4*k+2]=U[N+4*k+2]*ae>>23)}g+=T}}function E(h,g,C,v,I){for(;0<v--;){var T;for(T=0;T<C;++T){var k=h[g+2*T+0],U=15&(M=h[g+2*T+1]),N=4369*U,M=(240&M|M>>4)*N>>16;h[g+2*T+0]=(240&k|k>>4)*N>>16&240|(15&k|k<<4)*N>>16>>4&15,h[g+2*T+1]=240&M|U}g+=I}}function D(h,g,C,v,I,T,k,U){var N,M,Y=255;for(M=0;M<I;++M){for(N=0;N<v;++N){var ae=h[g+N];T[k+4*N]=ae,Y&=ae}g+=C,k+=U}return Y!=255}function W(h,g,C,v,I){var T;for(T=0;T<I;++T)C[v+T]=h[g+T]>>8}function oe(){Si=p,on=E,sn=D,Rn=W}function me(h,g,C){P[h]=function(v,I,T,k,U,N,M,Y,ae,Ae,te,be,ge,J,Z,ve,Ie){var Be,qe=Ie-1>>1,Le=U[N+0]|M[Y+0]<<16,nt=ae[Ae+0]|te[be+0]<<16;e(v!=null);var Me=3*Le+nt+131074>>2;for(g(v[I+0],255&Me,Me>>16,ge,J),T!=null&&(Me=3*nt+Le+131074>>2,g(T[k+0],255&Me,Me>>16,Z,ve)),Be=1;Be<=qe;++Be){var Lt=U[N+Be]|M[Y+Be]<<16,Dt=ae[Ae+Be]|te[be+Be]<<16,Rt=Le+Lt+nt+Dt+524296,Tt=Rt+2*(Lt+nt)>>3;Me=Tt+Le>>1,Le=(Rt=Rt+2*(Le+Dt)>>3)+Lt>>1,g(v[I+2*Be-1],255&Me,Me>>16,ge,J+(2*Be-1)*C),g(v[I+2*Be-0],255&Le,Le>>16,ge,J+(2*Be-0)*C),T!=null&&(Me=Rt+nt>>1,Le=Tt+Dt>>1,g(T[k+2*Be-1],255&Me,Me>>16,Z,ve+(2*Be-1)*C),g(T[k+2*Be+0],255&Le,Le>>16,Z,ve+(2*Be+0)*C)),Le=Lt,nt=Dt}1&Ie||(Me=3*Le+nt+131074>>2,g(v[I+Ie-1],255&Me,Me>>16,ge,J+(Ie-1)*C),T!=null&&(Me=3*nt+Le+131074>>2,g(T[k+Ie-1],255&Me,Me>>16,Z,ve+(Ie-1)*C)))}}function Ee(){_i[Ku]=yF,_i[Gu]=S0,_i[v0]=vF,_i[Vu]=T0,_i[qu]=_0,_i[Kp]=k0,_i[B0]=BF,_i[Gp]=S0,_i[Vp]=T0,_i[$u]=_0,_i[qp]=k0}function Ve(h){return h&-16384?0>h?0:255:h>>bF}function Ze(h,g){return Ve((19077*h>>8)+(26149*g>>8)-14234)}function Ct(h,g,C){return Ve((19077*h>>8)-(6419*g>>8)-(13320*C>>8)+8708)}function gt(h,g){return Ve((19077*h>>8)+(33050*g>>8)-17685)}function Ft(h,g,C,v,I){v[I+0]=Ze(h,C),v[I+1]=Ct(h,g,C),v[I+2]=gt(h,g)}function vn(h,g,C,v,I){v[I+0]=gt(h,g),v[I+1]=Ct(h,g,C),v[I+2]=Ze(h,C)}function En(h,g,C,v,I){var T=Ct(h,g,C);g=T<<3&224|gt(h,g)>>3,v[I+0]=248&Ze(h,C)|T>>5,v[I+1]=g}function Kn(h,g,C,v,I){var T=240&gt(h,g)|15;v[I+0]=240&Ze(h,C)|Ct(h,g,C)>>4,v[I+1]=T}function br(h,g,C,v,I){v[I+0]=255,Ft(h,g,C,v,I+1)}function Zn(h,g,C,v,I){vn(h,g,C,v,I),v[I+3]=255}function Vi(h,g,C,v,I){Ft(h,g,C,v,I),v[I+3]=255}function ai(h,g){return 0>h?0:h>g?g:h}function Bo(h,g,C){P[h]=function(v,I,T,k,U,N,M,Y,ae){for(var Ae=Y+(-2&ae)*C;Y!=Ae;)g(v[I+0],T[k+0],U[N+0],M,Y),g(v[I+1],T[k+0],U[N+0],M,Y+C),I+=2,++k,++N,Y+=2*C;1&ae&&g(v[I+0],T[k+0],U[N+0],M,Y)}}function Pu(h,g,C){return C==0?h==0?g==0?6:5:g==0?4:0:C}function xl(h,g,C,v,I){switch(h>>>30){case 3:Zo(g,C,v,I,0);break;case 2:xn(g,C,v,I);break;case 1:Dr(g,C,v,I)}}function Rl(h,g){var C,v,I=g.M,T=g.Nb,k=h.oc,U=h.pc+40,N=h.oc,M=h.pc+584,Y=h.oc,ae=h.pc+600;for(C=0;16>C;++C)k[U+32*C-1]=129;for(C=0;8>C;++C)N[M+32*C-1]=129,Y[ae+32*C-1]=129;for(0<I?k[U-1-32]=N[M-1-32]=Y[ae-1-32]=129:(i(k,U-32-1,127,21),i(N,M-32-1,127,9),i(Y,ae-32-1,127,9)),v=0;v<h.za;++v){var Ae=g.ya[g.aa+v];if(0<v){for(C=-1;16>C;++C)n(k,U+32*C-4,k,U+32*C+12,4);for(C=-1;8>C;++C)n(N,M+32*C-4,N,M+32*C+4,4),n(Y,ae+32*C-4,Y,ae+32*C+4,4)}var te=h.Gd,be=h.Hd+v,ge=Ae.ad,J=Ae.Hc;if(0<I&&(n(k,U-32,te[be].y,0,16),n(N,M-32,te[be].f,0,8),n(Y,ae-32,te[be].ea,0,8)),Ae.Za){var Z=k,ve=U-32+16;for(0<I&&(v>=h.za-1?i(Z,ve,te[be].y[15],4):n(Z,ve,te[be+1].y,0,4)),C=0;4>C;C++)Z[ve+128+C]=Z[ve+256+C]=Z[ve+384+C]=Z[ve+0+C];for(C=0;16>C;++C,J<<=2)Z=k,ve=U+U0[C],qi[Ae.Ob[C]](Z,ve),xl(J,ge,16*+C,Z,ve)}else if(Z=Pu(v,I,Ae.Ob[0]),Hs[Z](k,U),J!=0)for(C=0;16>C;++C,J<<=2)xl(J,ge,16*+C,k,U+U0[C]);for(C=Ae.Gc,Z=Pu(v,I,Ae.Dd),ts[Z](N,M),ts[Z](Y,ae),J=ge,Z=N,ve=M,255&(Ae=C>>0)&&(170&Ae?Ml(J,256,Z,ve):Ii(J,256,Z,ve)),Ae=Y,J=ae,255&(C>>=8)&&(170&C?Ml(ge,320,Ae,J):Ii(ge,320,Ae,J)),I<h.Ub-1&&(n(te[be].y,0,k,U+480,16),n(te[be].f,0,N,M+224,8),n(te[be].ea,0,Y,ae+224,8)),C=8*T*h.B,te=h.sa,be=h.ta+16*v+16*T*h.R,ge=h.qa,Ae=h.ra+8*v+C,J=h.Ha,Z=h.Ia+8*v+C,C=0;16>C;++C)n(te,be+C*h.R,k,U+32*C,16);for(C=0;8>C;++C)n(ge,Ae+C*h.B,N,M+32*C,8),n(J,Z+C*h.B,Y,ae+32*C,8)}}function WA(h,g,C,v,I,T,k,U,N){var M=[0],Y=[0],ae=0,Ae=N!=null?N.kd:0,te=N??new _l;if(h==null||12>C)return 7;te.data=h,te.w=g,te.ha=C,g=[g],C=[C],te.gb=[te.gb];e:{var be=g,ge=C,J=te.gb;if(e(h!=null),e(ge!=null),e(J!=null),J[0]=0,12<=ge[0]&&!t(h,be[0],"RIFF")){if(t(h,be[0]+8,"WEBP")){J=3;break e}var Z=Oe(h,be[0]+4);if(12>Z||4294967286<Z){J=3;break e}if(Ae&&Z>ge[0]-8){J=7;break e}J[0]=Z,be[0]+=12,ge[0]-=12}J=0}if(J!=0)return J;for(Z=0<te.gb[0],C=C[0];;){e:{var ve=h;ge=g,J=C;var Ie=M,Be=Y,qe=be=[0];if((Me=ae=[ae])[0]=0,8>J[0])J=7;else{if(!t(ve,ge[0],"VP8X")){if(Oe(ve,ge[0]+4)!=10){J=3;break e}if(18>J[0]){J=7;break e}var Le=Oe(ve,ge[0]+8),nt=1+He(ve,ge[0]+12);if(2147483648<=nt*(ve=1+He(ve,ge[0]+15))){J=3;break e}qe!=null&&(qe[0]=Le),Ie!=null&&(Ie[0]=nt),Be!=null&&(Be[0]=ve),ge[0]+=18,J[0]-=18,Me[0]=1}J=0}}if(ae=ae[0],be=be[0],J!=0)return J;if(ge=!!(2&be),!Z&&ae)return 3;if(T!=null&&(T[0]=!!(16&be)),k!=null&&(k[0]=ge),U!=null&&(U[0]=0),k=M[0],be=Y[0],ae&&ge&&N==null){J=0;break}if(4>C){J=7;break}if(Z&&ae||!Z&&!ae&&!t(h,g[0],"ALPH")){C=[C],te.na=[te.na],te.P=[te.P],te.Sa=[te.Sa];e:{Le=h,J=g,Z=C;var Me=te.gb;Ie=te.na,Be=te.P,qe=te.Sa,nt=22,e(Le!=null),e(Z!=null),ve=J[0];var Lt=Z[0];for(e(Ie!=null),e(qe!=null),Ie[0]=null,Be[0]=null,qe[0]=0;;){if(J[0]=ve,Z[0]=Lt,8>Lt){J=7;break e}var Dt=Oe(Le,ve+4);if(4294967286<Dt){J=3;break e}var Rt=8+Dt+1&-2;if(nt+=Rt,0<Me&&nt>Me){J=3;break e}if(!t(Le,ve,"VP8 ")||!t(Le,ve,"VP8L")){J=0;break e}if(Lt[0]<Rt){J=7;break e}t(Le,ve,"ALPH")||(Ie[0]=Le,Be[0]=ve+8,qe[0]=Dt),ve+=Rt,Lt-=Rt}}if(C=C[0],te.na=te.na[0],te.P=te.P[0],te.Sa=te.Sa[0],J!=0)break}C=[C],te.Ja=[te.Ja],te.xa=[te.xa];e:if(Me=h,J=g,Z=C,Ie=te.gb[0],Be=te.Ja,qe=te.xa,Le=J[0],ve=!t(Me,Le,"VP8 "),nt=!t(Me,Le,"VP8L"),e(Me!=null),e(Z!=null),e(Be!=null),e(qe!=null),8>Z[0])J=7;else{if(ve||nt){if(Me=Oe(Me,Le+4),12<=Ie&&Me>Ie-12){J=3;break e}if(Ae&&Me>Z[0]-8){J=7;break e}Be[0]=Me,J[0]+=8,Z[0]-=8,qe[0]=nt}else qe[0]=5<=Z[0]&&Me[Le+0]==47&&!(Me[Le+4]>>5),Be[0]=Z[0];J=0}if(C=C[0],te.Ja=te.Ja[0],te.xa=te.xa[0],g=g[0],J!=0)break;if(4294967286<te.Ja)return 3;if(U==null||ge||(U[0]=te.xa?2:1),k=[k],be=[be],te.xa){if(5>C){J=7;break}U=k,Ae=be,ge=T,h==null||5>C?h=0:5<=C&&h[g+0]==47&&!(h[g+4]>>5)?(Z=[0],Me=[0],Ie=[0],re(Be=new S,h,g,C),it(Be,Z,Me,Ie)?(U!=null&&(U[0]=Z[0]),Ae!=null&&(Ae[0]=Me[0]),ge!=null&&(ge[0]=Ie[0]),h=1):h=0):h=0}else{if(10>C){J=7;break}U=be,h==null||10>C||!Cu(h,g+3,C-3)?h=0:(Ae=h[g+0]|h[g+1]<<8|h[g+2]<<16,ge=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=te.Ja||!ge||!h?h=0:(k&&(k[0]=ge),U&&(U[0]=h),h=1))}if(!h||(k=k[0],be=be[0],ae&&(M[0]!=k||Y[0]!=be)))return 3;N!=null&&(N[0]=te,N.offset=g-N.w,e(4294967286>g-N.w),e(N.offset==N.ha-C));break}return J==0||J==7&&ae&&N==null?(T!=null&&(T[0]|=te.na!=null&&0<te.na.length),v!=null&&(v[0]=k),I!=null&&(I[0]=be),0):J}function Nl(h,g,C){var v=g.width,I=g.height,T=0,k=0,U=v,N=I;if(g.Da=h!=null&&0<h.Da,g.Da&&(U=h.cd,N=h.bd,T=h.v,k=h.j,11>C||(T&=-2,k&=-2),0>T||0>k||0>=U||0>=N||T+U>v||k+N>I))return 0;if(g.v=T,g.j=k,g.va=T+U,g.o=k+N,g.U=U,g.T=N,g.da=h!=null&&0<h.da,g.da){if(!wt(U,N,C=[h.ib],T=[h.hb]))return 0;g.ib=C[0],g.hb=T[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*v/4&&g.hb<3*I/4,g.Kb=0),1}function Pl(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function YA(h,g,C,v){if(v==null||0>=h||0>=g)return 2;if(C!=null){if(C.Da){var I=C.cd,T=C.bd,k=-2&C.v,U=-2&C.j;if(0>k||0>U||0>=I||0>=T||k+I>h||U+T>g)return 2;h=I,g=T}if(C.da){if(!wt(h,g,I=[C.ib],T=[C.hb]))return 2;h=I[0],g=T[0]}}v.width=h,v.height=g;e:{var N=v.width,M=v.height;if(h=v.S,0>=N||0>=M||!(h>=Ku&&13>h))h=2;else{if(0>=v.Rd&&v.sd==null){k=T=I=g=0;var Y=(U=N*x0[h])*M;if(11>h||(T=(M+1)/2*(g=(N+1)/2),h==12&&(k=(I=N)*M)),(M=o(Y+2*T+k))==null){h=1;break e}v.sd=M,11>h?((N=v.f.RGBA).eb=M,N.fb=0,N.A=U,N.size=Y):((N=v.f.kb).y=M,N.O=0,N.fa=U,N.Fd=Y,N.f=M,N.N=0+Y,N.Ab=g,N.Cd=T,N.ea=M,N.W=0+Y+T,N.Db=g,N.Ed=T,h==12&&(N.F=M,N.J=0+Y+2*T),N.Tc=k,N.lb=I)}if(g=1,I=v.S,T=v.width,k=v.height,I>=Ku&&13>I)if(11>I)h=v.f.RGBA,g&=(U=Math.abs(h.A))*(k-1)+T<=h.size,g&=U>=T*x0[I],g&=h.eb!=null;else{h=v.f.kb,U=(T+1)/2,Y=(k+1)/2,N=Math.abs(h.fa),M=Math.abs(h.Ab);var ae=Math.abs(h.Db),Ae=Math.abs(h.lb),te=Ae*(k-1)+T;g&=N*(k-1)+T<=h.Fd,g&=M*(Y-1)+U<=h.Cd,g=(g&=ae*(Y-1)+U<=h.Ed)&N>=T&M>=U&ae>=U,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,I==12&&(g&=Ae>=T,g&=te<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||C!=null&&C.fd&&(h=Pl(v)),h}var ur=64,JA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],XA=24,ZA=32,Ll=8,Wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(h){return h},P.Predictor2=function(h,g,C){return g[C+0]},P.Predictor3=function(h,g,C){return g[C+1]},P.Predictor4=function(h,g,C){return g[C-1]},P.Predictor5=function(h,g,C){return Qe(Qe(h,g[C+1]),g[C+0])},P.Predictor6=function(h,g,C){return Qe(h,g[C-1])},P.Predictor7=function(h,g,C){return Qe(h,g[C+0])},P.Predictor8=function(h,g,C){return Qe(g[C-1],g[C+0])},P.Predictor9=function(h,g,C){return Qe(g[C+0],g[C+1])},P.Predictor10=function(h,g,C){return Qe(Qe(h,g[C-1]),Qe(g[C+0],g[C+1]))},P.Predictor11=function(h,g,C){var v=g[C+0];return 0>=vt(v>>24&255,h>>24&255,(g=g[C-1])>>24&255)+vt(v>>16&255,h>>16&255,g>>16&255)+vt(v>>8&255,h>>8&255,g>>8&255)+vt(255&v,255&h,255&g)?v:h},P.Predictor12=function(h,g,C){var v=g[C+0];return(Xe((h>>24&255)+(v>>24&255)-((g=g[C-1])>>24&255))<<24|Xe((h>>16&255)+(v>>16&255)-(g>>16&255))<<16|Xe((h>>8&255)+(v>>8&255)-(g>>8&255))<<8|Xe((255&h)+(255&v)-(255&g)))>>>0},P.Predictor13=function(h,g,C){var v=g[C-1];return(dt((h=Qe(h,g[C+0]))>>24&255,v>>24&255)<<24|dt(h>>16&255,v>>16&255)<<16|dt(h>>8&255,v>>8&255)<<8|dt(h>>0&255,v>>0&255))>>>0};var Hp=P.PredictorAdd0;P.PredictorAdd1=It,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Ol=P.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Lu,bi=P.ColorIndexInverseTransform,ec=P.MapARGB,Ou=P.VP8LColorIndexInverseTransformAlpha,Mu=P.MapAlpha,Ls=P.VP8LPredictorsAdd=[];Ls.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ma,Yr,Hr,Os,Jo,Xo,tc,Zo,xn,Ml,Dr,Ii,nc,Qu,Ql,Qa,Ha,Ms,Da,rc,Ka,Qs,Hl,Ei,Si,on,sn,Rn,jn=o(511),es=o(2041),Dl=o(225),ic=o(767),Hu=0,Dp=es,Du=Dl,Ai=ic,Ti=jn,Ku=0,Gu=1,v0=2,Vu=3,qu=4,Kp=5,B0=6,Gp=7,Vp=8,$u=9,qp=10,sF=[2,3,7],aF=[3,3,11],b0=[280,256,256,256,40],AF=[0,1,1,1,0],cF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uF=8,$p=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kl=null,dF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],I0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hs=[],qi=[],ts=[],CF=1,E0=2,Ds=[],_i=[];me("UpsampleRgbLinePair",Ft,3),me("UpsampleBgrLinePair",vn,3),me("UpsampleRgbaLinePair",Vi,4),me("UpsampleBgraLinePair",Zn,4),me("UpsampleArgbLinePair",br,4),me("UpsampleRgba4444LinePair",Kn,2),me("UpsampleRgb565LinePair",En,2);var yF=P.UpsampleRgbLinePair,vF=P.UpsampleBgrLinePair,S0=P.UpsampleRgbaLinePair,T0=P.UpsampleBgraLinePair,_0=P.UpsampleArgbLinePair,k0=P.UpsampleRgba4444LinePair,BF=P.UpsampleRgb565LinePair,ju=16,zu=1<<ju-1,Gl=-227,zp=482,bF=6,F0=0,IF=o(256),EF=o(256),SF=o(256),TF=o(256),_F=o(zp-Gl),kF=o(zp-Gl);Bo("YuvToRgbRow",Ft,3),Bo("YuvToBgrRow",vn,3),Bo("YuvToRgbaRow",Vi,4),Bo("YuvToBgraRow",Zn,4),Bo("YuvToArgbRow",br,4),Bo("YuvToRgba4444Row",Kn,2),Bo("YuvToRgb565Row",En,2);var U0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wu=[0,2,8],FF=[8,7,6,4,4,2,2,2,1,1,1,1],UF=1;this.WebPDecodeRGBA=function(h,g,C,v,I){var T=Gu,k=new jA,U=new Oi;k.ba=U,U.S=T,U.width=[U.width],U.height=[U.height];var N=U.width,M=U.height,Y=new jo;if(Y==null||h==null)var ae=2;else e(Y!=null),ae=WA(h,g,C,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(ae!=0?N=0:(N!=null&&(N[0]=Y.width[0]),M!=null&&(M[0]=Y.height[0]),N=1),N){U.width=U.width[0],U.height=U.height[0],v!=null&&(v[0]=U.width),I!=null&&(I[0]=U.height);e:{if(v=new HA,(I=new _l).data=h,I.w=g,I.ha=C,I.kd=1,g=[0],e(I!=null),((h=WA(I.data,I.w,I.ha,null,null,null,g,null,I))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(e(k!=null),v.data=I.data,v.w=I.w+I.offset,v.ha=I.ha-I.offset,v.put=go,v.ac=hr,v.bc=po,v.ma=k,I.xa){if((h=Bi())==null){k=1;break e}if(function(Ae,te){var be=[0],ge=[0],J=[0];t:for(;;){if(Ae==null)return 0;if(te==null)return Ae.a=2,0;if(Ae.l=te,Ae.a=0,re(Ae.m,te.data,te.w,te.ha),!it(Ae.m,be,ge,J)){Ae.a=3;break t}if(Ae.xb=E0,te.width=be[0],te.height=ge[0],!Co(be[0],ge[0],1,Ae,null))break t;return 1}return e(Ae.a!=0),0}(h,v)){if(v=(g=YA(v.width,v.height,k.Oa,k.ba))==0){t:{v=h;n:for(;;){if(v==null){v=0;break t}if(e(v.s.yc!=null),e(v.s.Ya!=null),e(0<v.s.Wb),e((C=v.l)!=null),e((I=C.ma)!=null),v.xb!=0){if(v.ca=I.ba,v.tb=I.tb,e(v.ca!=null),!Nl(I.Oa,C,Vu)){v.a=2;break n}if(!Ra(v,C.width)||C.da)break n;if((C.da||Mt(v.ca.S))&&oe(),11>v.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),v.ca.f.kb.F!=null&&oe()),v.Pb&&0<v.s.ua&&v.s.vb.X==null&&!st(v.s.vb,v.s.Wa.Xa)){v.a=1;break n}v.xb=0}if(!Di(v,v.V,v.Ba,v.c,v.i,C.o,NA))break n;I.Dc=v.Ma,v=1;break t}e(v.a!=0),v=0}v=!v}v&&(g=h.a)}else g=h.a}else{if((h=new vp)==null){k=1;break e}if(h.Fa=I.na,h.P=I.P,h.qc=I.Sa,yu(h,v)){if((g=YA(v.width,v.height,k.Oa,k.ba))==0){if(h.Aa=0,C=k.Oa,e((I=h)!=null),C!=null){if(0<(N=0>(N=C.Md)?0:100<N?255:255*N/100)){for(M=Y=0;4>M;++M)12>(ae=I.pb[M]).lc&&(ae.ia=N*FF[0>ae.lc?0:ae.lc]>>3),Y|=ae.ia;Y&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=C.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}Bp(h,v)||(g=h.a)}}else g=h.a}g==0&&k.Oa!=null&&k.Oa.fd&&(g=Pl(k.ba))}k=g}T=k!=0?null:11>T?U.f.RGBA.eb:U.f.kb.y}else T=null;return T};var x0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,q){for(var ee="",F=0;F<4;F++)ee+=String.fromCharCode(P[q++]);return ee}function l(P,q){return(P[q+0]<<0|P[q+1]<<8|P[q+2]<<16)>>>0}function u(P,q){return(P[q+0]<<0|P[q+1]<<8|P[q+2]<<16|P[q+3]<<24)>>>0}new A;var d=[0],f=[0],m=[],w=new A,B=r,y=function(P,q){var ee={},F=0,R=!1,$=0,V=0;if(ee.frames=[],!function(Q,G,z,X){for(var ce=0;ce<X;ce++)if(Q[G+ce]!=z.charCodeAt(ce))return!0;return!1}(P,q,"RIFF",4)){var ie,ne;for(u(P,q+=4),q+=8;q<P.length;){var se=c(P,q),re=u(P,q+=4);q+=4;var ue=re+(1&re);switch(se){case"VP8 ":case"VP8L":ee.frames[F]===void 0&&(ee.frames[F]={}),(S=ee.frames[F]).src_off=R?V:q-8,S.src_size=$+re+8,F++,R&&(R=!1,$=0,V=0);break;case"VP8X":(S=ee.header={}).feature_flags=P[q];var pe=q+4;S.canvas_width=1+l(P,pe),pe+=3,S.canvas_height=1+l(P,pe),pe+=3;break;case"ALPH":R=!0,$=ue+8,V=q-8;break;case"ANIM":(S=ee.header).bgcolor=u(P,q),pe=q+4,S.loop_count=(ie=P)[(ne=pe)+0]<<0|ie[ne+1]<<8,pe+=2;break;case"ANMF":var Ue,S;(S=ee.frames[F]={}).offset_x=2*l(P,q),q+=3,S.offset_y=2*l(P,q),q+=3,S.width=1+l(P,q),q+=3,S.height=1+l(P,q),q+=3,S.duration=l(P,q),q+=3,Ue=P[q++],S.dispose=1&Ue,S.blend=Ue>>1&1}se!="ANMF"&&(q+=ue)}return ee}}(B,0);y.response=B,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,x=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],f=[b.canvas_width];for(var O=0;O<x.length&&x[O].blend!=0;O++);}var L=x[0],K=w.WebPDecodeRGBA(B,L.src_off,L.src_size,f,d);L.rgba=K,L.imgwidth=f[0],L.imgheight=d[0];for(var H=0;H<f[0]*d[0]*4;H++)m[H]=K[H];return this.width=f,this.height=d,this.data=m,this}(function(r){var e=function(){return typeof lC=="function"},t=function(d,f,m,w){var B=4,y=s;switch(w){case r.image_compression.FAST:B=1,y=o;break;case r.image_compression.MEDIUM:B=6,y=a;break;case r.image_compression.SLOW:B=9,y=A}d=n(d,f,m,y);var b=lC(d,{level:B});return r.__addimage__.arrayBufferToBinaryString(b)},n=function(d,f,m,w){for(var B,y,b,x=d.length/f,O=new Uint8Array(d.length+x),L=l(),K=0;K<x;K+=1){if(b=K*f,B=d.subarray(b,b+f),w)O.set(w(B,m,y),b+K);else{for(var H,P=L.length,q=[];H<P;H+=1)q[H]=L[H](B,m,y);var ee=u(q.concat());O.set(q[ee],b+K)}y=B}return O},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},o=function(d,f){var m,w=[],B=d.length;w[0]=1;for(var y=0;y<B;y+=1)m=d[y-f]||0,w[y+1]=d[y]-m+256&255;return w},s=function(d,f,m){var w,B=[],y=d.length;B[0]=2;for(var b=0;b<y;b+=1)w=m&&m[b]||0,B[b+1]=d[b]-w+256&255;return B},a=function(d,f,m){var w,B,y=[],b=d.length;y[0]=3;for(var x=0;x<b;x+=1)w=d[x-f]||0,B=m&&m[x]||0,y[x+1]=d[x]+256-(w+B>>>1)&255;return y},A=function(d,f,m){var w,B,y,b,x=[],O=d.length;x[0]=4;for(var L=0;L<O;L+=1)w=d[L-f]||0,B=m&&m[L]||0,y=m&&m[L-f]||0,b=c(w,B,y),x[L+1]=d[L]-b+256&255;return x},c=function(d,f,m){if(d===f&&f===m)return d;var w=Math.abs(f-m),B=Math.abs(d-m),y=Math.abs(d+f-m-m);return w<=B&&w<=y?d:B<=y?f:m},l=function(){return[i,o,s,a,A]},u=function(d){var f=d.map(function(m){return m.reduce(function(w,B){return w+Math.abs(B)},0)});return f.indexOf(Math.min.apply(null,f))};r.processPNG=function(d,f,m,w){var B,y,b,x,O,L,K,H,P,q,ee,F,R,$,V,ie=this.decode.FLATE_DECODE,ne="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(b=new HQ(d)).imgData,y=b.bits,B=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){P=(H=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,ee=new Uint8Array(P*b.colors),q=new Uint8Array(P);var se,re=b.pixelBitlength-b.bits;for($=0,V=0;$<P;$++){for(R=H[$],se=0;se<re;)ee[V++]=R>>>se&255,se+=b.bits;q[$]=R>>>se&255}}if(b.bits===16){P=(H=new Uint32Array(b.decodePixels().buffer)).length,ee=new Uint8Array(P*(32/b.pixelBitlength)*b.colors),q=new Uint8Array(P*(32/b.pixelBitlength)),F=b.colors>1,$=0,V=0;for(var ue=0;$<P;)R=H[$++],ee[V++]=R>>>0&255,F&&(ee[V++]=R>>>16&255,R=H[$++],ee[V++]=R>>>0&255),q[ue++]=R>>>16&255;y=8}w!==r.image_compression.NONE&&e()?(d=t(ee,b.width*b.colors,b.colors,w),K=t(q,b.width,1,w)):(d=ee,K=q,ie=void 0)}if(b.colorType===3&&(B=this.color_spaces.INDEXED,L=b.palette,b.transparency.indexed)){var pe=b.transparency.indexed,Ue=0;for($=0,P=pe.length;$<P;++$)Ue+=pe[$];if((Ue/=255)===P-1&&pe.indexOf(0)!==-1)x=[pe.indexOf(0)];else if(Ue!==P){for(H=b.decodePixels(),q=new Uint8Array(H.length),$=0,P=H.length;$<P;$++)q[$]=pe[H[$]];K=t(q,b.width,1)}}var S=function(Q){var G;switch(Q){case r.image_compression.FAST:G=11;break;case r.image_compression.MEDIUM:G=13;break;case r.image_compression.SLOW:G=14;break;default:G=12}return G}(w);return ie===this.decode.FLATE_DECODE&&(ne="/Predictor "+S+" "),ne+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:m,data:d,index:f,filter:ie,decodeParameters:ne,transparency:x,palette:L,sMask:K,predictor:S,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:B}}}})(ot.API),function(r){r.processGIF89A=function(e,t,n,i){var o=new DQ(e),s=o.width,a=o.height,A=[];o.decodeAndBlitFrameRGBA(0,A);var c={data:A,width:s,height:a},l=new Mm(100).encode(c,100);return r.processJPEG.call(this,l,t,n,i)},r.processGIF87A=r.processGIF89A}(ot.API),zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zi.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){tn.log("bit decode error:"+t)}},zi.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var A=this.palette[o>>7-a&1];this.data[s+4*a]=A.blue,this.data[s+4*a+1]=A.green,this.data[s+4*a+2]=A.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},zi.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,a=o>>4,A=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[A],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},zi.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},zi.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,A=(o>>10&e)/e*255|0,c=o>>15?255:0,l=n*this.width*4+4*i;this.data[l]=A,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=c}this.pos+=r}},zi.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,A=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,l=i*this.width*4+4*o;this.data[l]=c,this.data[l+1]=A,this.data[l+2]=a,this.data[l+3]=255}this.pos+=r}},zi.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},zi.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=s}},zi.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var o=new zi(e,!1),s=o.width,a=o.height,A={data:o.getData(),width:s,height:a},c=new Mm(100).encode(A,100);return r.processJPEG.call(this,c,t,n,i)}}(ot.API),B1.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var o=new B1(e),s=o.width,a=o.height,A={data:o.getData(),width:s,height:a},c=new Mm(100).encode(A,100);return r.processJPEG.call(this,c,t,n,i)}}(ot.API),ot.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,A=0,c=0;c<i;c+=4){var l=n[c],u=n[c+1],d=n[c+2],f=n[c+3];o[a++]=l,o[a++]=u,o[a++]=d,s[A++]=f}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ot.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dc=ot.API,Ud=dc.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,A=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,l=c.fof?c.fof:1,u=e.doKerning!==!1,d=0,f=r.length,m=0,w=a[0]||A,B=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?B.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/o)||0)/1e3):(d=u&&$t(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/l:0,B.push((a[n]||w)/A+d)),m=n;return B},w1=dc.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return dc.processArabic&&(r=dc.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Ud.apply(this,arguments).reduce(function(o,s){return o+s},0)},C1=function(r,e,t,n){for(var i=[],o=0,s=r.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(r.slice(0,o));var A=o;for(a=0;o!==s;)a+e[o]>n&&(i.push(r.slice(A,o)),a=0,A=o),a+=e[o],o++;return A!==o&&i.push(r.slice(A,o)),i},y1=function(r,e,t){t||(t={});var n,i,o,s,a,A,c,l=[],u=[l],d=t.textIndent||0,f=0,m=0,w=r.split(" "),B=Ud.apply(this,[" ",t])[0];if(A=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var y=Array(A).join(" "),b=[];w.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(L,K){return(K&&L.length?`
`:"")+L})):b.push(O[0])}),w=b,A=w1.apply(this,[y,t])}for(o=0,s=w.length;o<s;o++){var x=0;if(n=w[o],A&&n[0]==`
`&&(n=n.substr(1),x=1),d+f+(m=(i=Ud.apply(this,[n,t])).reduce(function(O,L){return O+L},0))>e||x){if(m>e){for(a=C1.apply(this,[n,i,e-(d+f),e]),l.push(a.shift()),l=[a.pop()];a.length;)u.push([a.shift()]);m=i.slice(n.length-(l[0]?l[0].length:0)).reduce(function(O,L){return O+L},0)}else l=[n];u.push(l),d=m+A,f=B}else l.push(n),d+=f+m,f=B}return c=A?function(O,L){return(L?y:"")+O.join(" ")}:function(O){return O.join(" ")},u.map(c)},dc.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var u=this.internal.getFont(l.fontName,l.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,A,c=[];for(a=0,A=n.length;a<A;a++)c=c.concat(y1.apply(this,[n[a],s,o]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var o=function(u){return"0x"+parseInt(u,10).toString(16)},s=r.__fontmetrics__.compress=function(u){var d,f,m,w,B=["{"];for(var y in u){if(d=u[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=o(y).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof d=="number")d<0?(m=o(d).slice(3),w="-"):(m=o(d).slice(2),w=""),m=w+m.slice(0,-1)+n[m.slice(-1)];else{if($t(d)!=="object")throw new Error("Don't know what to do with value type "+$t(d)+".");m=s(d)}B.push(f+m)}return B.push("}"),B.join("")},a=r.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,f,m,w,B={},y=1,b=B,x=[],O="",L="",K=u.length-1,H=1;H<K;H+=1)(w=u[H])=="'"?d?(m=d.join(""),d=void 0):d=[]:d?d.push(w):w=="{"?(x.push([b,m]),b={},m=void 0):w=="}"?((f=x.pop())[0][f[1]]=b,m=void 0,b=f[0]):w=="-"?y=-1:m===void 0?t.hasOwnProperty(w)?(O+=t[w],m=parseInt(O,16)*y,y=1,O=""):O+=w:t.hasOwnProperty(w)?(L+=t[w],b[m]=parseInt(L,16)*y,y=1,m=void 0,L=""):L+=w;return B},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},l={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(u){var d=u.font,f=l.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[d.postScriptName];m&&(d.metadata.Unicode.encoding=m,d.encoding=m.codePages[0])}])}(ot.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=t.charCodeAt(o);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(kh(a)),s.metadata=r.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(ot),function(r){function e(){return(ct.canvg?Promise.resolve(ct.canvg):Mw(()=>import("./index.es-BS4VDjhK.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ot.API.addSvgAsImage=function(t,n,i,o,s,a,A,c){if(isNaN(n)||isNaN(i))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=o,l.height=s;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),n,i,o,s,A,c)})}}(),ot.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},ot.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),A=[],c=0,l=0,u=0;function d(m,w){var B,y=!1;for(B=0;B<m.length;B+=1)m[B]===w&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=a.length;for(u=0;u<f;u+=1)t[a[u]].value=t[a[u]].defaultValue,t[a[u]].explicitSet=!1}if($t(r)==="object"){for(i in r)if(o=r[i],d(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&d(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(n=!0,o[c].length===1&&typeof o[c][0]=="number")A.push(String(o[c]-1));else if(o[c].length>1){for(l=0;l<o[c].length;l+=1)typeof o[c][l]!="number"&&(n=!1);n===!0&&A.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+A.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,w=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?w.push("/"+m+" /"+t[m].value):w.push("/"+m+" "+t[m].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+A),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(r){var e=r.API,t=e.pdfEscape16=function(o,s){for(var a,A=s.metadata.Unicode.widths,c=["","0","00","000","0000"],l=[""],u=0,d=o.length;u<d;++u){if(a=s.metadata.characterToGlyph(o.charCodeAt(u)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(u),A.indexOf(a)==-1&&(A.push(a),A.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return l.join("");a=a.toString(16),l.push(c[4-a.length],a)}return l.join("")},n=function(o){var s,a,A,c,l,u,d;for(l=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,d=(a=Object.keys(o).sort(function(f,m){return f-m})).length;u<d;u++)s=a[u],A.length>=100&&(l+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),A.push("<"+s+"><"+c+">"));return A.length&&(l+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),l+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,A=s.out,c=s.newObject,l=s.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="Identity-H"){for(var u=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<d.length;m++)f+=String.fromCharCode(d[m]);var w=c();l({data:f,addLength1:!0,objectId:w}),A("endobj");var B=c();l({data:n(a.metadata.toUnicode),addLength1:!0,objectId:B}),A("endobj");var y=c();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+_c(a.fontName)),A("/FontFile2 "+w+" 0 R"),A("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),A("/Flags "+a.metadata.flags),A("/StemV "+a.metadata.stemV),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A(">>"),A("endobj");var b=c();A("<<"),A("/Type /Font"),A("/BaseFont /"+_c(a.fontName)),A("/FontDescriptor "+y+" 0 R"),A("/W "+r.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+a.encoding+")"),A(">>"),A(">>"),A("endobj"),a.objectNumber=c(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+B+" 0 R"),A("/BaseFont /"+_c(a.fontName)),A("/Encoding /"+a.encoding),A("/DescendantFonts ["+b+" 0 R]"),A(">>"),A("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,A=s.out,c=s.newObject,l=s.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var u=a.metadata.rawData,d="",f=0;f<u.length;f++)d+=String.fromCharCode(u[f]);var m=c();l({data:d,addLength1:!0,objectId:m}),A("endobj");var w=c();l({data:n(a.metadata.toUnicode),addLength1:!0,objectId:w}),A("endobj");var B=c();A("<<"),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A("/StemV "+a.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+m+" 0 R"),A("/Flags 96"),A("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),A("/FontName /"+_c(a.fontName)),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A(">>"),A("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+_c(a.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),A("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",A=o.x,c=o.y,l=o.options||{},u=o.mutex||{},d=u.pdfEscape,f=u.activeFontKey,m=u.fonts,w=f,B="",y=0,b="",x=m[w].encoding;if(m[w].encoding!=="Identity-H")return{text:a,x:A,y:c,options:l,mutex:u};for(b=a,w=f,Array.isArray(a)&&(b=a[0]),y=0;y<b.length;y+=1)m[w].metadata.hasOwnProperty("cmap")&&(s=m[w].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&m[w].metadata.hasOwnProperty("Unicode")?B+=b[y]:B+="";var O="";return parseInt(w.slice(1))<14||x==="WinAnsiEncoding"?O=d(B,w).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(O=t(B,m[w])),u.isHex=!0,{text:O,x:A,y:c,options:l,mutex:u}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],A={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},A,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},A,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},A,{text:s})).text}])}(ot),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ot.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,o,s,a,A,c,l,u=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,x=0;this.__bidiEngine__={};var O=function(F){var R=F.charCodeAt(),$=R>>8,V=w[$];return V!==void 0?u[256*V+(255&R)]:$===252||$===253?"AL":y.test($)?"L":$===8?"R":"N"},L=function(F){for(var R,$=0;$<F.length;$++){if((R=O(F.charAt($)))==="L")return!1;if(R==="R")return!0}return!1},K=function(F,R,$,V){var ie,ne,se,re,ue=R[V];switch(ue){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ue="AN");break;case"AL":b=!0,ue="R";break;case"WS":ue="N";break;case"CS":V<1||V+1>=R.length||(ie=$[V-1])!=="EN"&&ie!=="AN"||(ne=R[V+1])!=="EN"&&ne!=="AN"?ue="N":b&&(ne="AN"),ue=ne===ie?ne:"N";break;case"ES":ue=(ie=V>0?$[V-1]:"B")==="EN"&&V+1<R.length&&R[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&$[V-1]==="EN"){ue="EN";break}if(b){ue="N";break}for(se=V+1,re=R.length;se<re&&R[se]==="ET";)se++;ue=se<re&&R[se]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(re=R.length,se=V+1;se<re&&R[se]==="NSM";)se++;if(se<re){var pe=F[V],Ue=pe>=1425&&pe<=2303||pe===64286;if(ie=R[se],Ue&&(ie==="R"||ie==="AL")){ue="R";break}}}ue=V<1||(ie=R[V-1])==="B"?"N":$[V-1];break;case"B":b=!1,i=!0,ue=x;break;case"S":o=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ue="N"}return ue},H=function(F,R,$){var V=F.split("");return $&&P(V,$,{hiLevel:x}),V.reverse(),R&&R.reverse(),V.join("")},P=function(F,R,$){var V,ie,ne,se,re,ue=-1,pe=F.length,Ue=0,S=[],Q=x?f:d,G=[];for(b=!1,i=!1,o=!1,ie=0;ie<pe;ie++)G[ie]=O(F[ie]);for(ne=0;ne<pe;ne++){if(re=Ue,S[ne]=K(F,G,S,ne),V=240&(Ue=Q[re][m[S[ne]]]),Ue&=15,R[ne]=se=Q[Ue][5],V>0)if(V===16){for(ie=ue;ie<ne;ie++)R[ie]=1;ue=-1}else ue=-1;if(Q[Ue][6])ue===-1&&(ue=ne);else if(ue>-1){for(ie=ue;ie<ne;ie++)R[ie]=se;ue=-1}G[ne]==="B"&&(R[ne]=0),$.hiLevel|=se}o&&function(z,X,ce){for(var de=0;de<ce;de++)if(z[de]==="S"){X[de]=x;for(var fe=de-1;fe>=0&&z[fe]==="WS";fe--)X[fe]=x}}(G,R,pe)},q=function(F,R,$,V,ie){if(!(ie.hiLevel<F)){if(F===1&&x===1&&!i)return R.reverse(),void($&&$.reverse());for(var ne,se,re,ue,pe=R.length,Ue=0;Ue<pe;){if(V[Ue]>=F){for(re=Ue+1;re<pe&&V[re]>=F;)re++;for(ue=Ue,se=re-1;ue<se;ue++,se--)ne=R[ue],R[ue]=R[se],R[se]=ne,$&&(ne=$[ue],$[ue]=$[se],$[se]=ne);Ue=re}Ue++}}},ee=function(F,R,$){var V=F.split(""),ie={hiLevel:x};return $||($=[]),P(V,$,ie),function(ne,se,re){if(re.hiLevel!==0&&l)for(var ue,pe=0;pe<ne.length;pe++)se[pe]===1&&(ue=B.indexOf(ne[pe]))>=0&&(ne[pe]=B[ue+1])}(V,$,ie),q(2,V,R,$,ie),q(1,V,R,$,ie),V.join("")};return this.__bidiEngine__.doBidiReorder=function(F,R,$){if(function(ie,ne){if(ne)for(var se=0;se<ie.length;se++)ne[se]=se;a===void 0&&(a=L(ie)),c===void 0&&(c=L(ie))}(F,R),s||!A||c)if(s&&A&&a^c)x=a?1:0,F=H(F,R,$);else if(!s&&A&&c)x=a?1:0,F=ee(F,R,$),F=H(F,R);else if(!s||a||A||c){if(s&&!A&&a^c)F=H(F,R),a?(x=0,F=ee(F,R,$)):(x=1,F=ee(F,R,$),F=H(F,R));else if(s&&a&&!A&&c)x=1,F=ee(F,R,$),F=H(F,R);else if(!s&&!A&&a^c){var V=l;a?(x=1,F=ee(F,R,$),x=0,l=!1,F=ee(F,R,$),l=V):(x=0,F=ee(F,R,$),F=H(F,R),x=1,l=!1,F=ee(F,R,$),l=V,F=H(F,R))}}else x=0,F=ee(F,R,$);else x=a?1:0,F=ee(F,R,$);return F},this.__bidiEngine__.setOptions=function(F){F&&(s=F.isInputVisual,A=F.isOutputVisual,a=F.isInputRtl,c=F.isOutputRtl,l=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text,o=(n.x,n.y,n.options||{}),s=(n.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);n.text=s}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ba(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nH(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new KQ(this.contents),this.head=new VQ(this),this.name=new WQ(this),this.cmap=new VT(this),this.toUnicode={},this.hhea=new qQ(this),this.maxp=new YQ(this),this.hmtx=new JQ(this),this.post=new jQ(this),this.os2=new $Q(this),this.loca=new tH(this),this.glyf=new XQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,A,c;for(c=[],s=0,a=(A=this.bbox).length;s<a;s++)e=A[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return s*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var lo,Ba=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,o,s,a,A;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^A)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*o+65536*s+256*a+A},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(this.writeByte(t));return o},r}(),KQ=function(){var r;function e(t){var n,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,o,s,a,A,c,l,u,d,f,m,w;for(w in f=Object.keys(t).length,A=Math.log(2),u=16*Math.floor(Math.log(f)/A),s=Math.floor(u/A),l=16*f-u,(i=new Ba).writeInt(this.scalarType),i.writeShort(f),i.writeShort(u),i.writeShort(s),i.writeShort(l),o=16*f,c=i.pos+o,a=null,m=[],t)for(d=t[w],i.writeString(w),i.writeInt(r(d)),i.writeInt(c),i.writeInt(d.length),m=m.concat(d),w==="head"&&(a=c),c+=d.length;c%4;)m.push(0),c++;return i.write(m),n=2981146554-r(i.data),i.pos=a+8,i.writeUInt32(n),i.data},r=function(t){var n,i,o,s;for(t=qT.call(t);t.length%4;)t.push(0);for(o=new Ba(t),i=0,n=0,s=t.length;n<s;n=n+=4)i+=o.readUInt32();return 4294967295&i},e}(),GQ={}.hasOwnProperty,Vo=function(r,e){for(var t in e)GQ.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};lo=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var VQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Ba).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),b1=function(){function r(e,t){var n,i,o,s,a,A,c,l,u,d,f,m,w,B,y,b,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,o=function(){var O,L;for(L=[],A=O=0;0<=d?O<d:O>d;A=0<=d?++O:--O)L.push(e.readUInt16());return L}(),e.pos+=2,w=function(){var O,L;for(L=[],A=O=0;0<=d?O<d:O>d;A=0<=d?++O:--O)L.push(e.readUInt16());return L}(),c=function(){var O,L;for(L=[],A=O=0;0<=d?O<d:O>d;A=0<=d?++O:--O)L.push(e.readUInt16());return L}(),l=function(){var O,L;for(L=[],A=O=0;0<=d?O<d:O>d;A=0<=d?++O:--O)L.push(e.readUInt16());return L}(),i=(this.length-e.pos+this.offset)/2,a=function(){var O,L;for(L=[],A=O=0;0<=i?O<i:O>i;A=0<=i?++O:--O)L.push(e.readUInt16());return L}(),A=y=0,x=o.length;y<x;A=++y)for(B=o[A],n=b=m=w[A];m<=B?b<=B:b>=B;n=m<=B?++b:--b)l[A]===0?s=n+c[A]:(s=a[l[A]/2+(n-m)-(d-A)]||0)!==0&&(s+=c[A]),this.codeMap[n]=65535&s}e.pos=u}return r.encode=function(e,t){var n,i,o,s,a,A,c,l,u,d,f,m,w,B,y,b,x,O,L,K,H,P,q,ee,F,R,$,V,ie,ne,se,re,ue,pe,Ue,S,Q,G,z,X,ce,de,fe,Fe,ke,He;switch(V=new Ba,s=Object.keys(e).sort(function(Oe,st){return Oe-st}),t){case"macroman":for(w=0,B=function(){var Oe=[];for(m=0;m<256;++m)Oe.push(0);return Oe}(),b={0:0},o={},ie=0,ue=s.length;ie<ue;ie++)b[fe=e[i=s[ie]]]==null&&(b[fe]=++w),o[i]={old:e[i],new:b[e[i]]},B[i]=b[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(B),{charMap:o,subtable:V.data,maxGlyphID:w+1};case"unicode":for(R=[],u=[],x=0,b={},n={},y=c=null,ne=0,pe=s.length;ne<pe;ne++)b[L=e[i=s[ne]]]==null&&(b[L]=++x),n[i]={old:L,new:b[L]},a=b[L]-i,y!=null&&a===c||(y&&u.push(y),R.push(i),c=a),y=i;for(y&&u.push(y),u.push(65535),R.push(65535),ee=2*(q=R.length),P=2*Math.pow(Math.log(q)/Math.LN2,2),d=Math.log(P/2)/Math.LN2,H=2*q-P,A=[],K=[],f=[],m=se=0,Ue=R.length;se<Ue;m=++se){if(F=R[m],l=u[m],F===65535){A.push(0),K.push(0);break}if(F-($=n[F].new)>=32768)for(A.push(0),K.push(2*(f.length+q-m)),i=re=F;F<=l?re<=l:re>=l;i=F<=l?++re:--re)f.push(n[i].new);else A.push($-F),K.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*q+2*f.length),V.writeUInt16(0),V.writeUInt16(ee),V.writeUInt16(P),V.writeUInt16(d),V.writeUInt16(H),ce=0,S=u.length;ce<S;ce++)i=u[ce],V.writeUInt16(i);for(V.writeUInt16(0),de=0,Q=R.length;de<Q;de++)i=R[de],V.writeUInt16(i);for(Fe=0,G=A.length;Fe<G;Fe++)a=A[Fe],V.writeUInt16(a);for(ke=0,z=K.length;ke<z;ke++)O=K[ke],V.writeUInt16(O);for(He=0,X=f.length;He<X;He++)w=f[He],V.writeUInt16(w);return{charMap:n,subtable:V.data,maxGlyphID:x+1}}},r}(),VT=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)n=new b1(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,o;return n==null&&(n="macroman"),i=b1.encode(t,n),(o=new Ba).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),qQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),$Q=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),jQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)n=t.readByte(),o.push(this.names.push(t.readString(n)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,A,c;for(c=[],s=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;s=0<=A?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),zQ=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},WQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,o,s,a,A,c,l,u,d,f;for(t.pos=this.offset,t.readShort(),n=t.readShort(),A=t.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+A+t.readShort()});for(c={},s=u=0,d=i.length;u<d;s=++u)o=i[s],t.pos=o.offset,l=t.readString(o.length),a=new zQ(l,o),c[f=o.nameID]==null&&(c[f]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),YQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),JQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,o,s,a,A,c;for(t.pos=this.offset,this.metrics=[],n=0,A=this.file.hhea.numberOfMetrics;0<=A?n<A:n>A;n=0<=A?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,u;for(u=[],n=l=0;0<=o?l<o:l>o;n=0<=o?++l:--l)u.push(t.readInt16());return u}(),this.widths=(function(){var l,u,d,f;for(f=[],l=0,u=(d=this.metrics).length;l<u;l++)s=d[l],f.push(s.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],n=a=0;0<=o?a<o:a>o;n=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),qT=[].slice,XQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,o,s,a,A,c,l,u,d;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,a=(A=new Ba(n.read(o))).readShort(),l=A.readShort(),d=A.readShort(),c=A.readShort(),u=A.readShort(),this.cache[t]=a===-1?new eH(A,l,d,c,u):new ZQ(A,a,l,d,c,u),this.cache[t]))},e.prototype.encode=function(t,n,i){var o,s,a,A,c;for(a=[],s=[],A=0,c=n.length;A<c;A++)o=t[n[A]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),ZQ=function(){function r(e,t,n,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),eH=function(){function r(e,t,n,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Ba(qT.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),tH=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Vo(e,lo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<n.length&&n[s]==a){++s,i[a]=o;var A=this.offsets[a],c=this.offsets[a+1]-A;c>0&&(o+=c)}for(var l=new Array(4*i.length),u=0;u<i.length;++u)l[4*u+3]=255&i[u],l[4*u+2]=(65280&i[u])>>8,l[4*u+1]=(16711680&i[u])>>16,l[4*u]=(4278190080&i[u])>>24;return l},e}(),nH=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,o,s,a,A;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(n=i[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in A=this.glyphsFor(t))n=A[o],i[o]=n;return i},r.prototype.encode=function(e,t){var n,i,o,s,a,A,c,l,u,d,f,m,w,B,y;for(i in n=VT.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},y=n.charMap)f[(A=y[i]).old]=A.new;for(m in d=n.maxGlyphID,s)m in f||(f[m]=d++);return l=function(b){var x,O;for(x in O={},b)O[b[x]]=x;return O}(f),u=Object.keys(l).sort(function(b,x){return b-x}),w=function(){var b,x,O;for(O=[],b=0,x=u.length;b<x;b++)a=u[b],O.push(l[a]);return O}(),o=this.font.glyf.encode(s,w,f),c=this.font.loca.encode(o.offsets,w),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},r}();ot.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,o,s;if(Array.isArray(t))return"["+function(){var a,A,c;for(c=[],a=0,A=t.length;a<A;a++)n=t[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mC=function(r,e){return mC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},mC(r,e)};function ho(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mC(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wC=function(){return wC=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},wC.apply(this,arguments)};function Gr(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(u){s(u)}}function A(l){try{c(n.throw(l))}catch(u){s(u)}}function c(l){l.done?o(l.value):i(l.value).then(a,A)}c((n=n.apply(r,[])).next())})}function _r(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return A([c,l])}}function A(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function xd(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||e)}var _s=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),Kg=function(r,e){return _s.fromClientRect(r,e.getBoundingClientRect())},rH=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new _s(0,0,n,i)},Gg=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Pn=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,o="";++i<t;){var s=r[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},I1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rd=0;Rd<I1.length;Rd++)iH[I1.charCodeAt(Rd)]=Rd;var E1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nd=0;Nd<E1.length;Nd++)dh[E1.charCodeAt(Nd)]=Nd;var oH=function(r){var e=r.length*.75,t=r.length,n,i=0,o,s,a,A;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)o=dh[r.charCodeAt(n)],s=dh[r.charCodeAt(n+1)],a=dh[r.charCodeAt(n+2)],A=dh[r.charCodeAt(n+3)],l[i++]=o<<2|s>>4,l[i++]=(s&15)<<4|a>>2,l[i++]=(a&3)<<6|A&63;return c},sH=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},aH=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},fA=5,Cv=11,Qm=2,AH=Cv-fA,$T=65536>>fA,cH=1<<fA,Hm=cH-1,lH=1024>>fA,hH=$T+lH,uH=hH,dH=32,fH=uH+dH,gH=65536>>Cv,pH=1<<AH,mH=pH-1,S1=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},wH=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},CH=function(r,e){var t=oH(r),n=Array.isArray(t)?aH(t):new Uint32Array(t),i=Array.isArray(t)?sH(t):new Uint16Array(t),o=24,s=S1(i,o/2,n[4]/2),a=n[5]===2?S1(i,(o+n[4])/2):wH(n,Math.ceil((o+n[4])/4));return new yH(n[0],n[1],n[2],n[3],s,a)},yH=function(){function r(e,t,n,i,o,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=o,this.data=s}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>fA],t=(t<<Qm)+(e&Hm),this.data[t];if(e<=65535)return t=this.index[$T+(e-55296>>fA)],t=(t<<Qm)+(e&Hm),this.data[t];if(e<this.highStart)return t=fH-gH+(e>>Cv),t=this.index[t],t+=e>>fA&mH,t=this.index[t],t=(t<<Qm)+(e&Hm),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),T1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pd=0;Pd<T1.length;Pd++)vH[T1.charCodeAt(Pd)]=Pd;var BH="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",_1=50,bH=1,jT=2,zT=3,IH=4,EH=5,k1=7,WT=8,F1=9,Aa=10,CC=11,U1=12,yC=13,SH=14,fh=15,vC=16,Ld=17,nh=18,TH=19,x1=20,BC=21,rh=22,Dm=23,fc=24,hi=25,gh=26,ph=27,gc=28,_H=29,nA=30,kH=31,Od=32,Md=33,bC=34,IC=35,EC=36,Wh=37,SC=38,Tf=39,_f=40,Km=41,YT=42,FH=43,UH=[9001,65288],JT="!",_t="",Qd="",TC=CH(BH),as=[nA,EC],_C=[bH,jT,zT,EH],XT=[Aa,WT],R1=[ph,gh],xH=_C.concat(XT),N1=[SC,Tf,_f,bC,IC],RH=[fh,yC],NH=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(o,s){var a=TC.get(o);if(a>_1?(i.push(!0),a-=_1):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(s),t.push(vC);if(a===IH||a===CC){if(s===0)return n.push(s),t.push(nA);var A=t[s-1];return xH.indexOf(A)===-1?(n.push(n[s-1]),t.push(A)):(n.push(s),t.push(nA))}if(n.push(s),a===kH)return t.push(e==="strict"?BC:Wh);if(a===YT||a===_H)return t.push(nA);if(a===FH)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(Wh):t.push(nA);t.push(a)}),[n,t,i]},Gm=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var o=t;o<=n.length;){o++;var s=n[o];if(s===e)return!0;if(s!==Aa)break}if(i===Aa)for(var o=t;o>0;){o--;var a=n[o];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var A=t;A<=n.length;){A++;var s=n[A];if(s===e)return!0;if(s!==Aa)break}if(a!==Aa)break}return!1},P1=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===Aa)t--;else return n}return 0},PH=function(r,e,t,n,i){if(t[n]===0)return _t;var o=n-1;if(Array.isArray(i)&&i[o]===!0)return _t;var s=o-1,a=o+1,A=e[o],c=s>=0?e[s]:0,l=e[a];if(A===jT&&l===zT)return _t;if(_C.indexOf(A)!==-1)return JT;if(_C.indexOf(l)!==-1||XT.indexOf(l)!==-1)return _t;if(P1(o,e)===WT)return Qd;if(TC.get(r[o])===CC||(A===Od||A===Md)&&TC.get(r[a])===CC||A===k1||l===k1||A===F1||[Aa,yC,fh].indexOf(A)===-1&&l===F1||[Ld,nh,TH,fc,gc].indexOf(l)!==-1||P1(o,e)===rh||Gm(Dm,rh,o,e)||Gm([Ld,nh],BC,o,e)||Gm(U1,U1,o,e))return _t;if(A===Aa)return Qd;if(A===Dm||l===Dm)return _t;if(l===vC||A===vC)return Qd;if([yC,fh,BC].indexOf(l)!==-1||A===SH||c===EC&&RH.indexOf(A)!==-1||A===gc&&l===EC||l===x1||as.indexOf(l)!==-1&&A===hi||as.indexOf(A)!==-1&&l===hi||A===ph&&[Wh,Od,Md].indexOf(l)!==-1||[Wh,Od,Md].indexOf(A)!==-1&&l===gh||as.indexOf(A)!==-1&&R1.indexOf(l)!==-1||R1.indexOf(A)!==-1&&as.indexOf(l)!==-1||[ph,gh].indexOf(A)!==-1&&(l===hi||[rh,fh].indexOf(l)!==-1&&e[a+1]===hi)||[rh,fh].indexOf(A)!==-1&&l===hi||A===hi&&[hi,gc,fc].indexOf(l)!==-1)return _t;if([hi,gc,fc,Ld,nh].indexOf(l)!==-1)for(var u=o;u>=0;){var d=e[u];if(d===hi)return _t;if([gc,fc].indexOf(d)!==-1)u--;else break}if([ph,gh].indexOf(l)!==-1)for(var u=[Ld,nh].indexOf(A)!==-1?s:o;u>=0;){var d=e[u];if(d===hi)return _t;if([gc,fc].indexOf(d)!==-1)u--;else break}if(SC===A&&[SC,Tf,bC,IC].indexOf(l)!==-1||[Tf,bC].indexOf(A)!==-1&&[Tf,_f].indexOf(l)!==-1||[_f,IC].indexOf(A)!==-1&&l===_f||N1.indexOf(A)!==-1&&[x1,gh].indexOf(l)!==-1||N1.indexOf(l)!==-1&&A===ph||as.indexOf(A)!==-1&&as.indexOf(l)!==-1||A===fc&&as.indexOf(l)!==-1||as.concat(hi).indexOf(A)!==-1&&l===rh&&UH.indexOf(r[a])===-1||as.concat(hi).indexOf(l)!==-1&&A===nh)return _t;if(A===Km&&l===Km){for(var f=t[o],m=1;f>0&&(f--,e[f]===Km);)m++;if(m%2!==0)return _t}return A===Od&&l===Md?_t:Qd},LH=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=NH(r,e.lineBreak),n=t[0],i=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[hi,nA,YT].indexOf(a)!==-1?Wh:a}));var s=e.wordBreak==="keep-all"?o.map(function(a,A){return a&&r[A]>=19968&&r[A]<=40959}):void 0;return[n,i,s]},OH=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===JT,this.start=n,this.end=i}return r.prototype.slice=function(){return Pn.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),MH=function(r,e){var t=Gg(r),n=LH(t,e),i=n[0],o=n[1],s=n[2],a=t.length,A=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var l=_t;c<a&&(l=PH(t,o,i,++c,s))===_t;);if(l!==_t||c===a){var u=new OH(t,l,A,c);return A=c,{value:u,done:!1}}return{done:!0,value:null}}}},QH=1,HH=2,Au=4,L1=8,tg=10,O1=47,Fh=92,DH=9,KH=32,Hd=34,ih=61,GH=35,VH=36,qH=37,Dd=39,Kd=40,oh=41,$H=95,ei=45,jH=33,zH=60,WH=62,YH=64,JH=91,XH=93,ZH=61,eD=123,Gd=63,tD=125,M1=124,nD=126,rD=128,Q1=65533,Vm=42,aA=43,iD=44,oD=58,sD=59,Yh=46,aD=0,AD=8,cD=11,lD=14,hD=31,uD=127,Eo=-1,ZT=48,e_=97,t_=101,dD=102,fD=117,gD=122,n_=65,r_=69,i_=70,pD=85,mD=90,xr=function(r){return r>=ZT&&r<=57},wD=function(r){return r>=55296&&r<=57343},pc=function(r){return xr(r)||r>=n_&&r<=i_||r>=e_&&r<=dD},CD=function(r){return r>=e_&&r<=gD},yD=function(r){return r>=n_&&r<=mD},vD=function(r){return CD(r)||yD(r)},BD=function(r){return r>=rD},Vd=function(r){return r===tg||r===DH||r===KH},ng=function(r){return vD(r)||BD(r)||r===$H},H1=function(r){return ng(r)||xr(r)||r===ei},bD=function(r){return r>=aD&&r<=AD||r===cD||r>=lD&&r<=hD||r===uD},ta=function(r,e){return r!==Fh?!1:e!==tg},qd=function(r,e,t){return r===ei?ng(e)||ta(e,t):ng(r)?!0:!!(r===Fh&&ta(r,e))},qm=function(r,e,t){return r===aA||r===ei?xr(e)?!0:e===Yh&&xr(t):xr(r===Yh?e:r)},ID=function(r){var e=0,t=1;(r[e]===aA||r[e]===ei)&&(r[e]===ei&&(t=-1),e++);for(var n=[];xr(r[e]);)n.push(r[e++]);var i=n.length?parseInt(Pn.apply(void 0,n),10):0;r[e]===Yh&&e++;for(var o=[];xr(r[e]);)o.push(r[e++]);var s=o.length,a=s?parseInt(Pn.apply(void 0,o),10):0;(r[e]===r_||r[e]===t_)&&e++;var A=1;(r[e]===aA||r[e]===ei)&&(r[e]===ei&&(A=-1),e++);for(var c=[];xr(r[e]);)c.push(r[e++]);var l=c.length?parseInt(Pn.apply(void 0,c),10):0;return t*(i+a*Math.pow(10,-s))*Math.pow(10,A*l)},ED={type:2},SD={type:3},TD={type:4},_D={type:13},kD={type:8},FD={type:21},UD={type:9},xD={type:10},RD={type:11},ND={type:12},PD={type:14},$d={type:23},LD={type:1},OD={type:25},MD={type:24},QD={type:26},HD={type:27},DD={type:28},KD={type:29},GD={type:31},kC={type:32},o_=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Gg(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kC;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Hd:return this.consumeStringToken(Hd);case GH:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(H1(t)||ta(n,i)){var o=qd(t,n,i)?HH:QH,s=this.consumeName();return{type:5,value:s,flags:o}}break;case VH:if(this.peekCodePoint(0)===ih)return this.consumeCodePoint(),_D;break;case Dd:return this.consumeStringToken(Dd);case Kd:return ED;case oh:return SD;case Vm:if(this.peekCodePoint(0)===ih)return this.consumeCodePoint(),PD;break;case aA:if(qm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case iD:return TD;case ei:var a=e,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(qm(a,A,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(qd(a,A,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===ei&&c===WH)return this.consumeCodePoint(),this.consumeCodePoint(),MD;break;case Yh:if(qm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case O1:if(this.peekCodePoint(0)===Vm)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Vm&&(l=this.consumeCodePoint(),l===O1))return this.consumeToken();if(l===Eo)return this.consumeToken()}break;case oD:return QD;case sD:return HD;case zH:if(this.peekCodePoint(0)===jH&&this.peekCodePoint(1)===ei&&this.peekCodePoint(2)===ei)return this.consumeCodePoint(),this.consumeCodePoint(),OD;break;case YH:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(qd(u,d,f)){var s=this.consumeName();return{type:7,value:s}}break;case JH:return DD;case Fh:if(ta(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case XH:return KD;case ZH:if(this.peekCodePoint(0)===ih)return this.consumeCodePoint(),kD;break;case eD:return RD;case tD:return ND;case fD:case pD:var m=this.peekCodePoint(0),w=this.peekCodePoint(1);return m===aA&&(pc(w)||w===Gd)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case M1:if(this.peekCodePoint(0)===ih)return this.consumeCodePoint(),UD;if(this.peekCodePoint(0)===M1)return this.consumeCodePoint(),FD;break;case nD:if(this.peekCodePoint(0)===ih)return this.consumeCodePoint(),xD;break;case Eo:return kC}return Vd(e)?(this.consumeWhiteSpace(),GD):xr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ng(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Pn(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();pc(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Gd&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Pn.apply(void 0,e.map(function(A){return A===Gd?ZT:A})),16),o=parseInt(Pn.apply(void 0,e.map(function(A){return A===Gd?i_:A})),16);return{type:30,start:i,end:o}}var s=parseInt(Pn.apply(void 0,e),16);if(this.peekCodePoint(0)===ei&&pc(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];pc(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();var o=parseInt(Pn.apply(void 0,a),16);return{type:30,start:s,end:o}}else return{type:30,start:s,end:s}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Kd?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Kd?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Dd||t===Hd){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo||this.peekCodePoint(0)===oh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),$d)}for(;;){var i=this.consumeCodePoint();if(i===Eo||i===oh)return{type:22,value:Pn.apply(void 0,e)};if(Vd(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo||this.peekCodePoint(0)===oh?(this.consumeCodePoint(),{type:22,value:Pn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),$d);if(i===Hd||i===Dd||i===Kd||bD(i))return this.consumeBadUrlRemnants(),$d;if(i===Fh)if(ta(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),$d;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;Vd(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===oh||e===Eo)return;ta(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=Pn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===Eo||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===tg)return this._value.splice(0,n),LD;if(i===Fh){var o=this._value[n+1];o!==Eo&&o!==void 0&&(o===tg?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ta(i,o)&&(t+=this.consumeStringSlice(n),t+=Pn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Au,n=this.peekCodePoint(0);for((n===aA||n===ei)&&e.push(this.consumeCodePoint());xr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Yh&&xr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=L1;xr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===r_||n===t_)&&((i===aA||i===ei)&&xr(o)||xr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=L1;xr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ID(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),s=this.peekCodePoint(2);if(qd(i,o,s)){var a=this.consumeName();return{type:15,number:t,flags:n,unit:a}}return i===qH?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(pc(e)){for(var t=Pn(e);pc(this.peekCodePoint(0))&&t.length<6;)t+=Pn(this.consumeCodePoint());Vd(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||wD(n)||n>1114111?Q1:n}return e===Eo?Q1:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(H1(t))e+=Pn(t);else if(ta(t,this.peekCodePoint(0)))e+=Pn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),s_=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new o_;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||qD(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?kC:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),cu=function(r){return r.type===15},fl=function(r){return r.type===17},Xt=function(r){return r.type===20},VD=function(r){return r.type===0},FC=function(r,e){return Xt(r)&&r.value===e},a_=function(r){return r.type!==31},sl=function(r){return r.type!==31&&r.type!==4},qo=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},qD=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},ba=function(r){return r.type===17||r.type===15},qn=function(r){return r.type===16||ba(r)},A_=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},wr={type:17,number:0,flags:Au},yv={type:16,number:50,flags:Au},ca={type:16,number:100,flags:Au},mh=function(r,e,t){var n=r[0],i=r[1];return[An(n,e),An(typeof i<"u"?i:n,t)]},An=function(r,e){if(r.type===16)return r.number/100*e;if(cu(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},c_="deg",l_="grad",h_="rad",u_="turn",Vg={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case c_:return Math.PI*e.number/180;case l_:return Math.PI/200*e.number;case h_:return e.number;case u_:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},d_=function(r){return r.type===15&&(r.unit===c_||r.unit===l_||r.unit===h_||r.unit===u_)},f_=function(r){var e=r.filter(Xt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[wr,wr];case"to top":case"bottom":return Ni(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[wr,ca];case"to right":case"left":return Ni(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ca,ca];case"to bottom":case"top":return Ni(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ca,wr];case"to left":case"right":return Ni(270)}return 0},Ni=function(r){return Math.PI*r/180},fa={name:"color",parse:function(r,e){if(e.type===18){var t=$D[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);return la(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3),s=e.value.substring(3,4);return la(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6);return la(parseInt(n,16),parseInt(i,16),parseInt(o,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),s=e.value.substring(6,8);return la(parseInt(n,16),parseInt(i,16),parseInt(o,16),parseInt(s,16)/255)}}if(e.type===20){var a=Es[e.value.toUpperCase()];if(typeof a<"u")return a}return Es.TRANSPARENT}},ga=function(r){return(255&r)===0},rr=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},la=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},D1=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},K1=function(r,e){var t=e.filter(sl);if(t.length===3){var n=t.map(D1),i=n[0],o=n[1],s=n[2];return la(i,o,s,1)}if(t.length===4){var a=t.map(D1),i=a[0],o=a[1],s=a[2],A=a[3];return la(i,o,s,A)}return 0};function $m(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var G1=function(r,e){var t=e.filter(sl),n=t[0],i=t[1],o=t[2],s=t[3],a=(n.type===17?Ni(n.number):Vg.parse(r,n))/(Math.PI*2),A=qn(i)?i.number/100:0,c=qn(o)?o.number/100:0,l=typeof s<"u"&&qn(s)?An(s,1):1;if(A===0)return la(c*255,c*255,c*255,1);var u=c<=.5?c*(A+1):c+A-c*A,d=c*2-u,f=$m(d,u,a+1/3),m=$m(d,u,a),w=$m(d,u,a-1/3);return la(f*255,m*255,w*255,l)},$D={hsl:G1,hsla:G1,rgb:K1,rgba:K1},Uh=function(r,e){return fa.parse(r,s_.create(e).parseComponentValue())},Es={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},jD={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Xt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zD={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qg=function(r,e){var t=fa.parse(r,e[0]),n=e[1];return n&&qn(n)?{color:t,stop:n}:{color:t,stop:null}},V1=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=wr),n.stop===null&&(n.stop=ca);for(var i=[],o=0,s=0;s<r.length;s++){var a=r[s].stop;if(a!==null){var A=An(a,e);A>o?i.push(A):i.push(o),o=A}else i.push(null)}for(var c=null,s=0;s<i.length;s++){var l=i[s];if(l===null)c===null&&(c=s);else if(c!==null){for(var u=s-c,d=i[c-1],f=(l-d)/(u+1),m=1;m<=u;m++)i[c+m-1]=f*m;c=null}}return r.map(function(w,B){var y=w.color;return{color:y,stop:Math.max(Math.min(1,i[B]/e),0)}})},WD=function(r,e,t){var n=e/2,i=t/2,o=An(r[0],e)-n,s=i-An(r[1],t);return(Math.atan2(s,o)+Math.PI*2)%(Math.PI*2)},YD=function(r,e,t){var n=typeof r=="number"?r:WD(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),o=e/2,s=t/2,a=i/2,A=Math.sin(n-Math.PI/2)*a,c=Math.cos(n-Math.PI/2)*a;return[i,o-c,o+c,s-A,s+A]},Wi=function(r,e){return Math.sqrt(r*r+e*e)},q1=function(r,e,t,n,i){var o=[[0,0],[0,e],[r,0],[r,e]];return o.reduce(function(s,a){var A=a[0],c=a[1],l=Wi(t-A,n-c);return(i?l<s.optimumDistance:l>s.optimumDistance)?{optimumCorner:a,optimumDistance:l}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},JD=function(r,e,t,n,i){var o=0,s=0;switch(r.size){case 0:r.shape===0?o=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)o=s=Math.min(Wi(e,t),Wi(e,t-i),Wi(e-n,t),Wi(e-n,t-i));else if(r.shape===1){var a=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=q1(n,i,e,t,!0),c=A[0],l=A[1];o=Wi(c-e,(l-t)/a),s=a*o}break;case 1:r.shape===0?o=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)o=s=Math.max(Wi(e,t),Wi(e,t-i),Wi(e-n,t),Wi(e-n,t-i));else if(r.shape===1){var a=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=q1(n,i,e,t,!1),c=u[0],l=u[1];o=Wi(c-e,(l-t)/a),s=a*o}break}return Array.isArray(r.size)&&(o=An(r.size[0],n),s=r.size.length===2?An(r.size[1],i):o),[o,s]},XD=function(r,e){var t=Ni(180),n=[];return qo(e).forEach(function(i,o){if(o===0){var s=i[0];if(s.type===20&&s.value==="to"){t=f_(i);return}else if(d_(s)){t=Vg.parse(r,s);return}}var a=qg(r,i);n.push(a)}),{angle:t,stops:n,type:1}},jd=function(r,e){var t=Ni(180),n=[];return qo(e).forEach(function(i,o){if(o===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=f_(i);return}else if(d_(s)){t=(Vg.parse(r,s)+Ni(270))%Ni(360);return}}var a=qg(r,i);n.push(a)}),{angle:t,stops:n,type:1}},ZD=function(r,e){var t=Ni(180),n=[],i=1,o=0,s=3,a=[];return qo(e).forEach(function(A,c){var l=A[0];if(c===0){if(Xt(l)&&l.value==="linear"){i=1;return}else if(Xt(l)&&l.value==="radial"){i=2;return}}if(l.type===18){if(l.name==="from"){var u=fa.parse(r,l.values[0]);n.push({stop:wr,color:u})}else if(l.name==="to"){var u=fa.parse(r,l.values[0]);n.push({stop:ca,color:u})}else if(l.name==="color-stop"){var d=l.values.filter(sl);if(d.length===2){var u=fa.parse(r,d[1]),f=d[0];fl(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(t+Ni(180))%Ni(360),stops:n,type:i}:{size:s,shape:o,stops:n,position:a,type:i}},g_="closest-side",p_="farthest-side",m_="closest-corner",w_="farthest-corner",C_="circle",y_="ellipse",v_="cover",B_="contain",e3=function(r,e){var t=0,n=3,i=[],o=[];return qo(e).forEach(function(s,a){var A=!0;if(a===0){var c=!1;A=s.reduce(function(u,d){if(c)if(Xt(d))switch(d.value){case"center":return o.push(yv),u;case"top":case"left":return o.push(wr),u;case"right":case"bottom":return o.push(ca),u}else(qn(d)||ba(d))&&o.push(d);else if(Xt(d))switch(d.value){case C_:return t=0,!1;case y_:return t=1,!1;case"at":return c=!0,!1;case g_:return n=0,!1;case v_:case p_:return n=1,!1;case B_:case m_:return n=2,!1;case w_:return n=3,!1}else if(ba(d)||qn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},A)}if(A){var l=qg(r,s);i.push(l)}}),{size:n,shape:t,stops:i,position:o,type:2}},zd=function(r,e){var t=0,n=3,i=[],o=[];return qo(e).forEach(function(s,a){var A=!0;if(a===0?A=s.reduce(function(l,u){if(Xt(u))switch(u.value){case"center":return o.push(yv),!1;case"top":case"left":return o.push(wr),!1;case"right":case"bottom":return o.push(ca),!1}else if(qn(u)||ba(u))return o.push(u),!1;return l},A):a===1&&(A=s.reduce(function(l,u){if(Xt(u))switch(u.value){case C_:return t=0,!1;case y_:return t=1,!1;case B_:case g_:return n=0,!1;case p_:return n=1,!1;case m_:return n=2,!1;case v_:case w_:return n=3,!1}else if(ba(u)||qn(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return l},A)),A){var c=qg(r,s);i.push(c)}}),{size:n,shape:t,stops:i,position:o,type:2}},t3=function(r){return r.type===1},n3=function(r){return r.type===2},vv={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=b_[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function r3(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!b_[r.name])}var b_={"linear-gradient":XD,"-moz-linear-gradient":jd,"-ms-linear-gradient":jd,"-o-linear-gradient":jd,"-webkit-linear-gradient":jd,"radial-gradient":e3,"-moz-radial-gradient":zd,"-ms-radial-gradient":zd,"-o-radial-gradient":zd,"-webkit-radial-gradient":zd,"-webkit-gradient":ZD},i3={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return sl(n)&&r3(n)}).map(function(n){return vv.parse(r,n)})}},o3={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Xt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},s3={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return qo(e).map(function(t){return t.filter(qn)}).map(A_)}},a3={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return qo(e).map(function(t){return t.filter(Xt).map(function(n){return n.value}).join(" ")}).map(A3)}},A3=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wc;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Wc||(Wc={}));var c3={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return qo(e).map(function(t){return t.filter(l3)})}},l3=function(r){return Xt(r)||qn(r)},$g=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},h3=$g("top"),u3=$g("right"),d3=$g("bottom"),f3=$g("left"),jg=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return A_(t.filter(qn))}}},g3=jg("top-left"),p3=jg("top-right"),m3=jg("bottom-right"),w3=jg("bottom-left"),zg=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},C3=zg("top"),y3=zg("right"),v3=zg("bottom"),B3=zg("left"),Wg=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return cu(t)?t.number:0}}},b3=Wg("top"),I3=Wg("right"),E3=Wg("bottom"),S3=Wg("left"),T3={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_3={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},k3={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Xt).reduce(function(t,n){return t|F3(n.value)},0)}},F3=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},U3={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},x3={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},rg;(function(r){r.NORMAL="normal",r.STRICT="strict"})(rg||(rg={}));var R3={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return rg.STRICT;case"normal":default:return rg.NORMAL}}},N3={name:"line-height",initialValue:"normal",prefix:!1,type:4},$1=function(r,e){return Xt(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:qn(r)?An(r,e):e},P3={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:vv.parse(r,e)}},L3={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},UC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Yg=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},O3=Yg("top"),M3=Yg("right"),Q3=Yg("bottom"),H3=Yg("left"),D3={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Xt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},K3={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Jg=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},G3=Jg("top"),V3=Jg("right"),q3=Jg("bottom"),$3=Jg("left"),j3={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},z3={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},W3={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&FC(e[0],"none")?[]:qo(e).map(function(t){for(var n={color:Es.TRANSPARENT,offsetX:wr,offsetY:wr,blur:wr},i=0,o=0;o<t.length;o++){var s=t[o];ba(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:n.blur=s,i++):n.color=fa.parse(r,s)}return n})}},Y3={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},J3={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=e6[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},X3=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Z3=function(r){var e=r.filter(function(A){return A.type===17}).map(function(A){return A.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],e.length===16?[t,n,i,o,s,a]:null},e6={matrix:X3,matrix3d:Z3},j1={type:16,number:50,flags:Au},t6=[j1,j1],n6={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(qn);return t.length!==2?t6:[t[0],t[1]]}},r6={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},xh;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(xh||(xh={}));var i6={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return xh.BREAK_ALL;case"keep-all":return xh.KEEP_ALL;case"normal":default:return xh.NORMAL}}},o6={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(fl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},I_={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},s6={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return fl(e)?e.number:1}},a6={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},A6={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Xt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},c6={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},l6={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},h6={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(fl(e))return e.number;if(Xt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},u6={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Xt).map(function(t){return t.value})}},d6={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},zn=function(r,e){return(r&e)!==0},f6={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},g6={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(a_),o=0;o<i.length;o++){var s=i[o],a=i[o+1];if(s.type===20){var A=a&&fl(a)?a.number:1;n.push({counter:s.value,increment:A})}}return n}},p6={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(a_),i=0;i<n.length;i++){var o=n[i],s=n[i+1];if(Xt(o)&&o.value!=="none"){var a=s&&fl(s)?s.number:0;t.push({counter:o.value,reset:a})}}return t}},m6={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(cu).map(function(t){return I_.parse(r,t)})}},w6={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(VD);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var s=i[o].value,a=i[o+1].value;n.push({open:s,close:a})}return n}},z1=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},C6={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&FC(e[0],"none")?[]:qo(e).map(function(t){for(var n={color:255,offsetX:wr,offsetY:wr,blur:wr,spread:wr,inset:!1},i=0,o=0;o<t.length;o++){var s=t[o];FC(s,"inset")?n.inset=!0:ba(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:i===2?n.blur=s:n.spread=s,i++):n.color=fa.parse(r,s)}return n})}},y6={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(Xt).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},v6={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},B6={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return cu(e)?e.number:0}},b6=function(){function r(e,t){var n,i;this.animationDuration=$e(e,m6,t.animationDuration),this.backgroundClip=$e(e,jD,t.backgroundClip),this.backgroundColor=$e(e,zD,t.backgroundColor),this.backgroundImage=$e(e,i3,t.backgroundImage),this.backgroundOrigin=$e(e,o3,t.backgroundOrigin),this.backgroundPosition=$e(e,s3,t.backgroundPosition),this.backgroundRepeat=$e(e,a3,t.backgroundRepeat),this.backgroundSize=$e(e,c3,t.backgroundSize),this.borderTopColor=$e(e,h3,t.borderTopColor),this.borderRightColor=$e(e,u3,t.borderRightColor),this.borderBottomColor=$e(e,d3,t.borderBottomColor),this.borderLeftColor=$e(e,f3,t.borderLeftColor),this.borderTopLeftRadius=$e(e,g3,t.borderTopLeftRadius),this.borderTopRightRadius=$e(e,p3,t.borderTopRightRadius),this.borderBottomRightRadius=$e(e,m3,t.borderBottomRightRadius),this.borderBottomLeftRadius=$e(e,w3,t.borderBottomLeftRadius),this.borderTopStyle=$e(e,C3,t.borderTopStyle),this.borderRightStyle=$e(e,y3,t.borderRightStyle),this.borderBottomStyle=$e(e,v3,t.borderBottomStyle),this.borderLeftStyle=$e(e,B3,t.borderLeftStyle),this.borderTopWidth=$e(e,b3,t.borderTopWidth),this.borderRightWidth=$e(e,I3,t.borderRightWidth),this.borderBottomWidth=$e(e,E3,t.borderBottomWidth),this.borderLeftWidth=$e(e,S3,t.borderLeftWidth),this.boxShadow=$e(e,C6,t.boxShadow),this.color=$e(e,T3,t.color),this.direction=$e(e,_3,t.direction),this.display=$e(e,k3,t.display),this.float=$e(e,U3,t.cssFloat),this.fontFamily=$e(e,c6,t.fontFamily),this.fontSize=$e(e,l6,t.fontSize),this.fontStyle=$e(e,d6,t.fontStyle),this.fontVariant=$e(e,u6,t.fontVariant),this.fontWeight=$e(e,h6,t.fontWeight),this.letterSpacing=$e(e,x3,t.letterSpacing),this.lineBreak=$e(e,R3,t.lineBreak),this.lineHeight=$e(e,N3,t.lineHeight),this.listStyleImage=$e(e,P3,t.listStyleImage),this.listStylePosition=$e(e,L3,t.listStylePosition),this.listStyleType=$e(e,UC,t.listStyleType),this.marginTop=$e(e,O3,t.marginTop),this.marginRight=$e(e,M3,t.marginRight),this.marginBottom=$e(e,Q3,t.marginBottom),this.marginLeft=$e(e,H3,t.marginLeft),this.opacity=$e(e,s6,t.opacity);var o=$e(e,D3,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=$e(e,K3,t.overflowWrap),this.paddingTop=$e(e,G3,t.paddingTop),this.paddingRight=$e(e,V3,t.paddingRight),this.paddingBottom=$e(e,q3,t.paddingBottom),this.paddingLeft=$e(e,$3,t.paddingLeft),this.paintOrder=$e(e,y6,t.paintOrder),this.position=$e(e,z3,t.position),this.textAlign=$e(e,j3,t.textAlign),this.textDecorationColor=$e(e,a6,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=$e(e,A6,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=$e(e,W3,t.textShadow),this.textTransform=$e(e,Y3,t.textTransform),this.transform=$e(e,J3,t.transform),this.transformOrigin=$e(e,n6,t.transformOrigin),this.visibility=$e(e,r6,t.visibility),this.webkitTextStrokeColor=$e(e,v6,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=$e(e,B6,t.webkitTextStrokeWidth),this.wordBreak=$e(e,i6,t.wordBreak),this.zIndex=$e(e,o6,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return ga(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return zn(this.display,4)||zn(this.display,33554432)||zn(this.display,268435456)||zn(this.display,536870912)||zn(this.display,67108864)||zn(this.display,134217728)},r}(),I6=function(){function r(e,t){this.content=$e(e,f6,t.content),this.quotes=$e(e,w6,t.quotes)}return r}(),W1=function(){function r(e,t){this.counterIncrement=$e(e,g6,t.counterIncrement),this.counterReset=$e(e,p6,t.counterReset)}return r}(),$e=function(r,e,t){var n=new o_,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var o=new s_(n.read());switch(e.type){case 2:var s=o.parseComponentValue();return e.parse(r,Xt(s)?s.value:e.initialValue);case 0:return e.parse(r,o.parseComponentValue());case 1:return e.parse(r,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return Vg.parse(r,o.parseComponentValue());case"color":return fa.parse(r,o.parseComponentValue());case"image":return vv.parse(r,o.parseComponentValue());case"length":var a=o.parseComponentValue();return ba(a)?a:wr;case"length-percentage":var A=o.parseComponentValue();return qn(A)?A:wr;case"time":return I_.parse(r,o.parseComponentValue())}break}},E6="data-html2canvas-debug",S6=function(r){var e=r.getAttribute(E6);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xC=function(r,e){var t=S6(r);return t===1||e===t},$o=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,xC(t,3))debugger;this.styles=new b6(e,window.getComputedStyle(t,null)),PC(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Kg(this.context,t),xC(t,4)&&(this.flags|=16)}return r}(),T6="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Y1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wd=0;Wd<Y1.length;Wd++)wh[Y1.charCodeAt(Wd)]=Wd;var _6=function(r){var e=r.length*.75,t=r.length,n,i=0,o,s,a,A;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)o=wh[r.charCodeAt(n)],s=wh[r.charCodeAt(n+1)],a=wh[r.charCodeAt(n+2)],A=wh[r.charCodeAt(n+3)],l[i++]=o<<2|s>>4,l[i++]=(s&15)<<4|a>>2,l[i++]=(a&3)<<6|A&63;return c},k6=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},F6=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},gA=5,Bv=11,jm=2,U6=Bv-gA,E_=65536>>gA,x6=1<<gA,zm=x6-1,R6=1024>>gA,N6=E_+R6,P6=N6,L6=32,O6=P6+L6,M6=65536>>Bv,Q6=1<<U6,H6=Q6-1,J1=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},D6=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},K6=function(r,e){var t=_6(r),n=Array.isArray(t)?F6(t):new Uint32Array(t),i=Array.isArray(t)?k6(t):new Uint16Array(t),o=24,s=J1(i,o/2,n[4]/2),a=n[5]===2?J1(i,(o+n[4])/2):D6(n,Math.ceil((o+n[4])/4));return new G6(n[0],n[1],n[2],n[3],s,a)},G6=function(){function r(e,t,n,i,o,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=o,this.data=s}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>gA],t=(t<<jm)+(e&zm),this.data[t];if(e<=65535)return t=this.index[E_+(e-55296>>gA)],t=(t<<jm)+(e&zm),this.data[t];if(e<this.highStart)return t=O6-M6+(e>>Bv),t=this.index[t],t+=e>>gA&H6,t=this.index[t],t=(t<<jm)+(e&zm),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),X1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yd=0;Yd<X1.length;Yd++)V6[X1.charCodeAt(Yd)]=Yd;var q6=1,Wm=2,Ym=3,Z1=4,eI=5,$6=7,tI=8,Jm=9,Xm=10,nI=11,rI=12,iI=13,oI=14,Zm=15,j6=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},z6=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,o="";++i<t;){var s=r[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},W6=K6(T6),xi="",ew="",Y6=function(r){return W6.get(r)},J6=function(r,e,t){var n=t-2,i=e[n],o=e[t-1],s=e[t];if(o===Wm&&s===Ym)return xi;if(o===Wm||o===Ym||o===Z1||s===Wm||s===Ym||s===Z1)return ew;if(o===tI&&[tI,Jm,nI,rI].indexOf(s)!==-1||(o===nI||o===Jm)&&(s===Jm||s===Xm)||(o===rI||o===Xm)&&s===Xm||s===iI||s===eI||s===$6||o===q6)return xi;if(o===iI&&s===oI){for(;i===eI;)i=e[--n];if(i===oI)return xi}if(o===Zm&&s===Zm){for(var a=0;i===Zm;)a++,i=e[--n];if(a%2===0)return xi}return ew},X6=function(r){var e=j6(r),t=e.length,n=0,i=0,o=e.map(Y6);return{next:function(){if(n>=t)return{done:!0,value:null};for(var s=xi;n<t&&(s=J6(e,o,++n))===xi;);if(s!==xi||n===t){var a=z6.apply(null,e.slice(i,n));return i=n,{value:a,done:!1}}return{done:!0,value:null}}}},Z6=function(r){for(var e=X6(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},eK=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),o=Math.round(i.height);if(r.body.removeChild(n),o===e)return!0}}return!1},tK=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Gg(n.data).map(function(A){return Pn(A)}),o=0,s={},a=i.every(function(A,c){t.setStart(n,o),t.setEnd(n,o+A.length);var l=t.getBoundingClientRect();o+=A.length;var u=l.x>s.x||l.y>s.y;return s=l,c===0?!0:u});return r.body.removeChild(e),a},nK=function(){return typeof new Image().crossOrigin<"u"},rK=function(){return typeof new XMLHttpRequest().responseType=="string"},iK=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},sI=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},oK=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,o=e.toDataURL();i.src=o;var s=RC(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),aI(s).then(function(a){n.drawImage(a,0,0);var A=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var c=r.createElement("div");return c.style.backgroundImage="url("+o+")",c.style.height=t+"px",sI(A)?aI(RC(t,t,0,0,c)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),sI(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},RC=function(r,e,t,n,i){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",r.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},aI=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},pr={get SUPPORT_RANGE_BOUNDS(){var r=eK(document);return Object.defineProperty(pr,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=pr.SUPPORT_RANGE_BOUNDS&&tK(document);return Object.defineProperty(pr,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=iK(document);return Object.defineProperty(pr,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?oK(document):Promise.resolve(!1);return Object.defineProperty(pr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=nK();return Object.defineProperty(pr,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=rK();return Object.defineProperty(pr,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pr,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},Rh=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),sK=function(r,e,t,n){var i=cK(e,t),o=[],s=0;return i.forEach(function(a){if(t.textDecorationLine.length||a.trim().length>0)if(pr.SUPPORT_RANGE_BOUNDS){var A=AI(n,s,a.length).getClientRects();if(A.length>1){var c=bv(a),l=0;c.forEach(function(d){o.push(new Rh(d,_s.fromDOMRectList(r,AI(n,l+s,d.length).getClientRects()))),l+=d.length})}else o.push(new Rh(a,_s.fromDOMRectList(r,A)))}else{var u=n.splitText(a.length);o.push(new Rh(a,aK(r,n))),n=u}else pr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));s+=a.length}),o},aK=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var o=Kg(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),o}}return _s.EMPTY},AI=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},bv=function(r){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return Z6(r)},AK=function(r,e){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return hK(r,e)},cK=function(r,e){return e.letterSpacing!==0?bv(r):AK(r,e)},lK=[32,160,4961,65792,65793,4153,4241],hK=function(r,e){for(var t=MH(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,o=function(){if(i.value){var s=i.value.slice(),a=Gg(s),A="";a.forEach(function(c){lK.indexOf(c)===-1?A+=Pn(c):(A.length&&n.push(A),n.push(Pn(c)),A="")}),A.length&&n.push(A)}};!(i=t.next()).done;)o();return n},uK=function(){function r(e,t,n){this.text=dK(t.data,n.textTransform),this.textBounds=sK(e,this.text,n,t)}return r}(),dK=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(fK,gK);case 2:return r.toUpperCase();default:return r}},fK=/(^|\s|:|-|\(|\))([a-z])/g,gK=function(r,e,t){return r.length>0?e+t.toUpperCase():r},S_=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}($o),T_=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}($o),__=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this,o=new XMLSerializer,s=Kg(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}($o),k_=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}($o),NC=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}($o),pK=[{type:15,flags:0,unit:"px",number:3}],mK=[{type:16,flags:0,number:50}],wK=function(r){return r.width>r.height?new _s(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new _s(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},CK=function(r){var e=r.type===yK?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},ig="checkbox",og="radio",yK="password",cI=707406591,Iv=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=CK(n),(i.type===ig||i.type===og)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=wK(i.bounds)),i.type){case ig:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=pK;break;case og:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mK;break}return i}return e}($o),F_=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return i.value=o&&o.text||"",i}return e}($o),U_=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}($o),x_=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=N_(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?Uh(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Es.TRANSPARENT,s=n.contentWindow.document.body?Uh(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Es.TRANSPARENT;i.backgroundColor=ga(o)?ga(s)?i.styles.backgroundColor:s:o}}catch{}return i}return e}($o),vK=["OL","UL","MENU"],kf=function(r,e,t,n){for(var i=e.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,P_(i)&&i.data.trim().length>0)t.textNodes.push(new uK(r,i,t.styles));else if(Mc(i))if(Q_(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return kf(r,a,t,n)});else{var s=R_(r,i);s.styles.isVisible()&&(BK(i,s,n)?s.flags|=4:bK(s.styles)&&(s.flags|=2),vK.indexOf(i.tagName)!==-1&&(s.flags|=8),t.elements.push(s),i.slot,i.shadowRoot?kf(r,i.shadowRoot,s,n):!sg(i)&&!L_(i)&&!ag(i)&&kf(r,i,s,n))}},R_=function(r,e){return LC(e)?new S_(r,e):O_(e)?new T_(r,e):L_(e)?new __(r,e):IK(e)?new k_(r,e):EK(e)?new NC(r,e):SK(e)?new Iv(r,e):ag(e)?new F_(r,e):sg(e)?new U_(r,e):M_(e)?new x_(r,e):new $o(r,e)},N_=function(r,e){var t=R_(r,e);return t.flags|=4,kf(r,e,t,t),t},BK=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Ev(r)&&t.styles.isTransparent()},bK=function(r){return r.isPositioned()||r.isFloating()},P_=function(r){return r.nodeType===Node.TEXT_NODE},Mc=function(r){return r.nodeType===Node.ELEMENT_NODE},PC=function(r){return Mc(r)&&typeof r.style<"u"&&!Ff(r)},Ff=function(r){return typeof r.className=="object"},IK=function(r){return r.tagName==="LI"},EK=function(r){return r.tagName==="OL"},SK=function(r){return r.tagName==="INPUT"},TK=function(r){return r.tagName==="HTML"},L_=function(r){return r.tagName==="svg"},Ev=function(r){return r.tagName==="BODY"},O_=function(r){return r.tagName==="CANVAS"},lI=function(r){return r.tagName==="VIDEO"},LC=function(r){return r.tagName==="IMG"},M_=function(r){return r.tagName==="IFRAME"},hI=function(r){return r.tagName==="STYLE"},_K=function(r){return r.tagName==="SCRIPT"},sg=function(r){return r.tagName==="TEXTAREA"},ag=function(r){return r.tagName==="SELECT"},Q_=function(r){return r.tagName==="SLOT"},uI=function(r){return r.tagName.indexOf("-")>0},kK=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,o=!0;n!==null&&n.forEach(function(a){var A=t.counters[a.counter];A&&a.increment!==0&&(o=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=a.increment)});var s=[];return o&&i.forEach(function(a){var A=t.counters[a.counter];s.push(a.counter),A||(A=t.counters[a.counter]=[]),A.push(a.reset)}),s},r}(),dI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},fI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},FK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},UK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},mc=function(r,e,t,n,i,o){return r<e||r>t?Jh(r,i,o.length>0):n.integers.reduce(function(s,a,A){for(;r>=a;)r-=a,s+=n.values[A];return s},"")+o},H_=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},Nn=function(r,e,t,n,i){var o=t-e+1;return(r<0?"-":"")+(H_(Math.abs(r),o,n,function(s){return Pn(Math.floor(s%o)+e)})+i)},Wa=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return H_(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},kc=1,Xs=2,Zs=4,Ch=8,As=function(r,e,t,n,i,o){if(r<-9999||r>9999)return Jh(r,4,i.length>0);var s=Math.abs(r),a=i;if(s===0)return e[0]+a;for(var A=0;s>0&&A<=4;A++){var c=s%10;c===0&&zn(o,kc)&&a!==""?a=e[c]+a:c>1||c===1&&A===0||c===1&&A===1&&zn(o,Xs)||c===1&&A===1&&zn(o,Zs)&&r>100||c===1&&A>1&&zn(o,Ch)?a=e[c]+(A>0?t[A-1]:"")+a:c===1&&A>0&&(a=t[A-1]+a),s=Math.floor(s/10)}return(r<0?n:"")+a},gI="",pI="",mI="",tw="",Jh=function(r,e,t){var n=t?". ":"",i=t?"":"",o=t?", ":"",s=t?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var a=Nn(r,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return Wa(r,"",i);case 6:return mc(r,1,3999,dI,3,n).toLowerCase();case 7:return mc(r,1,3999,dI,3,n);case 8:return Nn(r,945,969,!1,n);case 9:return Nn(r,97,122,!1,n);case 10:return Nn(r,65,90,!1,n);case 11:return Nn(r,1632,1641,!0,n);case 12:case 49:return mc(r,1,9999,fI,3,n);case 35:return mc(r,1,9999,fI,3,n).toLowerCase();case 13:return Nn(r,2534,2543,!0,n);case 14:case 30:return Nn(r,6112,6121,!0,n);case 15:return Wa(r,"",i);case 16:return Wa(r,"",i);case 17:case 48:return As(r,"",gI,"",i,Xs|Zs|Ch);case 47:return As(r,"",pI,"",i,kc|Xs|Zs|Ch);case 42:return As(r,"",gI,"",i,Xs|Zs|Ch);case 41:return As(r,"",pI,"",i,kc|Xs|Zs|Ch);case 26:return As(r,"","",mI,i,0);case 25:return As(r,"","",mI,i,kc|Xs|Zs);case 31:return As(r,"","",tw,o,kc|Xs|Zs);case 33:return As(r,"","",tw,o,0);case 32:return As(r,"","",tw,o,kc|Xs|Zs);case 18:return Nn(r,2406,2415,!0,n);case 20:return mc(r,1,19999,UK,3,n);case 21:return Nn(r,2790,2799,!0,n);case 22:return Nn(r,2662,2671,!0,n);case 22:return mc(r,1,10999,FK,3,n);case 23:return Wa(r,"");case 24:return Wa(r,"");case 27:return Nn(r,3302,3311,!0,n);case 28:return Wa(r,"",i);case 29:return Wa(r,"",i);case 34:return Nn(r,3792,3801,!0,n);case 37:return Nn(r,6160,6169,!0,n);case 38:return Nn(r,4160,4169,!0,n);case 39:return Nn(r,2918,2927,!0,n);case 40:return Nn(r,1776,1785,!0,n);case 43:return Nn(r,3046,3055,!0,n);case 44:return Nn(r,3174,3183,!0,n);case 45:return Nn(r,3664,3673,!0,n);case 46:return Nn(r,3872,3881,!0,n);case 3:default:return Nn(r,48,57,!0,n)}},D_="data-html2canvas-ignore",wI=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new kK,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=xK(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,a=i.contentWindow,A=a.document,c=PK(i).then(function(){return Gr(n,void 0,void 0,function(){var l,u;return _r(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(QK),a&&(a.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==t.top||a.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),l=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,NK(A)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(A,u)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(OK(document.doctype)+"<html></html>"),MK(this.referenceElement.ownerDocument,o,s),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},r.prototype.createElementClone=function(e){if(xC(e,2))debugger;if(O_(e))return this.createCanvasClone(e);if(lI(e))return this.createVideoClone(e);if(hI(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return LC(t)&&(LC(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),uI(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return nw(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(o,s){return s&&typeof s.cssText=="string"?o+s.cssText:o},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var o=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&o)s.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var a=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(a){var A=a.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Mc(t)||!_K(t)&&!t.hasAttribute(D_)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Mc(t)||!hI(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(Mc(o)&&Q_(o)&&typeof o.assignedNodes=="function"){var s=o.assignedNodes();s.length&&s.forEach(function(a){return i.appendChildNode(t,a,n)})}else this.appendChildNode(t,o,n)},r.prototype.cloneNode=function(e,t){if(P_(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Mc(e)&&(PC(e)||Ff(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var o=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&PC(i)&&(this.clonedReferenceElement=i),Ev(i)&&KK(i);var A=this.counters.parse(new W1(this.context,o)),c=this.resolvePseudoContent(e,i,s,Nh.BEFORE);uI(e)&&(t=!0),lI(e)||this.cloneChildNodes(e,i,t),c&&i.insertBefore(c,i.firstChild);var l=this.resolvePseudoContent(e,i,a,Nh.AFTER);return l&&i.appendChild(l),this.counters.pop(A),(o&&(this.options.copyStyles||Ff(e))&&!M_(e)||t)&&nw(o,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(sg(e)||ag(e))&&(sg(i)||ag(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var o=this;if(n){var s=n.content,a=t.ownerDocument;if(!(!a||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new W1(this.context,n));var A=new I6(this.context,n),c=a.createElement("html2canvaspseudoelement");nw(n,c),A.content.forEach(function(u){if(u.type===0)c.appendChild(a.createTextNode(u.value));else if(u.type===22){var d=a.createElement("img");d.src=u.value,d.style.opacity="1",c.appendChild(d)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(Xt);f.length&&c.appendChild(a.createTextNode(e.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var m=u.values.filter(sl),w=m[0],B=m[1];if(w&&Xt(w)){var y=o.counters.getCounterValue(w.value),b=B&&Xt(B)?UC.parse(o.context,B.value):3;c.appendChild(a.createTextNode(Jh(y,b,!1)))}}else if(u.name==="counters"){var x=u.values.filter(sl),w=x[0],O=x[1],B=x[2];if(w&&Xt(w)){var L=o.counters.getCounterValues(w.value),K=B&&Xt(B)?UC.parse(o.context,B.value):3,H=O&&O.type===0?O.value:"",P=L.map(function(F){return Jh(F,K,!1)}).join(H);c.appendChild(a.createTextNode(P))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(a.createTextNode(z1(A.quotes,o.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(z1(A.quotes,--o.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(u.value))}}),c.className=OC+" "+MC;var l=i===Nh.BEFORE?" "+OC:" "+MC;return Ff(t)?t.className.baseValue+=l:t.className+=l,c}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),Nh;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(Nh||(Nh={}));var xK=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(D_,"true"),r.body.appendChild(t),t},RK=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},NK=function(r){return Promise.all([].slice.call(r.images,0).map(RK))},PK=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),e(r))},50)}})},LK=["all","d","content"],nw=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);LK.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},OK=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},MK=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},QK=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},HK=":before",DK=":after",OC="___html2canvas___pseudoelement_before",MC="___html2canvas___pseudoelement_after",CI=`{
    content: "" !important;
    display: none !important;
}`,KK=function(r){GK(r,"."+OC+HK+CI+`
         .`+MC+DK+CI)},GK=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},K_=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),VK=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(iw(e)||zK(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return Gr(this,void 0,void 0,function(){var t,n,i,o,s=this;return _r(this,function(a){switch(a.label){case 0:return t=K_.isSameOrigin(e),n=!rw(e)&&this._options.useCORS===!0&&pr.SUPPORT_CORS_IMAGES&&!t,i=!rw(e)&&!t&&!iw(e)&&typeof this._options.proxy=="string"&&pr.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!rw(e)&&!iw(e)&&!i&&!n?[2]:(o=e,i?[4,this.proxy(o)]:[3,2]);case 1:o=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,c){var l=new Image;l.onload=function(){return A(l)},l.onerror=c,(WK(o)||n)&&(l.crossOrigin="anonymous"),l.src=o,l.complete===!0&&setTimeout(function(){return A(l)},500),s._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(o,s){var a=pr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(a==="text")o(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return o(u.result)},!1),u.addEventListener("error",function(d){return s(d)},!1),u.readAsDataURL(A.response)}else s("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=s;var c=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;A.timeout=l,A.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+i)}}A.send()})},r}(),qK=/^data:image\/svg\+xml/i,$K=/^data:image\/.*;base64,/i,jK=/^data:image\/.*/i,zK=function(r){return pr.SUPPORT_SVG_DRAWING||!YK(r)},rw=function(r){return jK.test(r)},WK=function(r){return $K.test(r)},iw=function(r){return r.substr(0,4)==="blob"},YK=function(r){return r.substr(-3).toLowerCase()==="svg"||qK.test(r)},Ge=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),wc=function(r,e,t){return new Ge(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},Jd=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=wc(this.start,this.startControl,e),i=wc(this.startControl,this.endControl,e),o=wc(this.endControl,this.end,e),s=wc(n,i,e),a=wc(i,o,e),A=wc(s,a,e);return t?new r(this.start,n,s,A):new r(A,a,o,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),Ri=function(r){return r.type===1},JK=function(){function r(e){var t=e.styles,n=e.bounds,i=mh(t.borderTopLeftRadius,n.width,n.height),o=i[0],s=i[1],a=mh(t.borderTopRightRadius,n.width,n.height),A=a[0],c=a[1],l=mh(t.borderBottomRightRadius,n.width,n.height),u=l[0],d=l[1],f=mh(t.borderBottomLeftRadius,n.width,n.height),m=f[0],w=f[1],B=[];B.push((o+A)/n.width),B.push((m+u)/n.width),B.push((s+w)/n.height),B.push((c+d)/n.height);var y=Math.max.apply(Math,B);y>1&&(o/=y,s/=y,A/=y,c/=y,u/=y,d/=y,m/=y,w/=y);var b=n.width-A,x=n.height-d,O=n.width-u,L=n.height-w,K=t.borderTopWidth,H=t.borderRightWidth,P=t.borderBottomWidth,q=t.borderLeftWidth,ee=An(t.paddingTop,e.bounds.width),F=An(t.paddingRight,e.bounds.width),R=An(t.paddingBottom,e.bounds.width),$=An(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||s>0?fn(n.left+q/3,n.top+K/3,o-q/3,s-K/3,Ht.TOP_LEFT):new Ge(n.left+q/3,n.top+K/3),this.topRightBorderDoubleOuterBox=o>0||s>0?fn(n.left+b,n.top+K/3,A-H/3,c-K/3,Ht.TOP_RIGHT):new Ge(n.left+n.width-H/3,n.top+K/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?fn(n.left+O,n.top+x,u-H/3,d-P/3,Ht.BOTTOM_RIGHT):new Ge(n.left+n.width-H/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=m>0||w>0?fn(n.left+q/3,n.top+L,m-q/3,w-P/3,Ht.BOTTOM_LEFT):new Ge(n.left+q/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=o>0||s>0?fn(n.left+q*2/3,n.top+K*2/3,o-q*2/3,s-K*2/3,Ht.TOP_LEFT):new Ge(n.left+q*2/3,n.top+K*2/3),this.topRightBorderDoubleInnerBox=o>0||s>0?fn(n.left+b,n.top+K*2/3,A-H*2/3,c-K*2/3,Ht.TOP_RIGHT):new Ge(n.left+n.width-H*2/3,n.top+K*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?fn(n.left+O,n.top+x,u-H*2/3,d-P*2/3,Ht.BOTTOM_RIGHT):new Ge(n.left+n.width-H*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||w>0?fn(n.left+q*2/3,n.top+L,m-q*2/3,w-P*2/3,Ht.BOTTOM_LEFT):new Ge(n.left+q*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=o>0||s>0?fn(n.left+q/2,n.top+K/2,o-q/2,s-K/2,Ht.TOP_LEFT):new Ge(n.left+q/2,n.top+K/2),this.topRightBorderStroke=o>0||s>0?fn(n.left+b,n.top+K/2,A-H/2,c-K/2,Ht.TOP_RIGHT):new Ge(n.left+n.width-H/2,n.top+K/2),this.bottomRightBorderStroke=u>0||d>0?fn(n.left+O,n.top+x,u-H/2,d-P/2,Ht.BOTTOM_RIGHT):new Ge(n.left+n.width-H/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=m>0||w>0?fn(n.left+q/2,n.top+L,m-q/2,w-P/2,Ht.BOTTOM_LEFT):new Ge(n.left+q/2,n.top+n.height-P/2),this.topLeftBorderBox=o>0||s>0?fn(n.left,n.top,o,s,Ht.TOP_LEFT):new Ge(n.left,n.top),this.topRightBorderBox=A>0||c>0?fn(n.left+b,n.top,A,c,Ht.TOP_RIGHT):new Ge(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||d>0?fn(n.left+O,n.top+x,u,d,Ht.BOTTOM_RIGHT):new Ge(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||w>0?fn(n.left,n.top+L,m,w,Ht.BOTTOM_LEFT):new Ge(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||s>0?fn(n.left+q,n.top+K,Math.max(0,o-q),Math.max(0,s-K),Ht.TOP_LEFT):new Ge(n.left+q,n.top+K),this.topRightPaddingBox=A>0||c>0?fn(n.left+Math.min(b,n.width-H),n.top+K,b>n.width+H?0:Math.max(0,A-H),Math.max(0,c-K),Ht.TOP_RIGHT):new Ge(n.left+n.width-H,n.top+K),this.bottomRightPaddingBox=u>0||d>0?fn(n.left+Math.min(O,n.width-q),n.top+Math.min(x,n.height-P),Math.max(0,u-H),Math.max(0,d-P),Ht.BOTTOM_RIGHT):new Ge(n.left+n.width-H,n.top+n.height-P),this.bottomLeftPaddingBox=m>0||w>0?fn(n.left+q,n.top+Math.min(L,n.height-P),Math.max(0,m-q),Math.max(0,w-P),Ht.BOTTOM_LEFT):new Ge(n.left+q,n.top+n.height-P),this.topLeftContentBox=o>0||s>0?fn(n.left+q+$,n.top+K+ee,Math.max(0,o-(q+$)),Math.max(0,s-(K+ee)),Ht.TOP_LEFT):new Ge(n.left+q+$,n.top+K+ee),this.topRightContentBox=A>0||c>0?fn(n.left+Math.min(b,n.width+q+$),n.top+K+ee,b>n.width+q+$?0:A-q+$,c-(K+ee),Ht.TOP_RIGHT):new Ge(n.left+n.width-(H+F),n.top+K+ee),this.bottomRightContentBox=u>0||d>0?fn(n.left+Math.min(O,n.width-(q+$)),n.top+Math.min(x,n.height+K+ee),Math.max(0,u-(H+F)),d-(P+R),Ht.BOTTOM_RIGHT):new Ge(n.left+n.width-(H+F),n.top+n.height-(P+R)),this.bottomLeftContentBox=m>0||w>0?fn(n.left+q+$,n.top+L,Math.max(0,m-(q+$)),w-(P+R),Ht.BOTTOM_LEFT):new Ge(n.left+q+$,n.top+n.height-(P+R))}return r}(),Ht;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ht||(Ht={}));var fn=function(r,e,t,n,i){var o=4*((Math.sqrt(2)-1)/3),s=t*o,a=n*o,A=r+t,c=e+n;switch(i){case Ht.TOP_LEFT:return new Jd(new Ge(r,c),new Ge(r,c-a),new Ge(A-s,e),new Ge(A,e));case Ht.TOP_RIGHT:return new Jd(new Ge(r,e),new Ge(r+s,e),new Ge(A,c-a),new Ge(A,c));case Ht.BOTTOM_RIGHT:return new Jd(new Ge(A,e),new Ge(A,e+a),new Ge(r+s,c),new Ge(r,c));case Ht.BOTTOM_LEFT:default:return new Jd(new Ge(A,c),new Ge(A-s,c),new Ge(r,e+a),new Ge(r,e))}},Ag=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},XK=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},cg=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},ZK=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),Xd=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),e8=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),t8=function(r){return r.type===0},G_=function(r){return r.type===1},n8=function(r){return r.type===2},yI=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},r8=function(r,e,t,n,i){return r.map(function(o,s){switch(s){case 0:return o.add(e,t);case 1:return o.add(e+n,t);case 2:return o.add(e+n,t+i);case 3:return o.add(e,t+i)}return o})},V_=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),q_=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new JK(this.container),this.container.styles.opacity<1&&this.effects.push(new e8(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new ZK(n,i,o))}if(this.container.styles.overflowX!==0){var s=Ag(this.curves),a=cg(this.curves);yI(s,a)?this.effects.push(new Xd(s,6)):(this.effects.push(new Xd(s,2)),this.effects.push(new Xd(a,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var o=n.effects.filter(function(A){return!G_(A)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,o),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=Ag(n.curves),a=cg(n.curves);yI(s,a)||i.unshift(new Xd(a,6))}}else i.unshift.apply(i,o);n=n.parent}return i.filter(function(A){return zn(A.target,e)})},r}(),QC=function(r,e,t,n){r.container.elements.forEach(function(i){var o=zn(i.flags,4),s=zn(i.flags,2),a=new q_(i,r);zn(i.styles.display,2048)&&n.push(a);var A=zn(i.flags,8)?[]:n;if(o||s){var c=o||i.styles.isPositioned()?t:e,l=new V_(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some(function(m,w){return u>m.element.container.styles.zIndex.order?(d=w,!1):d>0}),c.negativeZIndex.splice(d,0,l)}else if(u>0){var f=0;c.positiveZIndex.some(function(m,w){return u>=m.element.container.styles.zIndex.order?(f=w+1,!1):f>0}),c.positiveZIndex.splice(f,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);QC(a,l,o?l:t,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),QC(a,e,t,A);zn(i.flags,8)&&$_(i,A)})},$_=function(r,e){for(var t=r instanceof NC?r.start:1,n=r instanceof NC?r.reversed:!1,i=0;i<e.length;i++){var o=e[i];o.container instanceof k_&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=Jh(t,o.container.styles.listStyleType,!0),t+=n?-1:1}},i8=function(r){var e=new q_(r,null),t=new V_(e),n=[];return QC(e,t,t,n),$_(e.container,n),t},vI=function(r,e){switch(e){case 0:return Pi(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Pi(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Pi(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Pi(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},o8=function(r,e){switch(e){case 0:return Pi(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Pi(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Pi(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Pi(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},s8=function(r,e){switch(e){case 0:return Pi(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Pi(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Pi(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Pi(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},a8=function(r,e){switch(e){case 0:return Zd(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Zd(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Zd(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Zd(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Zd=function(r,e){var t=[];return Ri(r)?t.push(r.subdivide(.5,!1)):t.push(r),Ri(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Pi=function(r,e,t,n){var i=[];return Ri(r)?i.push(r.subdivide(.5,!1)):i.push(r),Ri(t)?i.push(t.subdivide(.5,!0)):i.push(t),Ri(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ri(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},j_=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},lg=function(r){var e=r.styles,t=r.bounds,n=An(e.paddingLeft,t.width),i=An(e.paddingRight,t.width),o=An(e.paddingTop,t.width),s=An(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+o+s))},A8=function(r,e){return r===0?e.bounds:r===2?lg(e):j_(e)},c8=function(r,e){return r===0?e.bounds:r===2?lg(e):j_(e)},ow=function(r,e,t){var n=A8(Fc(r.styles.backgroundOrigin,e),r),i=c8(Fc(r.styles.backgroundClip,e),r),o=l8(Fc(r.styles.backgroundSize,e),t,n),s=o[0],a=o[1],A=mh(Fc(r.styles.backgroundPosition,e),n.width-s,n.height-a),c=h8(Fc(r.styles.backgroundRepeat,e),A,o,n,i),l=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[c,l,u,s,a]},Cc=function(r){return Xt(r)&&r.value===Wc.AUTO},ef=function(r){return typeof r=="number"},l8=function(r,e,t){var n=e[0],i=e[1],o=e[2],s=r[0],a=r[1];if(!s)return[0,0];if(qn(s)&&a&&qn(a))return[An(s,t.width),An(a,t.height)];var A=ef(o);if(Xt(s)&&(s.value===Wc.CONTAIN||s.value===Wc.COVER)){if(ef(o)){var c=t.width/t.height;return c<o!=(s.value===Wc.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var l=ef(n),u=ef(i),d=l||u;if(Cc(s)&&(!a||Cc(a))){if(l&&u)return[n,i];if(!A&&!d)return[t.width,t.height];if(d&&A){var f=l?n:i*o,m=u?i:n/o;return[f,m]}var w=l?n:t.width,B=u?i:t.height;return[w,B]}if(A){var y=0,b=0;return qn(s)?y=An(s,t.width):qn(a)&&(b=An(a,t.height)),Cc(s)?y=b*o:(!a||Cc(a))&&(b=y/o),[y,b]}var x=null,O=null;if(qn(s)?x=An(s,t.width):a&&qn(a)&&(O=An(a,t.height)),x!==null&&(!a||Cc(a))&&(O=l&&u?x/n*i:t.height),O!==null&&Cc(s)&&(x=l&&u?O/i*n:t.width),x!==null&&O!==null)return[x,O];throw new Error("Unable to calculate background-size for element")},Fc=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},h8=function(r,e,t,n,i){var o=e[0],s=e[1],a=t[0],A=t[1];switch(r){case 2:return[new Ge(Math.round(n.left),Math.round(n.top+s)),new Ge(Math.round(n.left+n.width),Math.round(n.top+s)),new Ge(Math.round(n.left+n.width),Math.round(A+n.top+s)),new Ge(Math.round(n.left),Math.round(A+n.top+s))];case 3:return[new Ge(Math.round(n.left+o),Math.round(n.top)),new Ge(Math.round(n.left+o+a),Math.round(n.top)),new Ge(Math.round(n.left+o+a),Math.round(n.height+n.top)),new Ge(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new Ge(Math.round(n.left+o),Math.round(n.top+s)),new Ge(Math.round(n.left+o+a),Math.round(n.top+s)),new Ge(Math.round(n.left+o+a),Math.round(n.top+s+A)),new Ge(Math.round(n.left+o),Math.round(n.top+s+A))];default:return[new Ge(Math.round(i.left),Math.round(i.top)),new Ge(Math.round(i.left+i.width),Math.round(i.top)),new Ge(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ge(Math.round(i.left),Math.round(i.height+i.top))]}},u8="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",BI="Hidden Text",d8=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=u8,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(BI)),n.appendChild(o),n.appendChild(i);var a=i.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(BI)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:a,middle:A}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),z_=function(){function r(e,t){this.context=e,this.options=t}return r}(),f8=1e4,g8=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new d8(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),n8(t)&&(this.ctx.globalAlpha=t.opacity),t8(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),G_(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Gr(this,void 0,void 0,function(){var n;return _r(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Gr(this,void 0,void 0,function(){return _r(this,function(n){switch(n.label){case 0:if(zn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var o=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var s=bv(t.text);s.reduce(function(a,A){return o.ctx.fillText(A,a,t.bounds.top+i),a+o.ctx.measureText(A).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=y8(t.fontFamily).join(", "),o=cu(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,o,i].join(" "),i,o]},e.prototype.renderTextNode=function(t,n){return Gr(this,void 0,void 0,function(){var i,o,s,a,A,c,l,u,d=this;return _r(this,function(f){return i=this.createFontStyle(n),o=i[0],s=i[1],a=i[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(s,a),c=A.baseline,l=A.middle,u=n.paintOrder,t.textBounds.forEach(function(m){u.forEach(function(w){switch(w){case 0:d.ctx.fillStyle=rr(n.color),d.renderTextWithLetterSpacing(m,n.letterSpacing,c);var B=n.textShadow;B.length&&m.text.trim().length&&(B.slice(0).reverse().forEach(function(y){d.ctx.shadowColor=rr(y.color),d.ctx.shadowOffsetX=y.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=y.offsetY.number*d.options.scale,d.ctx.shadowBlur=y.blur.number,d.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),n.textDecorationLine.length&&(d.ctx.fillStyle=rr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:d.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:d.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:d.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+l),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(d.ctx.strokeStyle=rr(n.webkitTextStrokeColor),d.ctx.lineWidth=n.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=lg(t),s=cg(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Gr(this,void 0,void 0,function(){var n,i,o,s,a,A,b,b,c,l,u,d,O,f,m,L,w,B,y,b,x,O,L;return _r(this,function(K){switch(K.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,o=n.styles,s=0,a=n.textNodes,K.label=1;case 1:return s<a.length?(A=a[s],[4,this.renderTextNode(A,o)]):[3,4];case 2:K.sent(),K.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof S_))return[3,8];K.label=5;case 5:return K.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=K.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return K.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof T_&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof __))return[3,12];K.label=9;case 9:return K.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=K.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return K.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof x_&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:l=K.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),K.label=14;case 14:if(n instanceof Iv&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===ig?n.checked&&(this.ctx.save(),this.path([new Ge(n.bounds.left+u*.39363,n.bounds.top+u*.79),new Ge(n.bounds.left+u*.16,n.bounds.top+u*.5549),new Ge(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new Ge(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new Ge(n.bounds.left+u*.72983,n.bounds.top+u*.23),new Ge(n.bounds.left+u*.84,n.bounds.top+u*.34085),new Ge(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=rr(cI),this.ctx.fill(),this.ctx.restore()):n.type===og&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=rr(cI),this.ctx.fill(),this.ctx.restore())),p8(n)&&n.value.length){switch(d=this.createFontStyle(o),O=d[0],f=d[1],m=this.fontMetrics.getMetrics(O,f).baseline,this.ctx.font=O,this.ctx.fillStyle=rr(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=w8(n.styles.textAlign),L=lg(n),w=0,n.styles.textAlign){case 1:w+=L.width/2;break;case 2:w+=L.width;break}B=L.add(w,0,0,-L.height/2+1),this.ctx.save(),this.path([new Ge(L.left,L.top),new Ge(L.left+L.width,L.top),new Ge(L.left+L.width,L.top+L.height),new Ge(L.left,L.top+L.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Rh(n.value,B),o.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!zn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];b=void 0,x=y.url,K.label=15;case 15:return K.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return b=K.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return K.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(O=this.createFontStyle(o)[0],this.ctx.font=O,this.ctx.fillStyle=rr(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",L=new _s(n.bounds.left,n.bounds.top+An(n.styles.paddingTop,n.bounds.width),n.bounds.width,$1(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Rh(t.listValue,L),o.letterSpacing,$1(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),K.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Gr(this,void 0,void 0,function(){var n,i,y,o,s,y,a,A,y,c,l,y,u,d,y,f,m,y,w,B,y;return _r(this,function(b){switch(b.label){case 0:if(zn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:b.sent(),n=0,i=t.negativeZIndex,b.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:b.sent(),o=0,s=t.nonInlineLevel,b.label=7;case 7:return o<s.length?(y=s[o],[4,this.renderNode(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return o++,[3,7];case 10:a=0,A=t.nonPositionedFloats,b.label=11;case 11:return a<A.length?(y=A[a],[4,this.renderStack(y)]):[3,14];case 12:b.sent(),b.label=13;case 13:return a++,[3,11];case 14:c=0,l=t.nonPositionedInlineLevel,b.label=15;case 15:return c<l.length?(y=l[c],[4,this.renderStack(y)]):[3,18];case 16:b.sent(),b.label=17;case 17:return c++,[3,15];case 18:u=0,d=t.inlineLevel,b.label=19;case 19:return u<d.length?(y=d[u],[4,this.renderNode(y)]):[3,22];case 20:b.sent(),b.label=21;case 21:return u++,[3,19];case 22:f=0,m=t.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return f<m.length?(y=m[f],[4,this.renderStack(y)]):[3,26];case 24:b.sent(),b.label=25;case 25:return f++,[3,23];case 26:w=0,B=t.positiveZIndex,b.label=27;case 27:return w<B.length?(y=B[w],[4,this.renderStack(y)]):[3,30];case 28:b.sent(),b.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,o){var s=Ri(i)?i.start:i;o===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),Ri(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,o){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},e.prototype.resizeImage=function(t,n,i){var o;if(t.width===n&&t.height===i)return t;var s=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,a=s.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,i);var A=a.getContext("2d");return A.drawImage(t,0,0,t.width,t.height,0,0,n,i),a},e.prototype.renderBackgroundImage=function(t){return Gr(this,void 0,void 0,function(){var n,i,o,s,a,A;return _r(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,i=function(l){var u,d,f,ee,ne,se,$,V,P,m,ee,ne,se,$,V,w,B,y,b,x,O,L,K,H,P,q,ee,F,R,$,V,ie,ne,se,re,ue,pe,Ue,S,Q,G,z;return _r(this,function(X){switch(X.label){case 0:if(l.type!==0)return[3,5];u=void 0,d=l.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,o.context.cache.match(d)];case 2:return u=X.sent(),[3,4];case 3:return X.sent(),o.context.logger.error("Error loading background-image "+d),[3,4];case 4:return u&&(f=ow(t,n,[u.width,u.height,u.width/u.height]),ee=f[0],ne=f[1],se=f[2],$=f[3],V=f[4],P=o.ctx.createPattern(o.resizeImage(u,$,V),"repeat"),o.renderRepeat(ee,P,ne,se)),[3,6];case 5:t3(l)?(m=ow(t,n,[null,null,null]),ee=m[0],ne=m[1],se=m[2],$=m[3],V=m[4],w=YD(l.angle,$,V),B=w[0],y=w[1],b=w[2],x=w[3],O=w[4],L=document.createElement("canvas"),L.width=$,L.height=V,K=L.getContext("2d"),H=K.createLinearGradient(y,x,b,O),V1(l.stops,B).forEach(function(ce){return H.addColorStop(ce.stop,rr(ce.color))}),K.fillStyle=H,K.fillRect(0,0,$,V),$>0&&V>0&&(P=o.ctx.createPattern(L,"repeat"),o.renderRepeat(ee,P,ne,se))):n3(l)&&(q=ow(t,n,[null,null,null]),ee=q[0],F=q[1],R=q[2],$=q[3],V=q[4],ie=l.position.length===0?[yv]:l.position,ne=An(ie[0],$),se=An(ie[ie.length-1],V),re=JD(l,ne,se,$,V),ue=re[0],pe=re[1],ue>0&&pe>0&&(Ue=o.ctx.createRadialGradient(F+ne,R+se,0,F+ne,R+se,ue),V1(l.stops,ue*2).forEach(function(ce){return Ue.addColorStop(ce.stop,rr(ce.color))}),o.path(ee),o.ctx.fillStyle=Ue,ue!==pe?(S=t.bounds.left+.5*t.bounds.width,Q=t.bounds.top+.5*t.bounds.height,G=pe/ue,z=1/G,o.ctx.save(),o.ctx.translate(S,Q),o.ctx.transform(1,0,0,G,0,0),o.ctx.translate(-S,-Q),o.ctx.fillRect(F,z*(R-Q)+Q,$,V*z),o.ctx.restore()):o.ctx.fill())),X.label=6;case 6:return n--,[2]}})},o=this,s=0,a=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return s<a.length?(A=a[s],[5,i(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return Gr(this,void 0,void 0,function(){return _r(this,function(o){return this.path(vI(i,n)),this.ctx.fillStyle=rr(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,o){return Gr(this,void 0,void 0,function(){var s,a;return _r(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,o)]:[3,2];case 1:return A.sent(),[2];case 2:return s=o8(o,i),this.path(s),this.ctx.fillStyle=rr(t),this.ctx.fill(),a=s8(o,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Gr(this,void 0,void 0,function(){var n,i,o,s,a,A,c,l,u=this;return _r(this,function(d){switch(d.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!ga(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=m8(Fc(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),ga(n.backgroundColor)||(this.ctx.fillStyle=rr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var m=Ag(t.curves),w=f.inset?0:f8,B=r8(m,-w+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(m),u.ctx.clip(),u.mask(B)):(u.mask(m),u.ctx.clip(),u.path(B)),u.ctx.shadowOffsetX=f.offsetX.number+w,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=rr(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?rr(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),d.label=2;case 2:a=0,A=0,c=o,d.label=3;case 3:return A<c.length?(l=c[A],l.style!==0&&!ga(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,a,t.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,a,t.curves,3)];case 6:return d.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,a,t.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,a,t.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,o,s){return Gr(this,void 0,void 0,function(){var a,A,c,l,u,d,f,m,w,B,y,b,x,O,L,K,L,K;return _r(this,function(H){return this.ctx.save(),a=a8(o,i),A=vI(o,i),s===2&&(this.path(A),this.ctx.clip()),Ri(A[0])?(c=A[0].start.x,l=A[0].start.y):(c=A[0].x,l=A[0].y),Ri(A[1])?(u=A[1].end.x,d=A[1].end.y):(u=A[1].x,d=A[1].y),i===0||i===2?f=Math.abs(c-u):f=Math.abs(l-d),this.ctx.beginPath(),s===3?this.formatPath(a):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,w=n<3?n*2:n,s===3&&(m=n,w=n),B=!0,f<=m*2?B=!1:f<=m*2+w?(y=f/(2*m+w),m*=y,w*=y):(b=Math.floor((f+w)/(m+w)),x=(f-b*m)/(b-1),O=(f-(b+1)*m)/b,w=O<=0||Math.abs(w-x)<Math.abs(w-O)?x:O),B&&(s===3?this.ctx.setLineDash([0,m+w]):this.ctx.setLineDash([m,w])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=rr(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Ri(A[0])&&(L=A[3],K=A[0],this.ctx.beginPath(),this.formatPath([new Ge(L.end.x,L.end.y),new Ge(K.start.x,K.start.y)]),this.ctx.stroke()),Ri(A[1])&&(L=A[1],K=A[2],this.ctx.beginPath(),this.formatPath([new Ge(L.end.x,L.end.y),new Ge(K.start.x,K.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Gr(this,void 0,void 0,function(){var n;return _r(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=i8(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(z_),p8=function(r){return r instanceof U_||r instanceof F_?!0:r instanceof Iv&&r.type!==og&&r.type!==ig},m8=function(r,e){switch(r){case 0:return Ag(e);case 2:return XK(e);case 1:default:return cg(e)}},w8=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},C8=["-apple-system","system-ui"],y8=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return C8.indexOf(e)===-1}):r},v8=function(r){ho(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return Gr(this,void 0,void 0,function(){var n,i;return _r(this,function(o){switch(o.label){case 0:return n=RC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,B8(n)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(z_),B8=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},b8=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,xd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,xd([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,xd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,xd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),I8=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new b8({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new VK(this,e)}return r.instanceCount=1,r}(),W_=function(r,e){return e===void 0&&(e={}),E8(r,e)};typeof window<"u"&&K_.setContext(window);var E8=function(r,e){return Gr(void 0,void 0,void 0,function(){var t,n,i,o,s,a,A,c,l,u,d,f,m,w,B,y,b,x,O,L,H,K,H,P,q,ee,F,R,$,V,ie,ne,se,re,ue,pe,Ue,S,Q,G;return _r(this,function(z){switch(z.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(q=e.imageTimeout)!==null&&q!==void 0?q:15e3,proxy:e.proxy,useCORS:(ee=e.useCORS)!==null&&ee!==void 0?ee:!1},o=wC({logging:(F=e.logging)!==null&&F!==void 0?F:!0,cache:e.cache},i),s={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:($=e.windowHeight)!==null&&$!==void 0?$:n.innerHeight,scrollX:(V=e.scrollX)!==null&&V!==void 0?V:n.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},a=new _s(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),A=new I8(o,a),c=(ne=e.foreignObjectRendering)!==null&&ne!==void 0?ne:!1,l={allowTaint:(se=e.allowTaint)!==null&&se!==void 0?se:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),u=new wI(A,r,l),d=u.clonedReferenceElement,d?[4,u.toIFrame(t,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=z.sent(),m=Ev(d)||TK(d)?rH(d.ownerDocument):Kg(A,d),w=m.width,B=m.height,y=m.left,b=m.top,x=S8(A,d,e.backgroundColor),O={canvas:e.canvas,backgroundColor:x,scale:(ue=(re=e.scale)!==null&&re!==void 0?re:n.devicePixelRatio)!==null&&ue!==void 0?ue:1,x:((pe=e.x)!==null&&pe!==void 0?pe:0)+y,y:((Ue=e.y)!==null&&Ue!==void 0?Ue:0)+b,width:(S=e.width)!==null&&S!==void 0?S:Math.ceil(w),height:(Q=e.height)!==null&&Q!==void 0?Q:Math.ceil(B)},c?(A.logger.debug("Document cloned, using foreign object rendering"),H=new v8(A,O),[4,H.render(d)]):[3,3];case 2:return L=z.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+b+" with size "+w+"x"+B+" using computed rendering"),A.logger.debug("Starting DOM parsing"),K=N_(A,d),x===K.styles.backgroundColor&&(K.styles.backgroundColor=Es.TRANSPARENT),A.logger.debug("Starting renderer for element at "+O.x+","+O.y+" with size "+O.width+"x"+O.height),H=new g8(A,O),[4,H.render(K)];case 4:L=z.sent(),z.label=5;case 5:return(!((G=e.removeContainer)!==null&&G!==void 0)||G)&&(wI.destroy(f)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,L]}})})},S8=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?Uh(r,getComputedStyle(n.documentElement).backgroundColor):Es.TRANSPARENT,o=n.body?Uh(r,getComputedStyle(n.body).backgroundColor):Es.TRANSPARENT,s=typeof t=="string"?Uh(r,t):t===null?Es.TRANSPARENT:4294967295;return e===n.documentElement?ga(i)?ga(o)?s:o:i:s};const T8=Object.freeze(Object.defineProperty({__proto__:null,default:W_},Symbol.toStringTag,{value:"Module"}));async function _8(r,e){const t=new ot("p","mm","a4"),n=document.getElementById("pdf-content");n.classList.add("is-rendering");const i=await W_(n,{scale:2,useCORS:!0});n.classList.remove("is-rendering");const o=i.toDataURL("image/jpeg",.95),s=t.internal.pageSize.getWidth(),a=t.internal.pageSize.getHeight(),A=s-20,c=A*(i.height/i.width);if(t.addImage(o,"JPEG",10,10,A,c),e!=null&&e.length){const l=[{x:10,y:25,w:(s-30)/2,h:(a-40)/2},{x:20+(s-30)/2,y:25,w:(s-30)/2,h:(a-40)/2},{x:10,y:25+(a-40)/2,w:(s-30)/2,h:(a-40)/2},{x:20+(s-30)/2,y:25+(a-40)/2,w:(s-30)/2,h:(a-40)/2}];t.addPage(),t.setFontSize(16),t.text("Relatrio fotogrfico",10,15);for(let u=0;u<e.length;u++){u&&u%4===0&&(t.addPage(),t.text("Relatrio fotogrfico",10,15));const d=l[u%4],f=await k8(e[u]);t.addImage(f,"JPEG",d.x,d.y,d.w,d.h)}}t.save(`auditoria_${r.MetaKey}_${r.DataAuditoria}.pdf`)}function k8(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>e(String(n.result)),n.onerror=t,n.readAsDataURL(r)})}function F8(r,e,t){let n=new Date(r.toString());switch(e.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+t);break;case"quarter":n.setMonth(n.getMonth()+3*t);break;case"month":n.setMonth(n.getMonth()+t);break;case"week":n.setDate(n.getDate()+7*t);break;case"day":n.setDate(n.getDate()+t);break;case"hour":n.setTime(n.getTime()+t*36e5);break;case"minute":n.setTime(n.getTime()+t*6e4);break;case"second":n.setTime(n.getTime()+t*1e3);break;default:n=void 0;break}return n}function Yn(...r){return r.filter(e=>!Ta(e)).map(e=>e.replace(/^[\\|/]/,"").replace(/[\\|/]$/,"")).join("/").replace(/\\/g,"/")}function Xh(){let r=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(e==="x"?t:t&3|8).toString(16)})}function pa(r){return typeof r=="function"}function ks(r){return Array.isArray(r)}function Ko(r){return/^https?:\/\/|^\/\//i.test(r)}function Ta(r){return typeof r>"u"||r===null||r.length<1}function ro(r){return typeof r<"u"&&r!==null}function U8(r){return JSON.stringify(r)}function ar(r,e){return Object.hasOwnProperty.call(r,e)}function x8(r){return new Promise(e=>{setTimeout(e,r)})}function Y_(){return function(r,...e){const t=[...r];for(let n=0;n<t.length;n++)Reflect.apply(t[n],this,e)}}function R8(){return function(r,...e){return[...r].reduce((n,i)=>Reflect.apply(i,this,n),e)}}function tf(){return async function(r,...e){return[...r].reduce((n,i)=>n.then(o=>Reflect.apply(i,this,o)),Promise.resolve(e))}}function N8(){return async function(r,...e){if(!ks(r)||r.length<1)return;const t=r[0];return Reflect.apply(t,this,e)}}function J_(){return function(r,...e){const t=[...r];for(let n=0;n<t.length;n++)Reflect.apply(t[n],this,e);return this}}const HC=Symbol.for("ObserverLifecycleFlags"),X_=r=>e=>!((e[HC]||0)&r),P8=r=>e=>(e[HC]=(e[HC]||0)|r,e),Z_=P8(1);class L8{constructor(e,t={}){this.moments=e,this.observers=t,this._onProxy=null,this._emitProxy=null,this._inheritingObservers=!0}using(...e){for(let t=0;t<e.length;t++)e[t](this);return this}get on(){return this._onProxy===null&&(this._onProxy=new Proxy(this,{get:(e,t)=>Object.assign(n=>(e.cloneObserversOnChange(),sw(e.observers,t,n,1),e),{toArray:()=>Reflect.has(e.observers,t)?[...Reflect.get(e.observers,t)]:[],replace:n=>(e.cloneObserversOnChange(),sw(e.observers,t,n,3),e),prepend:n=>(e.cloneObserversOnChange(),sw(e.observers,t,n,2),e),clear:()=>Reflect.has(e.observers,t)?(e.cloneObserversOnChange(),e.observers[t].length=0,!0):!1})})),this._onProxy}log(e,t=0){this.emit.log(e,t)}error(e){ro(e)&&this.emit.error(e)}get emit(){return this._emitProxy===null&&(this._emitProxy=new Proxy(this,{get:(e,t)=>(...n)=>{const i=Reflect.has(e.observers,t)?Reflect.get(e.observers,t):[];if((!ks(i)||i.length<1)&&t==="error")throw Error(`Unhandled Exception: ${n[0]}`);try{const o=Reflect.has(e.moments,t)?Reflect.get(e.moments,t):t==="init"||t==="dispose"?J_():Y_();return Reflect.apply(o,e,[i,...n])}catch(o){if(t!=="error")this.error(o);else throw o}finally{i&&i.length>0&&Reflect.set(e.observers,t,i.filter(X_(2)))}}})),this._emitProxy}start(e){this.emit.init();const t=this.execute(e);return t.finally(()=>{try{this.emit.dispose()}catch(n){const i=Object.assign(Error("Error in dispose."),{innerException:n});this.error(i)}}).catch(()=>{}),t}cloneObserversOnChange(){this._inheritingObservers&&(this._inheritingObservers=!1,this.observers=e5(this.observers))}}function sw(r,e,t,n){if(!pa(t))throw Error("Observers must be functions.");if(!Reflect.has(r,e))r[e]=[t];else switch(n){case 1:r[e].push(t);break;case 2:r[e].unshift(t);break;case 3:r[e].length=0,r[e].push(t);break}return r[e]}function e5(r){return Reflect.ownKeys(r).reduce((e,t)=>(e[t]=[...r[t].filter(X_(1))],e),{})}function hg(r,e="append",t){return n=>Reflect.apply(O8,n,[r,e,t])}function O8(r,e,t){if(!ro(r)||!ro(r.observers))return this;pa(t)||(t=()=>!0);const n=e5(r.observers),i=Object.keys(n).filter(t);for(let o=0;o<i.length;o++){const s=i[o],a=this.on[s];e==="replace"&&a.clear(),n[s].forEach(c=>a(c))}return this}function M8(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}const Q8={construct:J_(),pre:tf(),auth:tf(),send:N8(),parse:tf(),post:tf(),data:Y_()};let DC=class extends L8{constructor(e,t){super(Q8),this.InternalResolve=Symbol.for("Queryable_Resolve"),this.InternalReject=Symbol.for("Queryable_Reject"),this.InternalPromise=Symbol.for("Queryable_Promise"),this._query=new URLSearchParams,this.moments[this.InternalPromise]=R8();let n;if(typeof e=="string")this._url=Yn(e,t);else if(ks(e)){if(e.length!==2)throw Error("When using the tuple param exactly two arguments are expected.");if(typeof e[1]!="string")throw Error("Expected second tuple param to be a string.");n=e[0],this._url=Yn(e[1],t)}else n=e,this._url=Yn(n._url,t);typeof n<"u"&&(this.observers=n.observers,this._inheritingObservers=!0)}concat(e){return this._url+=e,this}toRequestUrl(){let e=this.toUrl();const t=this.query.toString();return Ta(t)||(e+=`${e.indexOf("?")>-1?"&":"?"}${t}`),e}get query(){return this._query}toUrl(){return this._url}execute(e){if(Reflect.ownKeys(this.observers).length<1)throw Error("No observers registered for this request. (https://pnp.github.io/pnpjs/queryable/queryable#no-observers-registered-for-this-request)");return setTimeout(async()=>{const t=Xh();let n;const i=(o,s)=>{this.log(`[${t}] ${o}`,s)};try{i("Beginning request",0);const o={...e,headers:{...e.headers,"X-PnPjs-RequestId":t}};let[s,a,A]=await this.emit.pre(this.toRequestUrl(),o,void 0);if(i(`Url: ${s}`,1),typeof A<"u"){i("Result returned from pre, Emitting data"),this.emit.data(A),i("Emitted data");return}i("Emitting auth"),[n,a]=await this.emit.auth(new URL(s),a),i("Emitted auth"),a={...a,...e,headers:{...a.headers,...e.headers}},i("Emitting send");let c=await this.emit.send(n,a);i("Emitted send"),i("Emitting parse"),[n,c,A]=await this.emit.parse(n,c,A),i("Emitted parse"),i("Emitting post"),[n,A]=await this.emit.post(n,A),i("Emitted post"),i("Emitting data"),this.emit.data(A),i("Emitted data")}catch(o){i(`Emitting error: "${o.message||o}"`,3),this.error(o),i("Emitted error",3)}finally{i("Finished request",0)}},0),this.emit[this.InternalPromise](new Promise((t,n)=>{this.on[this.InternalResolve].replace(t),this.on[this.InternalReject].replace(n)}))[0]}};DC=M8([K8()],DC);function t5(r,e={headers:{}}){return{method:r,...e,headers:{...e.headers}}}function n5(r){return this.start(t5("GET",r))}function H8(r){return this.start(t5("POST",r))}function Sv(r,e,t){return Reflect.apply(e,r,[t])}function D8(r){return(e,t)=>{const n=new r(e,t);return n.emit.construct(e,t),n}}function K8(r){return e=>new Proxy(e,{construct(t,n,i){const o=Object.assign(function(s){return pa(r)||(r=function(a){return Sv(this,n5,a)}),Reflect.apply(r,o,[s])},Reflect.construct(t,n,i));return Reflect.setPrototypeOf(o,i.prototype),o}})}function G8(r,e=!1){return t=>{const n=async function(i,o,s){return o.headers={...o.headers,...r},[i,o,s]};return e?t.on.pre.prepend(n):t.on.pre(n),t}}function V8(){return Us(async r=>{if(r.headers.has("Content-Length")&&parseFloat(r.headers.get("Content-Length"))===0||r.status===204)return{};const e=await r.text(),t=e.replace(/\s/ig,"").length>0?JSON.parse(e):{};return o5(t)})}function r5(){return Us(r=>r.text())}function q8(){return Us(r=>r.blob())}function i5(){return Us(r=>r.json())}function $8(){return Us(r=>pa(r.arrayBuffer)?r.arrayBuffer():r.buffer())}async function j8(r,e,t){if(!e.ok)throw await Xg.init(e);return[r,e,t]}function o5(r){let e=r;return ar(r,"d")?ar(r.d,"results")?e=r.d.results:e=r.d:ar(r,"value")&&(e=r.value),e}function Us(r){return e=>(e.on.parse.replace(j8),e.on.parse(async(t,n,i)=>(n.ok&&typeof i>"u"&&(i=await r(n)),[t,n,i])),e)}class Xg extends Error{constructor(e,t,n=t.status,i=t.statusText){super(e),this.response=t,this.status=n,this.statusText=i,this.isHttpRequestError=!0}static async init(e){const t=await e.clone().text();return new Xg(`Error making HttpClient request in queryable [${e.status}] ${e.statusText} ::> ${t}`,e)}}function z8(r){const{interval:e,replace:t,retries:n}={replace:!0,interval:200,retries:3,...r};return i=>(t&&i.on.send.clear(),i.on.send(function(o,s){let a,A=e,c=0,l;const u=async()=>{if(c>=n)throw l||new Xg(`Retry count exceeded (${n}) for this request. ${a.status}: ${a.statusText};`,a);if(c++,typeof a>"u"||(a==null?void 0:a.status)===429||(a==null?void 0:a.status)===503||(a==null?void 0:a.status)===504){typeof a<"u"&&(a.headers.has("Retry-After")?A=parseInt(a.headers.get("Retry-After"),10)*1e3:A*=2,this.log(`Attempt #${c} to retry request which failed with ${a.status}: ${a.statusText}`,0),await x8(A));try{const d=o.toString();return this.log(`Fetch: ${s.method} ${d}`,0),a=await fetch(d,s),a.ok?a:u()}catch(d){if(/AbortError/.test(d.name))throw d;return l=d,u()}}else return a};return u()}),i)}function bI(){return r=>(r.on.pre.prepend(async function(e,t,n){return t.headers={...t.headers,"X-PnP-CacheNever":"1"},[e,t,n]}),r)}const II="__CancelMoment__",Qc=Symbol.for("CancelScopeId"),Zh=new Map;async function W8(r){const e=Zh.get(r);e.controller.abort(),ks(e==null?void 0:e.actions)&&e.actions.map(t=>e.currentSelf.on[II](t));try{await e.currentSelf.emit[II]()}catch(t){e.currentSelf.log(`Error in cancel: ${t}`,3)}}function Y8(r){const e=Xh();return r[Qc]=e,Zh.set(e,{cancel:W8.bind({},e),actions:[],controller:null,currentSelf:r}),e}const J8=r=>function(...e){Reflect.has(this,Qc)||Y8(this);const t=r.apply(this,e).finally(()=>{Zh.delete(this[Qc]),delete this[Qc]});return t.cancel=Zh.get(this[Qc]).cancel,t};function _a(r,e,t){t.value=J8(t.value)}function s5(r){return e=>(e.on.pre(async function(...t){const n=Zh.get(this[Qc]);return ro(n)&&(ks(n.actions)||(n.actions=[]),n.actions.indexOf(r)<0&&n.actions.push(r)),t}),e)}function X8(){return r=>(r.on.data(function(e){this.emit[this.InternalResolve](e)}),r)}function Z8(){return r=>(r.on.error(function(e){this.emit[this.InternalReject](e)}),r)}function uo(r,e,t,n){Reflect.defineProperty(r.prototype,e,{configurable:!0,enumerable:!0,get:function(){return t(this,n||e)}})}function _n(r,e){return Object.assign({body:U8(r)},e)}function Tv(r,e){return Object.assign({},e,{headers:{...r}})}const yr=r=>D8(r);class lu extends DC{constructor(e,t){if(typeof e=="string"){let n="",i="";if(Ko(e)||e.lastIndexOf("/")<0)i=e,n=Yn(e,t);else if(e.lastIndexOf("/")>e.lastIndexOf("(")){const o=e.lastIndexOf("/");i=e.slice(0,o),t=Yn(e.slice(o),t),n=Yn(i,t)}else{const o=e.lastIndexOf("(");i=e.slice(0,o),n=Yn(e,t)}super(n),this.parentUrl=i}else{super(e,t);const n=ks(e)?e[0]:e;this.parentUrl=ks(e)?e[1]:n.toUrl()}}toRequestUrl(){const e=new URLSearchParams(this.query);let t=this.toUrl().replace(/'!(@.+?)::((?:[^']|'')+)'/ig,(i,o,s)=>(this.log(`Rewriting aliased parameter from match ${i} to label: ${o} value: ${s}`,0),e.set(o,`'${s}'`),o));const n=e.toString();return Ta(n)||(t+=`${t.indexOf("?")>-1?"&":"?"}${n}`),t}select(...e){return e.length>0&&this.query.set("$select",e.join(",")),this}expand(...e){return e.length>0&&this.query.set("$expand",e.join(",")),this}getParent(e,t,n=this.parentUrl){return e([this,n],t)}}const io=yr(lu);class ka extends lu{filter(e){return typeof e=="object"?(this.query.set("$filter",e.toString()),this):typeof e=="function"?(this.query.set("$filter",e(KC.Where()).toString()),this):(this.query.set("$filter",e.toString()),this)}orderBy(e,t=!0){const n="$orderby",i=this.query.has(n)?this.query.get(n).split(","):[];return i.push(`${e} ${t?"asc":"desc"}`),this.query.set(n,i.join(",")),this}skip(e){return this.query.set("$skip",e.toString()),this}top(e){return this.query.set("$top",e.toString()),this}}const pA=yr(ka);class UA extends lu{}const ma=yr(UA);function a5(){return function(){return A5(this)}}function hu(){return function(r="*"){return t7(this,{},r)}}const e7=(r,e)=>Sv(r,n5,e),Je=(r,e)=>Sv(r,H8,e),_v=(r,e)=>(e=e||{},e.headers={...e.headers,"X-HTTP-Method":"MERGE"},Je(r,e)),A5=(r,e)=>(e=e||{},e.headers={...e.headers||{},"X-HTTP-Method":"DELETE"},Je(r,e)),t7=(r,e,t="*")=>(e=e||{},e.headers={...e.headers||{},"IF-Match":t},A5(r,e));var Jn;(function(r){r.Equals="eq",r.NotEquals="ne",r.GreaterThan="gt",r.GreaterThanOrEqualTo="ge",r.LessThan="lt",r.LessThanOrEqualTo="le",r.StartsWith="startswith",r.SubstringOf="substringof"})(Jn||(Jn={}));var Nr;(function(r){r.And="and",r.AndWithSpace=" and ",r.Or="or",r.OrWithSpace=" or "})(Nr||(Nr={}));class KC{static Where(){return new i7([])}}class Zg{constructor(e){this.query=[],this.query=e}}class Ph extends Zg{constructor(e){super(e)}text(e){return new Uf([...this.query,e])}choice(e){return new Uf([...this.query,e])}multiChoice(e){return new Uf([...this.query,e])}number(e){return new GC([...this.query,e])}date(e){return new a7([...this.query,e])}boolean(e){return new s7([...this.query,e])}lookup(e){return new o7([...this.query],e)}lookupId(e){const t=e.endsWith("Id")?e:`${e}Id`;return new GC([...this.query,t])}}class n7 extends Ph{or(...e){return new Fn([...this.query,`(${e.map(t=>t.toString()).join(Nr.OrWithSpace)})`])}}class r7 extends Ph{and(...e){return new Fn([...this.query,`(${e.map(t=>t.toString()).join(Nr.AndWithSpace)})`])}}class i7 extends Ph{or(...e){return e==null||e.length===0?new Ph([...this.query,Nr.Or]):new Fn([...this.query,`(${e.map(t=>t.toString()).join(Nr.OrWithSpace)})`])}and(...e){return e==null||e.length===0?new Ph([...this.query,Nr.And]):new Fn([...this.query,`(${e.map(t=>t.toString()).join(Nr.AndWithSpace)})`])}}class o7 extends Zg{constructor(e,t){super(e),this.LookupField=t}Id(e){return new Fn([...this.query,`${this.LookupField}/Id`,Jn.Equals,e.toString()])}text(e){return new Uf([...this.query,`${this.LookupField}/${e}`])}number(e){return new GC([...this.query,`${this.LookupField}/${e}`])}}class c5 extends Zg{constructor(e){super(e),this.LastIndex=e.length-1,this.InternalName=e[this.LastIndex]}toODataValue(e){return`'${e}'`}isNull(){return new Fn([...this.query,Jn.Equals,"null"])}isNotNull(){return new Fn([...this.query,Jn.NotEquals,"null"])}}class l5 extends c5{equals(e){return new Fn([...this.query,Jn.Equals,this.toODataValue(e)])}notEquals(e){return new Fn([...this.query,Jn.NotEquals,this.toODataValue(e)])}in(...e){return KC.Where().or(...e.map(t=>this.equals(t)))}notIn(...e){return KC.Where().and(...e.map(t=>this.notEquals(t)))}}class Uf extends l5{startsWith(e){const t=`${Jn.StartsWith}(${this.InternalName}, ${this.toODataValue(e)})`;return this.query[this.LastIndex]=t,new Fn([...this.query])}contains(e){const t=`${Jn.SubstringOf}(${this.toODataValue(e)}, ${this.InternalName})`;return this.query[this.LastIndex]=t,new Fn([...this.query])}}class s7 extends c5{toODataValue(e){return`${e==null?"null":e?1:0}`}isTrue(){return new Fn([...this.query,Jn.Equals,this.toODataValue(!0)])}isFalse(){return new Fn([...this.query,Jn.Equals,this.toODataValue(!1)])}isFalseOrNull(){const e=`(${[this.InternalName,Jn.Equals,this.toODataValue(null),Nr.Or,this.InternalName,Jn.Equals,this.toODataValue(!1)].join(" ")})`;return this.query[this.LastIndex]=e,new Fn([...this.query])}}class h5 extends l5{greaterThan(e){return new Fn([...this.query,Jn.GreaterThan,this.toODataValue(e)])}greaterThanOrEquals(e){return new Fn([...this.query,Jn.GreaterThanOrEqualTo,this.toODataValue(e)])}lessThan(e){return new Fn([...this.query,Jn.LessThan,this.toODataValue(e)])}lessThanOrEquals(e){return new Fn([...this.query,Jn.LessThanOrEqualTo,this.toODataValue(e)])}}class GC extends h5{toODataValue(e){return`${e}`}}class a7 extends h5{toODataValue(e){return`'${e.toISOString()}'`}isBetween(e,t){const n=`(${[this.InternalName,Jn.GreaterThan,this.toODataValue(e),Nr.And,this.InternalName,Jn.LessThan,this.toODataValue(t)].join(" ")})`;return this.query[this.LastIndex]=n,new Fn([...this.query])}isToday(){const e=new Date;e.setHours(0,0,0,0);const t=new Date;return t.setHours(23,59,59,999),this.isBetween(e,t)}}class Fn extends Zg{and(...e){return e==null||e.length===0?new n7([...this.query,Nr.And]):new Fn([...this.query,Nr.And,`(${e.map(t=>t.toString()).join(Nr.AndWithSpace)})`])}or(...e){return e==null||e.length===0?new r7([...this.query,Nr.Or]):new Fn([...this.query,Nr.Or,`(${e.map(t=>t.toString()).join(Nr.OrWithSpace)})`])}toString(){return this.query.join(" ")}}function Fa(r){return function(e){return class extends e{constructor(...t){super(t[0],t.length>1&&t[1]!==void 0?t[1]:r)}}}}class kv{constructor(e=""){this._root=io(e)}using(...e){return this._root.using(...e),this}create(e,t){return e(this._root,t)}}function u5(r=""){return typeof r=="object"&&!Reflect.has(r,"length")&&(r=r._root),new kv(r)}var EI;(function(r){r[r.None=0]="None",r[r.User=1]="User",r[r.DistributionList=2]="DistributionList",r[r.SecurityGroup=4]="SecurityGroup",r[r.SharePointGroup=8]="SharePointGroup",r[r.All=15]="All"})(EI||(EI={}));var SI;(function(r){r[r.None=0]="None",r[r.UserInfoList=1]="UserInfoList",r[r.Windows=2]="Windows",r[r.MembershipProvider=4]="MembershipProvider",r[r.RoleProvider=8]="RoleProvider",r[r.All=15]="All"})(SI||(SI={}));var TI;(function(r){r[r.Invalid=-1]="Invalid",r[r.DefaultView=0]="DefaultView",r[r.NormalView=1]="NormalView",r[r.DialogView=2]="DialogView",r[r.View=3]="View",r[r.DisplayForm=4]="DisplayForm",r[r.DisplayFormDialog=5]="DisplayFormDialog",r[r.EditForm=6]="EditForm",r[r.EditFormDialog=7]="EditFormDialog",r[r.NewForm=8]="NewForm",r[r.NewFormDialog=9]="NewFormDialog",r[r.SolutionForm=10]="SolutionForm",r[r.PAGE_MAXITEMS=11]="PAGE_MAXITEMS"})(TI||(TI={}));function xs(r){if(Ta(r))return"";let e=r.indexOf("_api/");return e<0&&(e=r.indexOf("_vti_bin/")),e>-1?r.substring(0,e):r}function eu(r){const e=[],t=["odata.type","odata.editLink","__metadata","odata.metadata","odata.id"];if(ar(r,t[0])&&r[t[0]]==="SP.Web")ar(r,t[4])?e.push(r[t[4]]):ar(r,t[2])&&e.push(r.__metadata.uri);else if(ar(r,t[3])&&ar(r,t[1])){const n=Ko(r[t[1]])?r[t[1]].split("_api")[1]:r[t[1]];e.push(xs(r[t[3]]),"_api",n)}else ar(r,t[1])?e.push("_api",r[t[1]]):ar(r,t[2])&&e.push(r.__metadata.uri);return e.length<1?"":Yn(...e)}function mA(r){return{DecodedUrl:r}}function mn(r){return Ta(r)?"":/!(@.*?)::(.*?)/ig.test(r)?r.replace(/!(@.*?)::(.*)$/ig,(e,t,n)=>`!${t}::${n.replace(/'/ig,"''")}`):encodeURIComponent(r.replace(/'/ig,"''"))}function A7(r){return Ta(r)?"":/!(@.*?)::(.*?)/ig.test(r)?r.replace(/!(@.*?)::(.*)$/ig,(e,t,n)=>`!${t}::${n.replace(/'/ig,"''")}`):r.replace(/'/ig,"''")}function c7(){return r=>(r.on.pre(async function(e,t,n){let i="PnPCoreJS:4.16.0:";const{pathname:o}=new URL(e);return i=o.split("/").filter(s=>!Ta(s)&&["_api","v2.1","v2.0"].indexOf(s)<0).map((s,a,A)=>a===A.length-1?s.replace(/\(.*?$/i,"()"):s[0]).join("."),i.length>32&&(i=i.substring(0,32)),this.log(`Request Tag: ${i}`,0),t.headers={...t.headers,"X-ClientService-ClientTag":i},[e,t,n]}),r)}function l7(){return r=>(r.on.pre(async(e,t,n)=>(t.cache="no-cache",t.credentials="same-origin",[e,t,n])),r.using(c7(),Z8(),X8()),r)}function h7(){return r=>(r.using(G8({Accept:"application/json","Content-Type":"application/json;charset=utf-8"})),r)}function Qr(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}let VC=class extends ka{async add(e,t,n="",i="STS",o=1033,s=!0){const a=_n({parameters:{Description:n,Language:o,Title:e,Url:t,UseSamePermissionsAsParentSite:s,WebTemplate:i}});return Je(d5(this,"add"),a)}};VC=Qr([Fa("webs")],VC);const d5=yr(VC);function aw(r,e){let t="_api/web";const n=/(_api[/|\\](site\/rootweb|site|web))/i.exec(r);return(n==null?void 0:n.length)>0&&(r=xs(r),t=n[1]),(e==null?void 0:e.indexOf("_api"))<0&&(r=Yn(r,t)),r}let Cr=class extends UA{constructor(e,t){typeof e=="string"?e=aw(e,t):ks(e)?e=[e[0],aw(e[1],t)]:e=[e,aw(e.toUrl(),t)],super(e,t),this.delete=a5()}get webs(){return d5(this)}get allProperties(){return ma(this,"allproperties")}get webinfos(){return pA(this,"webinfos")}async getParentWeb(){const{Url:e,ParentWeb:t}=await this.select("Url","ParentWeb/ServerRelativeUrl").expand("ParentWeb")();return t!=null&&t.ServerRelativeUrl?Ji([this,Yn(new URL(e).origin,t.ServerRelativeUrl)]):null}async update(e){return _v(this,_n(e))}applyTheme(e,t,n,i){const o=_n({backgroundImageUrl:n,colorPaletteUrl:e,fontSchemeUrl:t,shareGenerated:i});return Je(Ji(this,"applytheme"),o)}applyWebTemplate(e){return Je(Ji(this,`applywebtemplate(webTemplate='${mn(e)}')`))}getChanges(e){return Je(Ji(this,"getchanges"),_n({query:e}))}mapToIcon(e,t=0,n=""){return Ji(this,`maptoicon(filename='${mn(e)}',progid='${mn(n)}',size=${t})`)()}getStorageEntity(e){return Ji(this,`getStorageEntity('${mn(e)}')`)()}setStorageEntity(e,t,n="",i=""){return Je(Ji(this,"setStorageEntity"),_n({comments:i,description:n,key:e,value:t}))}removeStorageEntity(e){return Je(Ji(this,`removeStorageEntity('${mn(e)}')`))}getSubwebsFilteredForCurrentUser(e=-1,t=-1){return pA(this,`getSubwebsFilteredForCurrentUser(nWebTemplateFilter=${e},nConfigurationFilter=${t})`)}availableWebTemplates(e=1033,t=!0){return pA(this,`getavailablewebtemplates(lcid=${e},doincludecrosslanguage=${t})`)}};Cr=Qr([Fa("_api/web")],Cr);const Ji=yr(Cr);kv.prototype.batched=function(r){const e=u5(this),[t,n]=f5(e._root,r);return e.using(t),[e,n]};Cr.prototype.batched=function(r){const e=Ji(this),[t,n]=f5(e,r);return e.using(t),[e,n]};const yc=Symbol.for("batch_registration"),Ya=Symbol.for("batch_request");function u7(){return Us(async r=>{const e=await r.text();return d7(e)})}class _I extends lu{constructor(e,t=e.toUrl().replace(/_api[\\|/].*$/i,"")){super(t,"_api/$batch"),this.requestBaseUrl=t,this.using(hg(e,"replace"),u7()),this.on.dispose(()=>{e.using(hg(this,"replace",n=>/(auth|send|pre|init)/i.test(n)))})}}function f5(r,e){const t=[],n=[],i=[],o=new _I(r),s=Xh(),a=new _I(r),{headersCopyPattern:A,maxRequests:c}={headersCopyPattern:/Accept|Content-Type|IF-Match/i,maxRequests:20,...e};return[d=>(d.on.init(function(){if(pa(this[yc]))throw Error("This instance is already part of a batch. Please review the docs at https://pnp.github.io/pnpjs/concepts/batching#reuse.");return t.push(new Promise(f=>{this[yc]=f})),this}),d.on.pre(async function(f,m,w){return ar(m.headers,"X-PnP-BatchNever")?(typeof this[Ya]=="function"&&(this[Ya](),delete this[Ya]),this.using(hg(a,"replace",B=>/(init|pre)/i.test(B))),[f,m,w]):(this.on.auth.clear(),this.on.send.replace(async function(B,y){const b=new Promise(x=>{i.push([this,B.toString(),y,x])});return this.log(`[batch:${s}] (${new Date().getTime()}) Adding request ${y.method} ${B.toString()} to batch.`,0),n.push(new Promise(x=>{this[Ya]=x})),this[yc](),b}),this.on.dispose(function(){pa(this[yc])&&(this[yc](),delete this[yc]),pa(this[Ya])&&(this[Ya](),delete this[Ya],this.using(hg(a,"replace",B=>/(auth|pre|send|init|dispose)/i.test(B))))}),[f,m,w])}),d),async()=>{if(await Promise.all(t),i.length<1)return Promise.all(n).then(()=>{});const d=i.slice();for(;d.length>0;){const f=d.splice(0,c),m=[];let w="";for(let y=0;y<f.length;y++){const[,b,x]=f[y];x.method==="GET"?(w.length>0&&(m.push(`--changeset_${w}--

`),w=""),m.push(`--batch_${s}
`)):(w.length<1&&(w=Xh(),m.push(`--batch_${s}
`),m.push(`Content-Type: multipart/mixed; boundary="changeset_${w}"

`)),m.push(`--changeset_${w}
`)),m.push(`Content-Type: application/http
`),m.push(`Content-Transfer-Encoding: binary

`);const O=new Headers(x.headers),L=Ko(b)?b:Yn(o.requestBaseUrl,b);if(x.method!=="GET"){let K=x.method;O.has("X-HTTP-Method")&&(K=O.get("X-HTTP-Method"),O.delete("X-HTTP-Method")),m.push(`${K} ${L} HTTP/1.1
`)}else m.push(`${x.method} ${L} HTTP/1.1
`);O.has("Accept")||O.append("Accept","application/json"),O.has("Content-Type")||O.append("Content-Type","application/json;charset=utf-8"),O.forEach((K,H)=>{A.test(H)&&m.push(`${H}: ${K}
`)}),m.push(`
`),x.body&&m.push(`${x.body}

`)}w.length>0&&(m.push(`--changeset_${w}--

`),w=""),m.push(`--batch_${s}--
`);const B=await Je(o,{body:m.join(""),headers:{"Content-Type":`multipart/mixed; boundary=batch_${s}`}});if(B.length!==f.length)throw Error("Could not properly parse responses to match requests in batch.");for(let y=0;y<B.length;y++)f[y][3](B[y])}await Promise.all(n).then(()=>{})}]}function uu(){return r=>(r.on.pre.prepend(async function(e,t,n){return t.headers={...t.headers,"X-PnP-BatchNever":"1"},[e,t,n]}),r)}function d7(r){const e=[],t="--batchresponse_",n=new RegExp("^HTTP/[0-9.]+ +([0-9]+) +(.*)","i"),i=r.split(`
`);let o="batch",s,a,A={};const c=[];for(let l=0;l<i.length;++l){let u=i[l];switch(o){case"batch":if(u.substring(0,t.length)===t)o="batchHeaders";else if(u.trim()!=="")throw Error(`Invalid response, line ${l}`);break;case"batchHeaders":u.trim()===""&&(o="status");break;case"status":{const d=n.exec(u);if(d.length!==3)throw Error(`Invalid status, line ${l}`);s=parseInt(d[1],10),a=d[2],o="statusHeaders";break}case"statusHeaders":if(u.trim()==="")o="body";else{const d=u.split(":");(d==null?void 0:d.length)===2&&(A[d[0].trim()]=d[1].trim())}break;case"body":for(c.length=0;u.substring(0,t.length)!==t;)c.push(u),u=i[++l];l--,e.push(new Response(s===204?null:c.join(""),{status:s,statusText:a,headers:A})),o="batch",A={};break}}if(o!=="status")throw Error("Unexpected end of input");return e}function kI(r){const e=new Date;return!ro(r)||e>r.expiration?null:r}const FI=new Map;function f7(r){return e=>(e.on.pre(async function(t,n,i){return this.on.auth(async(o,s)=>{if(/get/i.test(s.method)||s.headers&&(ar(s.headers,"X-RequestDigest")||ar(s.headers,"Authorization")||ar(s.headers,"X-PnPjs-NoDigest")))return[o,s];const a=o.toString(),A=xs(a);let c=kI(FI.get(A));return!ro(c)&&pa(r)&&(c=kI(r(a,s))),ro(c)||(c=await Je(io([this,Yn(A,"_api/contextinfo")]).using(i5(),uu()),{headers:{Accept:"application/json","X-PnPjs-NoDigest":"1"}}).then(l=>({expiration:F8(new Date,"second",l.FormDigestTimeoutSeconds),value:l.FormDigestValue}))),ro(c)&&(s.headers={"X-RequestDigest":c.value,...s.headers},FI.set(A,c)),[o,s]}),[t,n,i]}),e)}function g7(r){return e=>(e.using(h7(),l7(),z8(),V8(),f7()),Ko(void 0)&&e.on.pre.prepend(async(t,n,i)=>(Ko(t)||(t=Yn(r.baseUrl,t)),[t,n,i])),e)}/*! @azure/msal-common v14.16.0 2024-11-05 */const Ce={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},nf={CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},gl=[Ce.OPENID_SCOPE,Ce.PROFILE_SCOPE,Ce.OFFLINE_ACCESS_SCOPE],UI=[...gl,Ce.EMAIL_SCOPE],qr={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ir={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},wa={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},rf={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},cr={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},xI={PLAIN:"plain",S256:"S256"},du={QUERY:"query",FRAGMENT:"fragment"},p7={...du},g5={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},of={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Pr={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},At={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Fv="appmetadata",m7="client_info",Lh="1",ug={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},di={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},gr={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Jt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Oh={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},RI={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},NI={username:"username",password:"password"},sf={httpSuccess:200,httpBadRequest:400},vc={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Aw={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ea={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},w7={Pop:"pop"},C7=300;/*! @azure/msal-common v14.16.0 2024-11-05 */const Uv="unexpected_error",y7="post_request_failed";/*! @azure/msal-common v14.16.0 2024-11-05 */const PI={[Uv]:"Unexpected error in authentication.",[y7]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class yn extends Error{constructor(e,t,n){const i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,yn.prototype),this.errorCode=e||Ce.EMPTY_STRING,this.errorMessage=t||Ce.EMPTY_STRING,this.subError=n||Ce.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function p5(r,e){return new yn(r,e?`${PI[r]} ${e}`:PI[r])}/*! @azure/msal-common v14.16.0 2024-11-05 */const xv="client_info_decoding_error",m5="client_info_empty_error",Rv="token_parsing_error",w5="null_or_empty_token",ds="endpoints_resolution_error",C5="network_error",y5="openid_config_error",v5="hash_not_deserialized",al="invalid_state",B5="state_mismatch",dg="state_not_found",b5="nonce_mismatch",Nv="auth_time_not_found",I5="max_age_transpired",v7="multiple_matching_tokens",B7="multiple_matching_accounts",E5="multiple_matching_appMetadata",S5="request_cannot_be_made",T5="cannot_remove_empty_scope",_5="cannot_append_scopeset",qC="empty_input_scopeset",b7="device_code_polling_cancelled",I7="device_code_expired",E7="device_code_unknown_error",Pv="no_account_in_silent_request",k5="invalid_cache_record",Lv="invalid_cache_environment",$C="no_account_found",jC="no_crypto_object",zC="unexpected_credential_type",S7="invalid_assertion",T7="invalid_client_credential",vs="token_refresh_required",_7="user_timeout_reached",F5="token_claims_cnf_required_for_signedjwt",U5="authorization_code_missing_from_server_response",x5="binding_key_not_removed",R5="end_session_endpoint_not_supported",Ov="key_id_missing",k7="no_network_connectivity",F7="user_canceled",U7="missing_tenant_id_error",bt="method_not_implemented",x7="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.16.0 2024-11-05 */const LI={[xv]:"The client info could not be parsed/decoded correctly",[m5]:"The client info was empty",[Rv]:"Token cannot be parsed",[w5]:"The token is null or empty",[ds]:"Endpoints cannot be resolved",[C5]:"Network request failed",[y5]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[v5]:"The hash parameters could not be deserialized",[al]:"State was not the expected format",[B5]:"State mismatch error",[dg]:"State not found",[b5]:"Nonce mismatch error",[Nv]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[I5]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[v7]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[B7]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[E5]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[S5]:"Token request cannot be made without authorization code or refresh token.",[T5]:"Cannot remove null or empty scope from ScopeSet",[_5]:"Cannot append ScopeSet",[qC]:"Empty input ScopeSet cannot be processed",[b7]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[I7]:"Device code is expired.",[E7]:"Device code stopped polling for unknown reasons.",[Pv]:"Please pass an account object, silent flow is not supported without account information",[k5]:"Cache record object was null or undefined.",[Lv]:"Invalid environment when attempting to create cache entry",[$C]:"No account found in cache for given key.",[jC]:"No crypto object detected.",[zC]:"Unexpected credential type.",[S7]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[T7]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[vs]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[_7]:"User defined timeout for device code polling reached",[F5]:"Cannot generate a POP jwt if the token_claims are not populated",[U5]:"Server response does not contain an authorization code to proceed",[x5]:"Could not remove the credential's binding key from storage.",[R5]:"The provided authority does not support logout",[Ov]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[k7]:"No network connectivity. Check your internet connection.",[F7]:"User cancelled the flow.",[U7]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[bt]:"This method has not been implemented",[x7]:"The nested app auth bridge is disabled"};class ep extends yn{constructor(e,t){super(e,t?`${LI[e]}: ${t}`:LI[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,ep.prototype)}}function Se(r,e){return new ep(r,e)}/*! @azure/msal-common v14.16.0 2024-11-05 */const fg={createNewGuid:()=>{throw Se(bt)},base64Decode:()=>{throw Se(bt)},base64Encode:()=>{throw Se(bt)},base64UrlEncode:()=>{throw Se(bt)},encodeKid:()=>{throw Se(bt)},async getPublicKeyThumbprint(){throw Se(bt)},async removeTokenBindingKey(){throw Se(bt)},async clearKeystore(){throw Se(bt)},async signJwt(){throw Se(bt)},async hashString(){throw Se(bt)}};/*! @azure/msal-common v14.16.0 2024-11-05 */var pn;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(pn||(pn={}));class Ia{constructor(e,t,n){this.level=pn.Info;const i=()=>{},o=e||Ia.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:pn.Info,this.correlationId=o.correlationId||Ce.EMPTY_STRING,this.packageName=t||Ce.EMPTY_STRING,this.packageVersion=n||Ce.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:pn.Info}}clone(e,t,n){return new Ia({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${pn[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:pn.Error,containsPii:!1,correlationId:t||Ce.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:pn.Error,containsPii:!0,correlationId:t||Ce.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:pn.Warning,containsPii:!1,correlationId:t||Ce.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:pn.Warning,containsPii:!0,correlationId:t||Ce.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:pn.Info,containsPii:!1,correlationId:t||Ce.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:pn.Info,containsPii:!0,correlationId:t||Ce.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:pn.Verbose,containsPii:!1,correlationId:t||Ce.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:pn.Verbose,containsPii:!0,correlationId:t||Ce.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:pn.Trace,containsPii:!1,correlationId:t||Ce.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:pn.Trace,containsPii:!0,correlationId:t||Ce.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.16.0 2024-11-05 */const N5="@azure/msal-common",Mv="14.16.0";/*! @azure/msal-common v14.16.0 2024-11-05 */const Qv={None:"none"};/*! @azure/msal-common v14.16.0 2024-11-05 */function xA(r,e){const t=R7(r);try{const n=e(t);return JSON.parse(n)}catch{throw Se(Rv)}}function R7(r){if(!r)throw Se(w5);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!t||t.length<4)throw Se(Rv);return t[2]}function P5(r,e){if(e===0||Date.now()-3e5>r+e)throw Se(I5)}/*! @azure/msal-common v14.16.0 2024-11-05 */function Go(){return Math.round(new Date().getTime()/1e3)}function WC(r,e){const t=Number(r)||0;return Go()+e>t}function N7(r){return Number(r)>Go()}/*! @azure/msal-common v14.16.0 2024-11-05 */function Hc(r){return[P7(r),L7(r),O7(r),M7(r),Q7(r)].join(Pr.CACHE_KEY_SEPARATOR).toLowerCase()}function tp(r,e,t,n,i){return{credentialType:At.ID_TOKEN,homeAccountId:r,environment:e,clientId:n,secret:t,realm:i}}function np(r,e,t,n,i,o,s,a,A,c,l,u,d,f,m){var B,y;const w={homeAccountId:r,credentialType:At.ACCESS_TOKEN,secret:t,cachedAt:Go().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:n,realm:i,target:o,tokenType:l||Jt.BEARER};if(u&&(w.userAssertionHash=u),c&&(w.refreshOn=c.toString()),f&&(w.requestedClaims=f,w.requestedClaimsHash=m),((B=w.tokenType)==null?void 0:B.toLowerCase())!==Jt.BEARER.toLowerCase())switch(w.credentialType=At.ACCESS_TOKEN_WITH_AUTH_SCHEME,w.tokenType){case Jt.POP:const b=xA(t,A);if(!((y=b==null?void 0:b.cnf)!=null&&y.kid))throw Se(F5);w.keyId=b.cnf.kid;break;case Jt.SSH:w.keyId=d}return w}function L5(r,e,t,n,i,o,s){const a={credentialType:At.REFRESH_TOKEN,homeAccountId:r,environment:e,clientId:n,secret:t};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function Hv(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function OI(r){return r?Hv(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===At.ACCESS_TOKEN||r.credentialType===At.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function MI(r){return r?Hv(r)&&r.hasOwnProperty("realm")&&r.credentialType===At.ID_TOKEN:!1}function QI(r){return r?Hv(r)&&r.credentialType===At.REFRESH_TOKEN:!1}function P7(r){return[r.homeAccountId,r.environment].join(Pr.CACHE_KEY_SEPARATOR).toLowerCase()}function L7(r){const e=r.credentialType===At.REFRESH_TOKEN&&r.familyId||r.clientId;return[r.credentialType,e,r.realm||""].join(Pr.CACHE_KEY_SEPARATOR).toLowerCase()}function O7(r){return(r.target||"").toLowerCase()}function M7(r){return(r.requestedClaimsHash||"").toLowerCase()}function Q7(r){return r.tokenType&&r.tokenType.toLowerCase()!==Jt.BEARER.toLowerCase()?r.tokenType.toLowerCase():""}function H7(r,e){const t=r.indexOf(gr.CACHE_KEY)===0;let n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&n}function D7(r,e){let t=!1;r&&(t=r.indexOf(Oh.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),t&&n}function K7({environment:r,clientId:e}){return[Fv,r,e].join(Pr.CACHE_KEY_SEPARATOR).toLowerCase()}function G7(r,e){return e?r.indexOf(Fv)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function V7(r,e){return e?r.indexOf(ug.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function HI(){return Go()+ug.REFRESH_TIME_SECONDS}function af(r,e,t){r.authorization_endpoint=e.authorization_endpoint,r.token_endpoint=e.token_endpoint,r.end_session_endpoint=e.end_session_endpoint,r.issuer=e.issuer,r.endpointsFromNetwork=t,r.jwks_uri=e.jwks_uri}function cw(r,e,t){r.aliases=e.aliases,r.preferred_cache=e.preferred_cache,r.preferred_network=e.preferred_network,r.aliasesFromNetwork=t}function DI(r){return r.expiresAt<=Go()}/*! @azure/msal-common v14.16.0 2024-11-05 */const O5="redirect_uri_empty",q7="claims_request_parsing_error",M5="authority_uri_insecure",yh="url_parse_error",Q5="empty_url_error",H5="empty_input_scopes_error",D5="invalid_prompt_value",Dv="invalid_claims",K5="token_request_empty",G5="logout_request_empty",V5="invalid_code_challenge_method",Kv="pkce_params_missing",Gv="invalid_cloud_discovery_metadata",q5="invalid_authority_metadata",$5="untrusted_authority",rp="missing_ssh_jwk",j5="missing_ssh_kid",$7="missing_nonce_authentication_header",j7="invalid_authentication_header",z5="cannot_set_OIDCOptions",W5="cannot_allow_native_broker",Y5="authority_mismatch";/*! @azure/msal-common v14.16.0 2024-11-05 */const z7={[O5]:"A redirect URI is required for all calls, and none has been set.",[q7]:"Could not parse the given claims request object.",[M5]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[yh]:"URL could not be parsed into appropriate segments.",[Q5]:"URL was empty or null.",[H5]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[D5]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Dv]:"Given claims parameter must be a stringified JSON object.",[K5]:"Token request was empty and not found in cache.",[G5]:"The logout request was null or undefined.",[V5]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Kv]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Gv]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[q5]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[$5]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[rp]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[j5]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[$7]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[j7]:"Invalid authentication header provided",[z5]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[W5]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Y5]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Vv extends yn{constructor(e){super(e,z7[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Vv.prototype)}}function rn(r){return new Vv(r)}/*! @azure/msal-common v14.16.0 2024-11-05 */class oo{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return n.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[i(s)]=i(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Qn{constructor(e){const t=e?oo.trimArrayEntries([...e]):[],n=t?oo.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){const n=(e||Ce.EMPTY_STRING).split(" ");return new Qn(n)}static createSearchScopes(e){const t=new Qn(e);return t.containsOnlyOIDCScopes()?t.removeScope(Ce.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw rn(H5)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new Qn(t);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return UI.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw Se(_5)}}removeScope(e){if(!e)throw Se(T5);this.scopes.delete(e.trim())}removeOIDCScopes(){UI.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Se(qC);const t=new Set;return e.scopes.forEach(n=>t.add(n.toLowerCase())),this.scopes.forEach(n=>t.add(n.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw Se(qC);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return t.size<i+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):Ce.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.16.0 2024-11-05 */function gg(r,e){if(!r)throw Se(m5);try{const t=e(r);return JSON.parse(t)}catch{throw Se(xv)}}function Dc(r){if(!r)throw Se(xv);const e=r.split(Pr.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Ce.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.16.0 2024-11-05 */function pg(r,e){return!!r&&!!e&&r===e.split(".")[1]}function qv(r,e,t,n){if(n){const{oid:i,sub:o,tid:s,name:a,tfp:A,acr:c}=n,l=s||A||c||"";return{tenantId:l,localAccountId:i||o||"",name:a,isHomeTenant:pg(l,r)}}else return{tenantId:t,localAccountId:e,isHomeTenant:pg(t,r)}}function $v(r,e,t,n){let i=r;if(e){const{isHomeTenant:o,...s}=e;i={...r,...s}}if(t){const{isHomeTenant:o,...s}=qv(r.homeAccountId,r.localAccountId,r.tenantId,t);return i={...i,...s,idTokenClaims:t,idToken:n},i}return i}/*! @azure/msal-common v14.16.0 2024-11-05 */const Zi={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.16.0 2024-11-05 */function J5(r){return r&&(r.tid||r.tfp||r.acr)||null}/*! @azure/msal-common v14.16.0 2024-11-05 */const Ss={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.16.0 2024-11-05 */class Xn{generateAccountId(){return[this.homeAccountId,this.environment].join(Pr.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Xn.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Pr.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){var c,l,u,d,f,m;const i=new Xn;t.authorityType===Zi.Adfs?i.authorityType=of.ADFS_ACCOUNT_TYPE:t.protocolMode===Ss.AAD?i.authorityType=of.MSSTS_ACCOUNT_TYPE:i.authorityType=of.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&n&&(o=gg(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw Se(Lv);i.environment=s,i.realm=(o==null?void 0:o.utid)||J5(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((c=e.idTokenClaims)==null?void 0:c.oid)||((l=e.idTokenClaims)==null?void 0:l.sub)||"";const a=((u=e.idTokenClaims)==null?void 0:u.preferred_username)||((d=e.idTokenClaims)==null?void 0:d.upn),A=(f=e.idTokenClaims)!=null&&f.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||A||"",i.name=((m=e.idTokenClaims)==null?void 0:m.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const w=qv(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[w]}return i}static createFromAccountInfo(e,t,n){var o;const i=new Xn;return i.authorityType=e.authorityType||of.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=n,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,t,n,i,o){if(!(t===Zi.Adfs||t===Zi.Dsts)){if(e)try{const s=gg(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let i=!0;if(n){const o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}}/*! @azure/msal-common v14.16.0 2024-11-05 */function X5(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function mg(r){if(!r||r.indexOf("=")<0)return null;try{const e=X5(r),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw Se(v5)}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ut{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw rn(Q5);e.includes("#")||(this._urlString=Ut.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return oo.endsWith(t,"?")?t=t.slice(0,-1):oo.endsWith(t,"?/")&&(t=t.slice(0,-2)),oo.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw rn(yh)}if(!e.HostNameAndPort||!e.PathSegments)throw rn(yh);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw rn(M5)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Ut.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return e&&n.length!==0&&(n[0]===wa.COMMON||n[0]===wa.ORGANIZATIONS)&&(n[0]=e),Ut.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw rn(yh);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let i=n.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw rn(yh);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===Ce.FORWARD_SLASH){const i=new Ut(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ut(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!mg(e)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Z5={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},KI=Z5.endpointMetadata,jv=Z5.instanceDiscoveryMetadata,ek=new Set;jv.metadata.forEach(r=>{r.aliases.forEach(e=>{ek.add(e)})});function W7(r,e){var i;let t;const n=r.canonicalAuthority;if(n){const o=new Ut(n).getUrlComponents().HostNameAndPort;t=GI(o,(i=r.cloudDiscoveryMetadata)==null?void 0:i.metadata,di.CONFIG,e)||GI(o,jv.metadata,di.HARDCODED_VALUES,e)||r.knownAuthorities}return t||[]}function GI(r,e,t,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${t}`),r&&e){const i=wg(e,r);if(i)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function Y7(r){return wg(jv.metadata,r)}function wg(r,e){for(let t=0;t<r.length;t++){const n=r[t];if(n.aliases.includes(e))return n}return null}/*! @azure/msal-common v14.16.0 2024-11-05 */const tk="cache_quota_exceeded",zv="cache_error_unknown";/*! @azure/msal-common v14.16.0 2024-11-05 */const lw={[tk]:"Exceeded cache storage capacity.",[zv]:"Unexpected error occurred when using cache storage."};class Yc extends Error{constructor(e,t){const n=t||(lw[e]?lw[e]:lw[zv]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Yc.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Al{constructor(e,t,n,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(N5,Mv),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(n=>this.getTenantProfilesFromAccountEntity(n,t==null?void 0:t.tenantId,t))}getTenantedAccountInfoByFilter(e,t,n,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(n,i))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(s=xA(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=$v(e,n,s,a==null?void 0:a.secret),o)}getTenantProfilesFromAccountEntity(e,t,n){const i=e.getAccountInfo();let o=i.tenantProfiles||new Map;const s=this.getTokenKeys();if(t){const A=o.get(t);if(A)o=new Map([[t,A]]);else return[]}const a=[];return o.forEach(A=>{const c=this.getTenantedAccountInfoByFilter(i,s,A,n);c&&a.push(c)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,n){var i,o,s,a;if(!e)throw Se(k5);try{e.account&&this.setAccount(e.account),e.idToken&&(t==null?void 0:t.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(t==null?void 0:t.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(t==null?void 0:t.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(A){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),A instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${A.message}`,n),A.name==="QuotaExceededError"||A.name==="NS_ERROR_DOM_QUOTA_REACHED"||A.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new Yc(tk)):new Yc(A.name,A.message)):((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${A}`,n),new Yc(zv))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=Qn.fromString(e.target),o=[];n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,t,!1))return;const a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,t)&&Qn.fromString(a.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(s))}),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach(i=>{var A;if(!this.isAccountKey(i,e.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const s={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},a=(A=o.tenantProfiles)==null?void 0:A.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||n.push(o)}),n}isAccountKey(e,t,n){return!(e.split(Pr.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Pr.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(At.ID_TOKEN.toLowerCase())===-1&&t.indexOf(At.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(At.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(At.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(At.REFRESH_TOKEN.toLowerCase())>-1){const n=`${At.REFRESH_TOKEN}${Pr.CACHE_KEY_SEPARATOR}${this.clientId}${Pr.CACHE_KEY_SEPARATOR}`,i=`${At.REFRESH_TOKEN}${Pr.CACHE_KEY_SEPARATOR}${Lh}${Pr.CACHE_KEY_SEPARATOR}`;if(t.indexOf(n.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===At.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===Jt.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(n[i]=o))}),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(n=o)}),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach(n=>{t.push(this.removeAccount(n))}),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),i=[];t.idToken.forEach(o=>{o.indexOf(n)===0&&this.removeIdToken(o)}),t.accessToken.forEach(o=>{o.indexOf(n)===0&&i.push(this.removeAccessToken(o))}),t.refreshToken.forEach(o=>{o.indexOf(n)===0&&this.removeRefreshToken(o)}),await Promise.all(i)}updateOutdatedCachedAccount(e,t,n){var i;if(t&&t.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const o=this.getAccountKeys().filter(l=>l.startsWith(t.homeAccountId)),s=[];o.forEach(l=>{const u=this.getCachedAccountEntity(l);u&&s.push(u)});const a=s.find(l=>pg(l.realm,l.homeAccountId))||s[0];a.tenantProfiles=s.map(l=>({tenantId:l.realm,localAccountId:l.localAccountId,name:l.name,isHomeTenant:pg(l.realm,l.homeAccountId)}));const A=Al.toObject(new Xn,{...a}),c=A.generateAccountKey();return o.forEach(l=>{l!==c&&this.removeOutdatedAccount(e)}),this.setAccount(A),n==null||n.verbose("Updated an outdated account entity in the cache"),A}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===At.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Jt.POP){const i=t.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw Se(x5)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=Xn.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:At.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(s,t),A=a.size;if(A<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(A>1){let c=a;if(!n){const l=new Map;a.forEach((d,f)=>{d.realm===e.tenantId&&l.set(f,d)});const u=l.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(u===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),l.values().next().value;c=l}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),c.forEach((l,u)=>{this.removeIdToken(u)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return!(t.clientId&&n.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&n.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");const a=Qn.createSearchScopes(t.scopes),A=t.authenticationScheme||Jt.BEARER,c=A.toLowerCase()!==Jt.BEARER.toLowerCase()?At.ACCESS_TOKEN_WITH_AUTH_SCHEME:At.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:A,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,l,!0)){const w=this.getAccessTokenCredential(m);w&&this.credentialMatchesFilter(w,l)&&d.push(w)}});const f=d.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach(m=>{this.removeAccessToken(Hc(m))}),o&&s&&o.addFields({multiMatchedAT:d.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const o=t.target.asArray();for(let s=0;s<o.length;s++){if(n&&!i.includes(o[s].toLowerCase()))return!1;if(!n&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&n.push(o)}),n}getRefreshToken(e,t,n,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=t?Lh:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:At.REFRESH_TOKEN,clientId:this.clientId,familyId:s},A=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];A.forEach(u=>{if(this.refreshTokenKeyMatchesFilter(u,a)){const d=this.getRefreshTokenCredential(u);d&&this.credentialMatchesFilter(d,a)&&c.push(d)}});const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&i&&o&&i.addFields({multiMatchedRT:l},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return!(t.familyId&&n.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&n.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&n.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),i=Object.keys(n).map(s=>n[s]),o=i.length;if(o<1)return null;if(o>1)throw Se(E5);return i[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===Lh)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const n=e.oid||e.sub;return t===n}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return t.toLowerCase()===((n=e.name)==null?void 0:n.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const i=W7(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var n;return((n=e.realm)==null?void 0:n.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==At.ACCESS_TOKEN&&e.credentialType!==At.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Qn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Fv)!==-1}isAuthorityMetadata(e){return e.indexOf(ug.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${ug.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class J7 extends Al{setAccount(){throw Se(bt)}getAccount(){throw Se(bt)}getCachedAccountEntity(){throw Se(bt)}setIdTokenCredential(){throw Se(bt)}getIdTokenCredential(){throw Se(bt)}setAccessTokenCredential(){throw Se(bt)}getAccessTokenCredential(){throw Se(bt)}setRefreshTokenCredential(){throw Se(bt)}getRefreshTokenCredential(){throw Se(bt)}setAppMetadata(){throw Se(bt)}getAppMetadata(){throw Se(bt)}setServerTelemetry(){throw Se(bt)}getServerTelemetry(){throw Se(bt)}setAuthorityMetadata(){throw Se(bt)}getAuthorityMetadata(){throw Se(bt)}getAuthorityMetadataKeys(){throw Se(bt)}setThrottlingCache(){throw Se(bt)}getThrottlingCache(){throw Se(bt)}removeItem(){throw Se(bt)}getKeys(){throw Se(bt)}getAccountKeys(){throw Se(bt)}getTokenKeys(){throw Se(bt)}updateCredentialCacheKey(){throw Se(bt)}removeOutdatedAccount(){throw Se(bt)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const nk={tokenRenewalOffsetSeconds:C7,preventCorsPreflight:!1},X7={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:pn.Info,correlationId:Ce.EMPTY_STRING},Z7={claimsBasedCachingEnabled:!1},eG={async sendGetRequestAsync(){throw Se(bt)},async sendPostRequestAsync(){throw Se(bt)}},tG={sku:Ce.SKU,version:Mv,cpu:Ce.EMPTY_STRING,os:Ce.EMPTY_STRING},nG={clientSecret:Ce.EMPTY_STRING,clientAssertion:void 0},rG={azureCloudInstance:Qv.None,tenant:`${Ce.DEFAULT_COMMON_TENANT}`},iG={application:{appName:"",appVersion:""}};function oG({authOptions:r,systemOptions:e,loggerOptions:t,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:A,telemetry:c,serverTelemetryManager:l,persistencePlugin:u,serializableCache:d}){const f={...X7,...t};return{authOptions:sG(r),systemOptions:{...nk,...e},loggerOptions:f,cacheOptions:{...Z7,...n},storageInterface:i||new J7(r.clientId,fg,new Ia(f)),networkInterface:o||eG,cryptoInterface:s||fg,clientCredentials:a||nG,libraryInfo:{...tG,...A},telemetry:{...iG,...c},serverTelemetryManager:l||null,persistencePlugin:u||null,serializableCache:d||null}}function sG(r){return{clientCapabilities:[],azureCloudOptions:rG,skipAuthorityMetadataCache:!1,instanceAware:!1,...r}}function YC(r){return r.authOptions.authority.options.protocolMode===Ss.OIDC}/*! @azure/msal-common v14.16.0 2024-11-05 */const vi={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.16.0 2024-11-05 */const bA="client_id",rk="redirect_uri",VI="response_type",aG="response_mode",AG="grant_type",cG="claims",lG="scope",hG="refresh_token",uG="state",dG="nonce",fG="prompt",gG="code",pG="code_challenge",mG="code_challenge_method",wG="code_verifier",CG="client-request-id",yG="x-client-SKU",vG="x-client-VER",BG="x-client-OS",bG="x-client-CPU",IG="x-client-current-telemetry",EG="x-client-last-telemetry",SG="x-ms-lib-capability",TG="x-app-name",_G="x-app-ver",kG="post_logout_redirect_uri",FG="id_token_hint",UG="device_code",xG="client_secret",RG="client_assertion",NG="client_assertion_type",qI="token_type",$I="req_cnf",PG="assertion",LG="requested_token_use",jI="return_spa_code",OG="nativebroker",MG="logout_hint",QG="sid",HG="login_hint",DG="domain_hint",KG="x-client-xtra-sku",Wv="brk_client_id",JC="brk_redirect_uri";/*! @azure/msal-common v14.16.0 2024-11-05 */class Uc{static validateRedirectUri(e){if(!e)throw rn(O5)}static validatePrompt(e){const t=[];for(const n in cr)t.push(cr[n]);if(t.indexOf(e)<0)throw rn(D5)}static validateClaims(e){try{JSON.parse(e)}catch{throw rn(Dv)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw rn(Kv);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([xI.PLAIN,xI.S256].indexOf(e)<0)throw rn(V5)}}/*! @azure/msal-common v14.16.0 2024-11-05 */function GG(r,e,t){if(!e)return;const n=r.get(bA);n&&r.has(Wv)&&(t==null||t.addFields({embeddedClientId:n,embeddedRedirectUri:r.get(rk)},e))}class Mh{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(VI,encodeURIComponent(Ce.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(VI,encodeURIComponent(`${Ce.TOKEN_RESPONSE_TYPE} ${Ce.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(aG,encodeURIComponent(e||p7.QUERY))}addNativeBroker(){this.parameters.set(OG,encodeURIComponent("1"))}addScopes(e,t=!0,n=gl){t&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");const i=t?[...e||[],...n]:e||[],o=new Qn(i);this.parameters.set(lG,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(bA,encodeURIComponent(e))}addRedirectUri(e){Uc.validateRedirectUri(e),this.parameters.set(rk,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Uc.validateRedirectUri(e),this.parameters.set(kG,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(FG,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(DG,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(HG,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(qr.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(qr.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(QG,encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);Uc.validateClaims(n),this.parameters.set(cG,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(CG,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(yG,e.sku),this.parameters.set(vG,e.version),e.os&&this.parameters.set(BG,e.os),e.cpu&&this.parameters.set(bG,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(TG,e.appName),e!=null&&e.appVersion&&this.parameters.set(_G,e.appVersion)}addPrompt(e){Uc.validatePrompt(e),this.parameters.set(`${fG}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(uG,encodeURIComponent(e))}addNonce(e){this.parameters.set(dG,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(Uc.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(pG,encodeURIComponent(e)),this.parameters.set(mG,encodeURIComponent(t));else throw rn(Kv)}addAuthorizationCode(e){this.parameters.set(gG,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(UG,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(hG,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(wG,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(xG,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(RG,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(NG,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(PG,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(LG,encodeURIComponent(e))}addGrantType(e){this.parameters.set(AG,encodeURIComponent(e))}addClientInfo(){this.parameters.set(m7,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,n])=>{!this.parameters.has(t)&&n&&this.parameters.set(t,n)})}addClientCapabilitiesToClaims(e,t){let n;if(!e)n={};else try{n=JSON.parse(e)}catch{throw rn(Dv)}return t&&t.length>0&&(n.hasOwnProperty(rf.ACCESS_TOKEN)||(n[rf.ACCESS_TOKEN]={}),n[rf.ACCESS_TOKEN][rf.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(NI.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(NI.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(qI,Jt.POP),this.parameters.set($I,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(qI,Jt.SSH),this.parameters.set($I,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(IG,e.generateCurrentRequestHeaderValue()),this.parameters.set(EG,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(SG,Oh.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(MG,encodeURIComponent(e))}addBrokerParameters(e){const t={};t[Wv]=e.brokerClientId,t[JC]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach((t,n)=>{e.push(`${n}=${t}`)}),GG(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}/*! @azure/msal-common v14.16.0 2024-11-05 */function VG(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.16.0 2024-11-05 */function qG(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}/*! @azure/msal-common v14.16.0 2024-11-05 */function $G(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}/*! @azure/msal-common v14.16.0 2024-11-05 */const he={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},jG={InProgress:1};/*! @azure/msal-common v14.16.0 2024-11-05 */const RA=(r,e,t,n,i)=>(...o)=>{t.trace(`Executing function ${e}`);const s=n==null?void 0:n.startMeasurement(e,i);if(i){const a=e+"CallCount";n==null||n.incrementFields({[a]:1},i)}try{const a=r(...o);return s==null||s.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},Re=(r,e,t,n,i)=>(...o)=>{t.trace(`Executing function ${e}`);const s=n==null?void 0:n.startMeasurement(e,i);if(i){const a=e+"CallCount";n==null||n.incrementFields({[a]:1},i)}return n==null||n.setPreQueueTime(e,i),r(...o).then(a=>(t.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v14.16.0 2024-11-05 */class ip{constructor(e,t,n,i){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=i}async detectRegion(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(he.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)t.region_source=vc.ENVIRONMENT_VARIABLE;else{const o=ip.IMDS_OPTIONS;try{const s=await Re(this.getRegionFromIMDS.bind(this),he.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Ce.IMDS_VERSION,o);if(s.status===sf.httpSuccess&&(n=s.body,t.region_source=vc.IMDS),s.status===sf.httpBadRequest){const a=await Re(this.getCurrentVersion.bind(this),he.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return t.region_source=vc.FAILED_AUTO_DETECTION,null;const A=await Re(this.getRegionFromIMDS.bind(this),he.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);A.status===sf.httpSuccess&&(n=A.body,t.region_source=vc.IMDS)}}catch{return t.region_source=vc.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=vc.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(he.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Ce.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,Ce.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(he.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${Ce.IMDS_ENDPOINT}?format=json`,e);return n.status===sf.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}ip.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.16.0 2024-11-05 */class Fr{constructor(e,t,n,i,o,s,a,A){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=A||!1,this.regionDiscovery=new ip(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Ce.CIAM_AUTH_URL))return Zi.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Ce.ADFS:return Zi.Adfs;case Ce.DSTS:return Zi.Dsts}return Zi.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ut(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Se(ds)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Se(ds)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Se(ds)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Se(R5);return this.replacePath(this.metadata.end_session_endpoint)}else throw Se(ds)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Se(ds)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Se(ds)}canReplaceTenant(e){return e.PathSegments.length===1&&!Fr.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Zi.Default&&this.protocolMode===Ss.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const i=new Ut(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,A)=>{let c=o[A];if(A===0&&this.canReplaceTenant(i)){const l=new Ut(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];c!==l&&(this.logger.verbose(`Replacing tenant domain name ${c} with id ${l}`),c=l)}a!==c&&(t=t.replace(`/${c}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Zi.Adfs||this.protocolMode!==Ss.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(he.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Re(this.updateCloudDiscoveryMetadata.bind(this),he.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Re(this.updateEndpointMetadata.bind(this),he.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:HI(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==di.CACHE&&(n==null?void 0:n.source)!==di.CACHE&&(e.expiresAt=HI(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(he.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===di.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&t.metadata){const a=await Re(this.updateMetadataWithRegionalInformation.bind(this),he.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);af(e,a,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Re(this.getEndpointMetadataFromNetwork.bind(this),he.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(n=await Re(this.updateMetadataWithRegionalInformation.bind(this),he.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),af(e,n,!0),di.NETWORK;throw Se(y5,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),af(e,t,!1),{source:di.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return af(e,i,!1),{source:di.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=DI(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:di.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ut(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw rn(q5)}return null}async getEndpointMetadataFromNetwork(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(he.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const i=await this.networkInterface.sendGetRequestAsync(t,e);return VG(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in KI?KI[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var n,i,o;(n=this.performanceClient)==null||n.addQueueMeasurement(he.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(t){if(t!==Ce.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Aw.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,Fr.replaceWithRegionalInformation(e,t);const s=await Re(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),he.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=Aw.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Fr.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=Aw.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(he.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Re(this.getCloudDiscoveryMetadataFromNetwork.bind(this),he.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return cw(e,n,!0),di.NETWORK;throw rn($5)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Ce.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Ce.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Ce.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),cw(e,t,!1),di.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=Y7(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),cw(e,i,!1),di.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=DI(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),di.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Zi.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Fr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=wg(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),rn(Gv)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Fr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(he.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${Ce.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,t);let s,a;if(qG(o.body))s=o.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if($G(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===Ce.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=wg(a,this.hostnameAndPort)}catch(o){if(o instanceof yn)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Fr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Ut.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Qv.None){const i=t.tenant?t.tenant:Ce.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Ce.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Se(ds)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return ek.has(e)}static isPublicCloudAuthority(e){return Ce.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const i=new Ut(e);i.validateAsUri();const o=i.getUrlComponents();let s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${Ce.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Ut.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Fr.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Fr.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Fr.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const i=new Ut(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(Ce.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];t=`${t}${o}${Ce.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}Fr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",wa.COMMON,wa.CONSUMERS,wa.ORGANIZATIONS]);function zG(r){var i;const n=(i=new Ut(r).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(n){case wa.COMMON:case wa.ORGANIZATIONS:case wa.CONSUMERS:return;default:return n}}function ik(r){return r.endsWith(Ce.FORWARD_SLASH)?r:`${r}${Ce.FORWARD_SLASH}`}function WG(r){const e=r.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw rn(Gv)}return{canonicalAuthority:r.authority?ik(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v14.16.0 2024-11-05 */async function ok(r,e,t,n,i,o,s){s==null||s.addQueueMeasurement(he.AuthorityFactoryCreateDiscoveredInstance,o);const a=Fr.transformCIAMAuthority(ik(r)),A=new Fr(a,e,t,n,i,o,s);try{return await Re(A.resolveEndpointsAsync.bind(A),he.AuthorityResolveEndpointsAsync,i,s,o)(),A}catch{throw Se(ds)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ea extends yn{constructor(e,t,n,i,o){super(e,t,n),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,Ea.prototype)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class xo{static generateThrottlingStorageKey(e){return`${Oh.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){var o;const n=xo.generateThrottlingStorageKey(t),i=e.getThrottlingCache(n);if(i){if(i.throttleTime<Date.now()){e.removeItem(n);return}throw new Ea(((o=i.errorCodes)==null?void 0:o.join(" "))||Ce.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,n){if(xo.checkResponseStatus(n)||xo.checkResponseForRetryAfter(n)){const i={throttleTime:xo.calculateThrottleTime(parseInt(n.headers[qr.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(xo.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(qr.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(t||Oh.DEFAULT_THROTTLE_TIME_SECONDS),n+Oh.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,n,i){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:i,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},s=this.generateThrottlingStorageKey(o);e.removeItem(s)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class op extends yn{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,op.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function zI(r,e,t){return new op(r,e,t)}/*! @azure/msal-common v14.16.0 2024-11-05 */class Yv{constructor(e,t){this.config=oG(e),this.logger=new Ia(this.config.loggerOptions,N5,Mv),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[qr.CONTENT_TYPE]=Ce.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case vi.HOME_ACCOUNT_ID:try{const n=Dc(e.credential);t[qr.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case vi.UPN:t[qr.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,n,i,o,s){var A;s&&((A=this.performanceClient)==null||A.addQueueMeasurement(s,o));const a=await this.sendPostRequest(i,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,i){var s,a,A;xo.preProcess(this.cacheManager,e);let o;try{o=await Re(this.networkClient.sendPostRequestAsync.bind(this.networkClient),he.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(t,n);const c=o.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=o.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:c[qr.X_MS_HTTP_VERSION]||"",requestId:c[qr.X_MS_REQUEST_ID]||""},i)}catch(c){if(c instanceof op){const l=c.responseHeaders;throw l&&((A=this.performanceClient)==null||A.addFields({httpVerToken:l[qr.X_MS_HTTP_VERSION]||"",requestId:l[qr.X_MS_REQUEST_ID]||"",contentTypeHeader:l[qr.CONTENT_TYPE]||void 0,contentLengthHeader:l[qr.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},i)),c.error}throw c instanceof yn?c:Se(C5)}return xo.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.UpdateTokenEndpointAuthority,t);const n=`https://${e}/${this.authority.tenant}/`,i=await ok(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const t=new Mh(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */const Cg="no_tokens_found",sk="native_account_unavailable",Jv="refresh_token_expired",YG="interaction_required",JG="consent_required",XG="login_required",sp="bad_token";/*! @azure/msal-common v14.16.0 2024-11-05 */const WI=[YG,JG,XG,sp],ZG=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],eV={[Cg]:"No refresh token found in the cache. Please sign-in.",[sk]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Jv]:"Refresh token has expired.",[sp]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Ao extends yn{constructor(e,t,n,i,o,s,a,A){super(e,t,n),Object.setPrototypeOf(this,Ao.prototype),this.timestamp=i||Ce.EMPTY_STRING,this.traceId=o||Ce.EMPTY_STRING,this.correlationId=s||Ce.EMPTY_STRING,this.claims=a||Ce.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=A}}function YI(r,e,t){const n=!!r&&WI.indexOf(r)>-1,i=!!t&&ZG.indexOf(t)>-1,o=!!e&&WI.some(s=>e.indexOf(s)>-1);return n||o||i}function XC(r){return new Ao(r,eV[r])}/*! @azure/msal-common v14.16.0 2024-11-05 */class so{static setRequestState(e,t,n){const i=so.generateLibraryState(e,n);return t?`${i}${Ce.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw Se(jC);const n={id:e.createNewGuid()};t&&(n.meta=t);const i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw Se(jC);if(!t)throw Se(al);try{const n=t.split(Ce.RESOURCE_DELIM),i=n[0],o=n.length>1?n.slice(1).join(Ce.RESOURCE_DELIM):Ce.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||Ce.EMPTY_STRING,libraryState:a}}catch{throw Se(al)}}}/*! @azure/msal-common v14.16.0 2024-11-05 */const tV={SW:"sw"};class cl{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.PopTokenGenerateCnf,e.correlationId);const n=await Re(this.generateKid.bind(this),he.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(he.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:tV.SW}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,i){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:A,shrOptions:c}=n,l=s?new Ut(s):void 0,u=l==null?void 0:l.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Go(),m:o==null?void 0:o.toUpperCase(),u:u==null?void 0:u.HostNameAndPort,nonce:A||this.cryptoUtils.createNewGuid(),p:u==null?void 0:u.AbsolutePath,q:u!=null&&u.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...i},t,c,n.correlationId)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class nV{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.16.0 2024-11-05 */function rV(r){var n,i;const e="code=",t=(n=r.error_uri)==null?void 0:n.lastIndexOf(e);return t&&t>=0?(i=r.error_uri)==null?void 0:i.substring(t+e.length):void 0}class IA{constructor(e,t,n,i,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?Se(dg,"Cached State"):Se(dg,"Server State");let n,i;try{n=decodeURIComponent(e.state)}catch{throw Se(al,e.state)}try{i=decodeURIComponent(t)}catch{throw Se(al,e.state)}if(n!==i)throw Se(B5);if(e.error||e.error_description||e.suberror){const o=rV(e);throw YI(e.error,e.error_description,e.suberror)?new Ao(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Ea(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,t){var n;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||Ce.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Ce.NOT_AVAILABLE} - Description: ${e.error_description||Ce.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Ce.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Ce.NOT_AVAILABLE}`,o=(n=e.error_codes)!=null&&n.length?e.error_codes[0]:void 0,s=new Ea(e.error,i,e.suberror,o,e.status);if(t&&e.status&&e.status>=nf.SERVER_ERROR_RANGE_START&&e.status<=nf.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(t&&e.status&&e.status>=nf.CLIENT_ERROR_RANGE_START&&e.status<=nf.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw YI(e.error,e.error_description,e.suberror)?new Ao(e.error,e.error_description,e.suberror,e.timestamp||Ce.EMPTY_STRING,e.trace_id||Ce.EMPTY_STRING,e.correlation_id||Ce.EMPTY_STRING,e.claims||Ce.EMPTY_STRING,o):s}}async handleServerTokenResponse(e,t,n,i,o,s,a,A,c){var m;(m=this.performanceClient)==null||m.addQueueMeasurement(he.HandleServerTokenResponse,e.correlation_id);let l;if(e.id_token){if(l=xA(e.id_token||Ce.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&l.nonce!==o.nonce)throw Se(b5);if(i.maxAge||i.maxAge===0){const w=l.auth_time;if(!w)throw Se(Nv);P5(w,i.maxAge)}}this.homeAccountIdentifier=Xn.generateHomeAccountId(e.client_info||Ce.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l);let u;o&&o.state&&(u=so.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,i,l,s,o);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new nV(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),a&&!A&&d.account){const w=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(w,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await IA.generateAuthenticationResult(this.cryptoObj,t,d,!1,i,l,u,void 0,c)}await this.cacheStorage.saveCacheRecord(d,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return IA.generateAuthenticationResult(this.cryptoObj,t,d,!1,i,l,u,e,c)}generateCacheRecord(e,t,n,i,o,s,a){const A=t.getPreferredCache();if(!A)throw Se(Lv);const c=J5(o);let l,u;e.id_token&&o&&(l=tp(this.homeAccountIdentifier,A,e.id_token,this.clientId,c||""),u=Xv(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,A,c,a,void 0,this.logger));let d=null;if(e.access_token){const w=e.scope?Qn.fromString(e.scope):new Qn(i.scopes||[]),B=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,b=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,x=n+B,O=x+y,L=b&&b>0?n+b:void 0;d=np(this.homeAccountIdentifier,A,e.access_token,this.clientId,c||t.tenant||"",w.printScopes(),x,O,this.cryptoObj.base64Decode,L,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let f=null;if(e.refresh_token){let w;if(e.refresh_token_expires_in){const B=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;w=n+B}f=L5(this.homeAccountIdentifier,A,e.refresh_token,this.clientId,e.foci,s,w)}let m=null;return e.foci&&(m={clientId:this.clientId,environment:A,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:f,appMetadata:m}}static async generateAuthenticationResult(e,t,n,i,o,s,a,A,c){var x,O,L,K,H;let l=Ce.EMPTY_STRING,u=[],d=null,f,m,w=Ce.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Jt.POP&&!o.popKid){const P=new cl(e),{secret:q,keyId:ee}=n.accessToken;if(!ee)throw Se(Ov);l=await P.signPopToken(q,ee,o)}else l=n.accessToken.secret;u=Qn.fromString(n.accessToken.target).asArray(),d=new Date(Number(n.accessToken.expiresOn)*1e3),f=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(m=new Date(Number(n.accessToken.refreshOn)*1e3))}n.appMetadata&&(w=n.appMetadata.familyId===Lh?Lh:"");const B=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",y=(s==null?void 0:s.tid)||"";A!=null&&A.spa_accountid&&n.account&&(n.account.nativeAccountId=A==null?void 0:A.spa_accountid);const b=n.account?$v(n.account.getAccountInfo(),void 0,s,(x=n.idToken)==null?void 0:x.secret):null;return{authority:t.canonicalAuthority,uniqueId:B,tenantId:y,scopes:u,account:b,idToken:((O=n==null?void 0:n.idToken)==null?void 0:O.secret)||"",idTokenClaims:s||{},accessToken:l,fromCache:i,expiresOn:d,extExpiresOn:f,refreshOn:m,correlationId:o.correlationId,requestId:c||Ce.EMPTY_STRING,familyId:w,tokenType:((L=n.accessToken)==null?void 0:L.tokenType)||Ce.EMPTY_STRING,state:a?a.userRequestState:Ce.EMPTY_STRING,cloudGraphHostName:((K=n.account)==null?void 0:K.cloudGraphHostName)||Ce.EMPTY_STRING,msGraphHost:((H=n.account)==null?void 0:H.msGraphHost)||Ce.EMPTY_STRING,code:A==null?void 0:A.spa_code,fromNativeBroker:!1}}}function Xv(r,e,t,n,i,o,s,a,A,c,l){l==null||l.verbose("setCachedAccount called");const d=r.getAccountKeys().find(y=>y.startsWith(t));let f=null;d&&(f=r.getAccount(d,l));const m=f||Xn.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:A==null?void 0:A.cloud_graph_host_name,msGraphHost:A==null?void 0:A.msgraph_host,nativeAccountId:c},e,n),w=m.tenantProfiles||[],B=a||m.realm;if(B&&!w.find(y=>y.tenantId===B)){const y=qv(t,m.localAccountId,B,i);w.push(y)}return m.tenantProfiles=w,m}/*! @azure/msal-common v14.16.0 2024-11-05 */async function ak(r,e,t){return typeof r=="string"?r:r({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v14.16.0 2024-11-05 */class Ak extends Yv{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes}async getAuthCodeUrl(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(he.GetAuthCodeUrl,e.correlationId);const t=await Re(this.createAuthCodeUrlQueryString.bind(this),he.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Ut.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){var a,A;if((a=this.performanceClient)==null||a.addQueueMeasurement(he.AuthClientAcquireToken,e.correlationId),!e.code)throw Se(S5);const n=Go(),i=await Re(this.executeTokenRequest.bind(this),he.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(A=i.headers)==null?void 0:A[qr.X_MS_REQUEST_ID],s=new IA(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),Re(s.handleServerTokenResponse.bind(s),he.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new IA(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw Se(U5);return e}getLogoutUri(e){if(!e)throw rn(G5);const t=this.createLogoutUrlQueryString(e);return Ut.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var c,l;(c=this.performanceClient)==null||c.addQueueMeasurement(he.AuthClientExecuteTokenRequest,t.correlationId);const n=this.createTokenQueryParameters(t),i=Ut.appendQueryString(e.tokenEndpoint,n),o=await Re(this.createTokenRequestBody.bind(this),he.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const u=gg(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${u.uid}${Pr.CLIENT_INFO_SEPARATOR}${u.utid}`,type:vi.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const a=this.createTokenRequestHeaders(s||t.ccsCredential),A={clientId:((l=t.tokenBodyParameters)==null?void 0:l.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Re(this.executePostToTokenEndpoint.bind(this),he.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,a,A,t.correlationId,he.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(he.AuthClientCreateTokenRequestBody,e.correlationId);const t=new Mh(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[bA])||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Uc.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!YC(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await ak(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(s.assertionType)}if(t.addGrantType(g5.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===Jt.POP){const s=new cl(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await Re(s.generateCnf.bind(s),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(a)}else if(e.authenticationScheme===Jt.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw rn(rp);(!oo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{const s=gg(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${s.uid}${Pr.CLIENT_INFO_SEPARATOR}${s.utid}`,type:vi.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case vi.HOME_ACCOUNT_ID:try{const s=Dc(n.credential);t.addCcsOid(s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case vi.UPN:t.addCcsUpn(n.credential);break}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[jI])&&t.addExtraQueryParameters({[jI]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){var o,s;const t=e.correlationId||this.config.cryptoInterface.createNewGuid();(o=this.performanceClient)==null||o.addQueueMeasurement(he.AuthClientCreateQueryString,t);const n=new Mh(t,this.performanceClient);n.addClientId(e.embeddedClientId||((s=e.extraQueryParameters)==null?void 0:s[bA])||this.config.authOptions.clientId);const i=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(i,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),YC(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==cr.SELECT_ACCOUNT)if(e.sid&&e.prompt===cr.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){const a=this.extractAccountSid(e.account);let A=this.extractLoginHint(e.account);if(A&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),A=null),A){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(A);try{const c=Dc(e.account.homeAccountId);n.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===cr.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(a);try{const c=Dc(e.account.homeAccountId);n.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{const c=Dc(e.account.homeAccountId);n.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.nativeBroker&&(n.addNativeBroker(),e.authenticationScheme===Jt.POP)){const a=new cl(this.cryptoUtils);let A;e.popKid?A=this.cryptoUtils.encodeKid(e.popKid):A=(await Re(a.generateCnf.bind(a),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(A)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new Mh(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var t;return((t=e.idTokenClaims)==null?void 0:t.sid)||null}extractLoginHint(e){var t;return((t=e.idTokenClaims)==null?void 0:t.login_hint)||null}}/*! @azure/msal-common v14.16.0 2024-11-05 */const iV=300;class ZC extends Yv{constructor(e,t){super(e,t)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(he.RefreshTokenClientAcquireToken,e.correlationId);const t=Go(),n=await Re(this.executeTokenRequest.bind(this),he.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(a=n.headers)==null?void 0:a[qr.X_MS_REQUEST_ID],o=new IA(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Re(o.handleServerTokenResponse.bind(o),he.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var n;if(!e)throw rn(K5);if((n=this.performanceClient)==null||n.addQueueMeasurement(he.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Se(Pv);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Re(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof Ao&&i.errorCode===Cg,s=i instanceof Ea&&i.errorCode===RI.INVALID_GRANT_ERROR&&i.subError===RI.CLIENT_MISMATCH_ERROR;if(o||s)return Re(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return Re(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=RA(this.cacheManager.getRefreshToken.bind(this.cacheManager),he.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw XC(Cg);if(n.expiresOn&&WC(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||iV))throw XC(Jv);const i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Jt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:vi.HOME_ACCOUNT_ID}};try{return await Re(this.acquireToken.bind(this),he.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){if(s instanceof Ao&&s.subError===sp){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const a=Hc(n);this.cacheManager.removeRefreshToken(a)}throw s}}async executeTokenRequest(e,t){var A,c;(A=this.performanceClient)==null||A.addQueueMeasurement(he.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),i=Ut.appendQueryString(t.tokenEndpoint,n),o=await Re(this.createTokenRequestBody.bind(this),he.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:((c=e.tokenBodyParameters)==null?void 0:c.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Re(this.executePostToTokenEndpoint.bind(this),he.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,he.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(he.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,n=new Mh(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[bA])||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),n.addGrantType(g5.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!YC(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await ak(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(a.assertionType)}if(e.authenticationScheme===Jt.POP){const a=new cl(this.cryptoUtils,this.performanceClient);let A;e.popKid?A=this.cryptoUtils.encodeKid(e.popKid):A=(await Re(a.generateCnf.bind(a),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(A)}else if(e.authenticationScheme===Jt.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw rn(rp);if((!oo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case vi.HOME_ACCOUNT_ID:try{const a=Dc(e.ccsCredential.credential);n.addCcsOid(a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case vi.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}/*! @azure/msal-common v14.16.0 2024-11-05 */class oV extends Yv{constructor(e,t){super(e,t)}async acquireToken(e){var t;try{const[n,i]=await this.acquireCachedToken({...e,scopes:(t=e.scopes)!=null&&t.length?e.scopes:[...gl]});return i===ea.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new ZC(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),n}catch(n){if(n instanceof ep&&n.errorCode===vs)return new ZC(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw n}}async acquireCachedToken(e){var A;(A=this.performanceClient)==null||A.addQueueMeasurement(he.SilentFlowClientAcquireCachedToken,e.correlationId);let t=ea.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!oo.isEmptyObj(e.claims))throw this.setCacheOutcome(ea.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Se(vs);if(!e.account)throw Se(Pv);const n=e.account.tenantId||zG(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,n,this.performanceClient,e.correlationId);if(o){if(N7(o.cachedAt)||WC(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ea.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Se(vs);o.refreshOn&&WC(o.refreshOn,0)&&(t=ea.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(ea.NO_CACHED_ACCESS_TOKEN,e.correlationId),Se(vs);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Re(this.generateResultFromCacheRecord.bind(this),he.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){var n,i;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},t),e!==ea.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(he.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let n;if(e.idToken&&(n=xA(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const o=n==null?void 0:n.auth_time;if(!o)throw Se(Nv);P5(o,t.maxAge)}return IA.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const sV={sendGetRequestAsync:()=>Promise.reject(Se(bt)),sendPostRequestAsync:()=>Promise.reject(Se(bt))};/*! @azure/msal-common v14.16.0 2024-11-05 */const JI=",",ck="|";function aV(r){const{skus:e,libraryName:t,libraryVersion:n,extensionName:i,extensionVersion:o}=r,s=new Map([[0,[t,n]],[2,[i,o]]]);let a=[];if(e!=null&&e.length){if(a=e.split(JI),a.length<4)return e}else a=Array.from({length:4},()=>ck);return s.forEach((A,c)=>{var l,u;A.length===2&&((l=A[0])!=null&&l.length)&&((u=A[1])!=null&&u.length)&&AV({skuArr:a,index:c,skuName:A[0],skuVersion:A[1]})}),a.join(JI)}function AV(r){const{skuArr:e,index:t,skuName:n,skuVersion:i}=r;t>=e.length||(e[t]=[n,i].join(ck))}class tu{constructor(e,t){this.cacheOutcome=ea.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Ce.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Ce.EMPTY_STRING,this.telemetryCacheKey=gr.CACHE_KEY+Pr.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${gr.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&t.push(`broker_error=${n}`);const i=t.join(gr.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(gr.VALUE_SEPARATOR);return[gr.SCHEMA_VERSION,s,i].join(gr.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=tu.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(gr.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(gr.VALUE_SEPARATOR),o=e.errors.length,s=t<o?gr.OVERFLOW_TRUE:gr.OVERFLOW_FALSE,a=[o,s].join(gr.VALUE_SEPARATOR);return[gr.SCHEMA_VERSION,e.cacheHits,n,i,a].join(gr.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=gr.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof yn?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(gr.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=tu.maxErrorsToSend(e),n=e.errors.length;if(t===n)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,n=0,i=0;const o=e.errors.length;for(t=0;t<o;t++){const s=e.failedRequests[2*t]||Ce.EMPTY_STRING,a=e.failedRequests[2*t+1]||Ce.EMPTY_STRING,A=e.errors[t]||Ce.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+A.length+3,i<gr.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Ce.EMPTY_STRING),e.push(this.regionSource||Ce.EMPTY_STRING),e.push(this.regionOutcome||Ce.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return aV(e)}}/*! @azure/msal-common v14.16.0 2024-11-05 */const lk="missing_kid_error",hk="missing_alg_error";/*! @azure/msal-common v14.16.0 2024-11-05 */const cV={[lk]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[hk]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Zv extends yn{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Zv.prototype)}}function XI(r){return new Zv(r,cV[r])}/*! @azure/msal-common v14.16.0 2024-11-05 */class e0{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw XI(lk);if(!e.alg)throw XI(hk);const t=new e0({typ:e.typ||w7.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-common v14.16.0 2024-11-05 */class ZI{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class lV{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:jG.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new ZI}}startPerformanceMeasurement(){return new ZI}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const t0="pkce_not_created",ey="crypto_nonexistent",ap="empty_navigate_uri",uk="hash_empty_error",n0="no_state_in_hash",dk="hash_does_not_contain_known_properties",fk="unable_to_parse_state",gk="state_interaction_type_mismatch",pk="interaction_in_progress",mk="popup_window_error",wk="empty_window_error",EA="user_cancelled",hV="monitor_popup_timeout",Ck="monitor_window_timeout",yk="redirect_in_iframe",vk="block_iframe_reload",Bk="block_nested_popups",uV="iframe_closed_prematurely",Ap="silent_logout_unsupported",bk="no_account_error",dV="silent_prompt_value_error",Ik="no_token_request_cache_error",Ek="unable_to_parse_token_request_cache_error",r0="no_cached_authority_error",fV="auth_request_not_set_error",gV="invalid_cache_type",cp="non_browser_environment",xc="database_not_open",yg="no_network_connectivity",Sk="post_request_failed",Tk="get_request_failed",ty="failed_to_parse_response",_k="unable_to_load_token",i0="crypto_key_not_found",kk="auth_code_required",Fk="auth_code_or_nativeAccountId_required",Uk="spa_code_and_nativeAccountId_present",o0="database_unavailable",xk="unable_to_acquire_token_from_native_platform",Rk="native_handshake_timeout",Nk="native_extension_not_installed",fu="native_connection_not_established",Pk="uninitialized_public_client_application",Lk="native_prompt_not_supported",Ok="invalid_base64_string",Mk="invalid_pop_token_request",Qk="failed_to_build_headers",Hk="failed_to_parse_headers";/*! @azure/msal-browser v3.28.0 2024-12-12 */const cs="For more visit: aka.ms/msaljs/browser-errors",pV={[t0]:"The PKCE code challenge and verifier could not be generated.",[ey]:"The crypto object or function is not available.",[ap]:"Navigation URI is empty. Please check stack trace for more info.",[uk]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${cs}`,[n0]:"Hash does not contain state. Please verify that the request originated from msal.",[dk]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${cs}`,[fk]:"Unable to parse state. Please verify that the request originated from msal.",[gk]:"Hash contains state but the interaction type does not match the caller.",[pk]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${cs}`,[mk]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[wk]:"window.open returned null or undefined window object.",[EA]:"User cancelled the flow.",[hV]:`Token acquisition in popup failed due to timeout.  ${cs}`,[Ck]:`Token acquisition in iframe failed due to timeout.  ${cs}`,[yk]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[vk]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${cs}`,[Bk]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[uV]:"The iframe being monitored was closed prematurely.",[Ap]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[bk]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[dV]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Ik]:"No token request found in cache.",[Ek]:"The cached token request could not be parsed.",[r0]:"No cached authority found.",[fV]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[gV]:"Invalid cache type",[cp]:"Login and token requests are not supported in non-browser environments.",[xc]:"Database is not open!",[yg]:"No network connectivity. Check your internet connection.",[Sk]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Tk]:"Network request failed. Please check the network trace to determine root cause.",[ty]:"Failed to parse network response. Check network trace.",[_k]:"Error loading token to cache.",[i0]:"Cryptographic Key or Keypair not found in browser storage.",[kk]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Fk]:"An authorization code or nativeAccountId must be provided to this flow.",[Uk]:"Request cannot contain both spa code and native account id.",[o0]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[xk]:`Unable to acquire token from native platform.  ${cs}`,[Rk]:"Timed out while attempting to establish connection to browser extension",[Nk]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[fu]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${cs}`,[Pk]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${cs}`,[Lk]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ok]:"Invalid base64 encoded string.",[Mk]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Qk]:"Failed to build request headers object.",[Hk]:"Failed to parse response headers"};class gu extends yn{constructor(e,t){super(e,pV[e],t),Object.setPrototypeOf(this,gu.prototype),this.name="BrowserAuthError"}}function We(r,e){return new gu(r,e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const wi={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Kc={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},AA={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},ii={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},eE={GET:"GET",POST:"POST"},Vt={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Ys={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Af={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},ln={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var tt;(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(tt||(tt={}));const tE={scopes:gl},Dk="jwk",ny="msal.db",mV=1,wV=`${ny}.keys`,pi={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},CV=[pi.Default,pi.Skip,pi.RefreshTokenAndNetwork],yV="msal.browser.log.level",vV="msal.browser.log.pii";/*! @azure/msal-browser v3.28.0 2024-12-12 */function cf(r){return encodeURIComponent(s0(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function lp(r){return Kk(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s0(r){return Kk(new TextEncoder().encode(r))}function Kk(r){const e=Array.from(r,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const BV="RSASSA-PKCS1-v1_5",Gk="SHA-256",bV=2048,IV=new Uint8Array([1,0,1]),nE="0123456789abcdef",rE=new Uint32Array(1),EV="crypto_subtle_undefined",a0={name:BV,hash:Gk,modulusLength:bV,publicExponent:IV};function SV(){if(!window)throw We(cp);if(!window.crypto)throw We(ey);if(!window.crypto.subtle)throw We(ey,EV)}async function Vk(r,e,t){e==null||e.addQueueMeasurement(he.Sha256Digest,t);const i=new TextEncoder().encode(r);return window.crypto.subtle.digest(Gk,i)}function TV(r){return window.crypto.getRandomValues(r)}function hw(){return window.crypto.getRandomValues(rE),rE[0]}function Fs(){const r=Date.now(),e=hw()*1024+(hw()&1023),t=new Uint8Array(16),n=Math.trunc(e/2**30),i=e&2**30-1,o=hw();t[0]=r/2**40,t[1]=r/2**32,t[2]=r/2**24,t[3]=r/2**16,t[4]=r/2**8,t[5]=r,t[6]=112|n>>>8,t[7]=n,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=nE.charAt(t[a]>>>4),s+=nE.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function _V(r,e){return window.crypto.subtle.generateKey(a0,r,e)}async function uw(r){return window.crypto.subtle.exportKey(Dk,r)}async function kV(r,e,t){return window.crypto.subtle.importKey(Dk,r,a0,e,t)}async function FV(r,e){return window.crypto.subtle.sign(a0,r,e)}async function qk(r){const e=await Vk(r),t=new Uint8Array(e);return lp(t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */const A0="storage_not_supported",UV="stubbed_public_client_application_called",$k="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.28.0 2024-12-12 */const xV={[A0]:"Given storage configuration option was not supported.",[UV]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[$k]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class c0 extends yn{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,c0.prototype)}}function l0(r){return new c0(r,xV[r])}/*! @azure/msal-browser v3.28.0 2024-12-12 */function RV(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function NV(r){const e=r.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function h0(){return window.parent!==window}function PV(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${wi.POPUP_NAME_PREFIX}.`)===0}function Bs(){return window.location.href.split("?")[0].split("#")[0]}function LV(){const e=new Ut(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function OV(){if(Ut.hashContainsKnownProperties(window.location.hash)&&h0())throw We(vk)}function MV(r){if(h0()&&!r)throw We(yk)}function QV(){if(PV())throw We(Bk)}function jk(){if(typeof window>"u")throw We(cp)}function zk(r){if(!r)throw We(Pk)}function u0(r){jk(),OV(),QV(),zk(r)}function iE(r,e){if(u0(r),MV(e.system.allowRedirectInIframe),e.cache.cacheLocation===ii.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw l0($k)}function Wk(r){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(r).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function HV(){return Fs()}/*! @azure/msal-browser v3.28.0 2024-12-12 */class vg{navigateInternal(e,t){return vg.defaultNavigateWindow(e,t)}navigateExternal(e,t){return vg.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(n=>{setTimeout(()=>{n(!0)},t.timeout)})}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class DV{async sendGetRequestAsync(e,t){let n,i={},o=0;const s=oE(t);try{n=await fetch(e,{method:eE.GET,headers:s})}catch{throw We(window.navigator.onLine?Tk:yg)}i=sE(n.headers);try{return o=n.status,{headers:i,body:await n.json(),status:o}}catch{throw zI(We(ty),o,i)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",i=oE(t);let o,s=0,a={};try{o=await fetch(e,{method:eE.POST,headers:i,body:n})}catch{throw We(window.navigator.onLine?Sk:yg)}a=sE(o.headers);try{return s=o.status,{headers:a,body:await o.json(),status:s}}catch{throw zI(We(ty),s,a)}}}function oE(r){try{const e=new Headers;if(!(r&&r.headers))return e;const t=r.headers;return Object.entries(t).forEach(([n,i])=>{e.append(n,i)}),e}catch{throw We(Qk)}}function sE(r){try{const e={};return r.forEach((t,n)=>{e[n]=t}),e}catch{throw We(Hk)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const KV=6e4,ry=1e4,GV=3e4,VV=2e3;function qV({auth:r,cache:e,system:t,telemetry:n},i){const o={clientId:Ce.EMPTY_STRING,authority:`${Ce.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Ce.EMPTY_STRING,authorityMetadata:Ce.EMPTY_STRING,redirectUri:typeof window<"u"?Bs():"",postLogoutRedirectUri:Ce.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ss.AAD,OIDCOptions:{serverResponseType:du.FRAGMENT,defaultScopes:[Ce.OPENID_SCOPE,Ce.PROFILE_SCOPE,Ce.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Qv.None,tenant:Ce.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:ii.SessionStorage,temporaryCacheLocation:ii.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===ii.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:pn.Info,piiLoggingEnabled:!1},c={...{...nk,loggerOptions:a,networkClient:i?new DV:sV,navigationClient:new vg,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||KV,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||ry,navigateFrameWait:0,redirectNavigationTimeout:GV,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||VV,pollIntervalMilliseconds:wi.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||a},l={application:{appName:Ce.EMPTY_STRING,appVersion:Ce.EMPTY_STRING},client:new lV};if((r==null?void 0:r.protocolMode)!==Ss.OIDC&&(r!=null&&r.OIDCOptions)&&new Ia(c.loggerOptions).warning(JSON.stringify(rn(z5))),r!=null&&r.protocolMode&&r.protocolMode!==Ss.AAD&&(c!=null&&c.allowNativeBroker))throw rn(W5);return{auth:{...o,...r,OIDCOptions:{...o.OIDCOptions,...r==null?void 0:r.OIDCOptions}},cache:{...s,...e},system:c,telemetry:{...l,...n}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const $V="@azure/msal-browser",hp="3.28.0";/*! @azure/msal-browser v3.28.0 2024-12-12 */class d0{static loggerCallback(e,t){switch(e){case pn.Error:console.error(t);return;case pn.Info:console.info(t);return;case pn.Verbose:console.debug(t);return;case pn.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var A;this.browserEnvironment=typeof window<"u",this.config=qV(e,this.browserEnvironment);let t;try{t=window[ii.SessionStorage]}catch{}const n=t==null?void 0:t.getItem(yV),i=(A=t==null?void 0:t.getItem(vV))==null?void 0:A.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=n&&Object.keys(pn).includes(n)?pn[n]:void 0;a&&(s.loggerCallback=d0.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new Ia(s,$V,hp),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class SA extends d0{getModuleName(){return SA.MODULE_NAME}getId(){return SA.ID}async initialize(){return this.available=typeof window<"u",this.available}}SA.MODULE_NAME="";SA.ID="StandardOperatingContext";/*! @azure/msal-browser v3.28.0 2024-12-12 */function Qo(r){return new TextDecoder().decode(jV(r))}function jV(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw We(Ok)}const t=atob(e);return Uint8Array.from(t,n=>n.codePointAt(0)||0)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class zV{constructor(){this.dbName=ny,this.version=mV,this.tableName=wV,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),n.addEventListener("error",()=>t(We(o0)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(We(xc));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const A=a;this.closeConnection(),t(A.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((n,i)=>{if(!this.db)return i(We(xc));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",A=>{this.closeConnection(),i(A)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(We(xc));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(We(xc));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),t(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(We(xc));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const A=a;this.closeConnection(),t(A.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const n=window.indexedDB.deleteDatabase(ny),i=setTimeout(()=>t(!1),200);n.addEventListener("success",()=>(clearTimeout(i),e(!0))),n.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),n.addEventListener("error",()=>(clearTimeout(i),t(!1)))})}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class iy{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,n)=>{e.push(n)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class WV{constructor(e){this.inMemoryCache=new iy,this.indexedDBCache=new zV,this.logger=e}handleDatabaseAccessError(e){if(e instanceof gu&&e.errorCode===o0)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class ll{constructor(e,t){this.logger=e,SV(),this.cache=new WV(this.logger),this.performanceClient=t}createNewGuid(){return Fs()}base64Encode(e){return s0(e)}base64Decode(e){return Qo(e)}base64UrlEncode(e){return cf(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var l;const t=(l=this.performanceClient)==null?void 0:l.startMeasurement(he.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await _V(ll.EXTRACTABLE,ll.POP_KEY_USAGES),i=await uw(n.publicKey),o={e:i.e,kty:i.kty,n:i.n},s=aE(o),a=await this.hashString(s),A=await uw(n.privateKey),c=await kV(A,!1,["sign"]);return await this.cache.setItem(a,{privateKey:c,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,i){var x;const o=(x=this.performanceClient)==null?void 0:x.startMeasurement(he.CryptoOptsSignJwt,i),s=await this.cache.getItem(t);if(!s)throw We(i0);const a=await uw(s.publicKey),A=aE(a),c=cf(JSON.stringify({kid:t})),l=e0.getShrHeaderString({...n==null?void 0:n.header,alg:a.alg,kid:c}),u=cf(l);e.cnf={jwk:JSON.parse(A)};const d=cf(JSON.stringify(e)),f=`${u}.${d}`,w=new TextEncoder().encode(f),B=await FV(s.privateKey,w),y=lp(new Uint8Array(B)),b=`${f}.${y}`;return o&&o.end({success:!0}),b}async hashString(e){return qk(e)}}ll.POP_KEY_USAGES=["sign","verify"];ll.EXTRACTABLE=!0;function aE(r){return JSON.stringify(r,Object.keys(r).sort())}/*! @azure/msal-browser v3.28.0 2024-12-12 */class YV{constructor(){if(!window.localStorage)throw l0(A0)}getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class JV{constructor(){if(!window.sessionStorage)throw l0(A0)}getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function Yk(r,e){if(!e)return null;try{return so.parseRequestState(r,e).libraryState.meta}catch{throw Se(al)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const XV=24*60*60*1e3;class ZV{getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){const o=n[i],[s,...a]=decodeURIComponent(o).trim().split("="),A=a.join("=");if(s===t)return A}return""}setItem(e,t,n,i=!0){let o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){const s=eq(n);o+=`expires=${s};`}i&&(o+="Secure;"),document.cookie=o}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(n=>{const i=decodeURIComponent(n).trim().split("=");t.push(i[0])}),t}containsKey(e){return this.getKeys().includes(e)}}function eq(r){const e=new Date;return new Date(e.getTime()+r*XV).toUTCString()}/*! @azure/msal-browser v3.28.0 2024-12-12 */class oy extends Al{constructor(e,t,n,i,o,s){super(e,n,i,o),this.cacheConfig=t,this.logger=i,this.internalStorage=new iy,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new ZV,t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){try{switch(e){case ii.LocalStorage:return new YV;case ii.SessionStorage:return new JV;case ii.MemoryStorage:default:break}}catch(t){this.logger.error(t)}return this.cacheConfig.cacheLocation=ii.MemoryStorage,new iy}migrateCacheEntries(){const e=`${Ce.CACHE_PREFIX}.${ir.ID_TOKEN}`,t=`${Ce.CACHE_PREFIX}.${ir.CLIENT_INFO}`,n=`${Ce.CACHE_PREFIX}.${ir.ERROR}`,i=`${Ce.CACHE_PREFIX}.${ir.ERROR_DESC}`,o=this.browserStorage.getItem(e),s=this.browserStorage.getItem(t),a=this.browserStorage.getItem(n),A=this.browserStorage.getItem(i),c=[o,s,a,A];[ir.ID_TOKEN,ir.CLIENT_INFO,ir.ERROR,ir.ERROR_DESC].forEach((u,d)=>{const f=c[d];f&&this.setTemporaryCache(u,f,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(Ys.ACCOUNT_KEYS),t=this.getItem(`${Ys.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const o=this.getItem(i);if(o){const s=this.validateAndParseJson(o);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case At.ID_TOKEN:if(MI(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const a=s,A=this.updateCredentialCacheKey(i,a);this.addTokenKey(A,At.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case At.ACCESS_TOKEN:case At.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(OI(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const a=s,A=this.updateCredentialCacheKey(i,a);this.addTokenKey(A,At.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case At.REFRESH_TOKEN:if(QI(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const a=s,A=this.updateCredentialCacheKey(i,a);this.addTokenKey(A,At.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const o=this.getItem(i);if(o){const s=this.validateAndParseJson(o);s&&Xn.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return!n||!Xn.isAccountEntity(n)?(this.removeAccountKeyFromMap(e),null):Al.toObject(new Xn,n)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(Ys.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(Ys.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(Ys.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,At.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,At.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,At.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${Ys.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case At.ID_TOKEN:n.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case At.ACCESS_TOKEN:n.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case At.REFRESH_TOKEN:n.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Se(zC)}this.setItem(`${Ys.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case At.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=n.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case At.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case At.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=n.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),Se(zC)}this.setItem(`${Ys.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,At.ID_TOKEN),null;const n=this.validateAndParseJson(t);return!n||!MI(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,At.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=Hc(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,At.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,At.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return!n||!OI(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,At.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=Hc(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,At.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,At.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return!n||!QI(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,At.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=Hc(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,At.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!G7(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=K7(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!H7(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&V7(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Af.WRAPPER_SKU,e),this.internalStorage.setItem(Af.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(Af.WRAPPER_SKU)||Ce.EMPTY_STRING,t=this.internalStorage.getItem(Af.WRAPPER_VER)||Ce.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(ir.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(ir.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const s=this.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(ir.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(ir.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(i)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return!n||!D7(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(n);if(!i){if(this.cacheConfig.cacheLocation===ii.LocalStorage){const o=this.browserStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,n){const i=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(Ce.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(Ce.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(he.ClearTokensAndKeysWithClaims,t);const n=this.getTokenKeys(),i=[];n.accessToken.forEach(o=>{const s=this.getAccessTokenCredential(o);s!=null&&s.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):oo.startsWith(e,Ce.CACHE_PREFIX)||oo.startsWith(e,ir.ADAL_ID_TOKEN)?e:`${Ce.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=so.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Vt.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=so.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Vt.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=so.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Vt.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const i=this.generateAuthorityKey(n);return this.getTemporaryCache(i)}updateCacheEntries(e,t,n,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const A=this.generateAuthorityKey(e);if(this.setTemporaryCache(A,n,!1),o){const c={credential:o.homeAccountId,type:vi.HOME_ACCOUNT_ID};this.setTemporaryCache(Vt.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(i){const c={credential:i,type:vi.UPN};this.setTemporaryCache(Vt.CCS_CREDENTIAL,JSON.stringify(c),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(Vt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Vt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Vt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Vt.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(Vt.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(Vt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||Ce.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(Vt.REQUEST_STATE)===-1)return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const i=Yk(this.cryptoImpl,n);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))}),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=s0(JSON.stringify(e));this.setTemporaryCache(Vt.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(Vt.REQUEST_PARAMS,!0);if(!t)throw We(Ik);let n;try{n=JSON.parse(Qo(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),We(Ek)}if(this.removeTemporaryItem(this.generateCacheKey(Vt.REQUEST_PARAMS)),!n.authority){const i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw We(r0);n.authority=o}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Vt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${Ce.CACHE_PREFIX}.${Vt.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${Ce.CACHE_PREFIX}.${Vt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw We(pk);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(ir.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(ir.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(ir.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(ir.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const i=xA(n,Qo);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=Hc(t);if(e!==n){const i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){var a,A,c;const n=tp((a=e.account)==null?void 0:a.homeAccountId,(A=e.account)==null?void 0:A.environment,e.idToken,this.clientId,e.tenantId);let i;t.claims&&(i=await this.cryptoImpl.hashString(t.claims));const o=np((c=e.account)==null?void 0:c.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,Qo,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),s={idToken:n,accessToken:o};return this.saveCacheRecord(s)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(i){if(i instanceof Yc&&this.performanceClient&&n)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},n)}catch{}throw i}}}const tq=(r,e)=>{const t={cacheLocation:ii.MemoryStorage,temporaryCacheLocation:ii.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new oy(r,t,fg,e)};/*! @azure/msal-browser v3.28.0 2024-12-12 */function nq(r,e,t,n){return r.verbose("getAllAccounts called"),t?e.getAllAccounts(n):[]}function rq(r,e,t){if(e.trace("getAccount called"),Object.keys(r).length===0)return e.warning("getAccount: No accountFilter provided"),null;const n=t.getAccountInfoFilteredBy(r);return n?(e.verbose("getAccount: Account matching provided filter found, returning"),n):(e.verbose("getAccount: No matching account found, returning null"),null)}function iq(r,e,t){if(e.trace("getAccountByUsername called"),!r)return e.warning("getAccountByUsername: No username provided"),null;const n=t.getAccountInfoFilteredBy({username:r});return n?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${r}`),n):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function oq(r,e,t){if(e.trace("getAccountByHomeId called"),!r)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const n=t.getAccountInfoFilteredBy({homeAccountId:r});return n?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${r}`),n):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function sq(r,e,t){if(e.trace("getAccountByLocalId called"),!r)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const n=t.getAccountInfoFilteredBy({localAccountId:r});return n?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${r}`),n):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function aq(r,e){e.setActiveAccount(r)}function Aq(r){return r.getActiveAccount()}/*! @azure/msal-browser v3.28.0 2024-12-12 */const at={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.28.0 2024-12-12 */class cq{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Ia({})}addEventCallback(e,t,n){if(typeof window<"u"){const i=n||HV();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,i){if(typeof window<"u"){const o={eventType:e,interactionType:t||null,payload:n||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],A)=>{(a.length===0||a.includes(e))&&(this.logger.verbose(`Emitting event to callback ${A}: ${e}`),s.apply(null,[o]))})}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Jk{constructor(e,t,n,i,o,s,a,A,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=A,this.correlationId=c||Fs(),this.logger=i.clone(wi.MSAL_SKU,hp,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Xn.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Xn.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Ut.getAbsoluteUrl(t,Bs())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new tu(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(he.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=n!=null&&n.length?n==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(Ut.getDomainFromUrl(o),t.environment):o,A=Fr.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Re(ok,he.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(A,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw rn(Y5);return c}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const lq=32;async function hq(r,e,t){r.addQueueMeasurement(he.GeneratePkceCodes,t);const n=RA(uq,he.GenerateCodeVerifier,e,r,t)(r,e,t),i=await Re(dq,he.GenerateCodeChallengeFromVerifier,e,r,t)(n,r,e,t);return{verifier:n,challenge:i}}function uq(r,e,t){try{const n=new Uint8Array(lq);return RA(TV,he.GetRandomValues,e,r,t)(n),lp(n)}catch{throw We(t0)}}async function dq(r,e,t,n){e.addQueueMeasurement(he.GenerateCodeChallengeFromVerifier,n);try{const i=await Re(Vk,he.Sha256Digest,t,e,n)(r,e,n);return lp(new Uint8Array(i))}catch{throw We(t0)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function f0(r,e,t,n){t.addQueueMeasurement(he.InitializeBaseRequest,r.correlationId);const i=r.authority||e.auth.authority,o=[...r&&r.scopes||[]],s={...r,correlationId:r.correlationId,authority:i,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=Jt.BEARER,n.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Jt.SSH){if(!r.sshJwk)throw rn(rp);if(!r.sshKid)throw rn(j5)}n.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&r.claims&&!oo.isEmptyObj(r.claims)&&(s.requestedClaimsHash=await qk(r.claims)),s}async function fq(r,e,t,n,i){n.addQueueMeasurement(he.InitializeSilentRequest,r.correlationId);const o=await Re(f0,he.InitializeBaseRequest,i,n,r.correlationId)(r,t,n,i);return{...r,...o,account:e,forceRefresh:r.forceRefresh||!1}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class pl extends Jk{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await Re(hq,he.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:Ce.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=Ce.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||Fs(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Ut.getAbsoluteUrl(e.postLogoutRedirectUri,Bs())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Ut.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Bs())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Ut.getAbsoluteUrl(Bs(),Bs())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await Re(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Ak(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(he.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await Re(this.getDiscoveredAuthority.bind(this),he.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),A=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:A.loggerCallback,piiLoggingEnabled:A.piiLoggingEnabled,logLevel:A.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:wi.MSAL_SKU,version:hp,cpu:Ce.EMPTY_STRING,os:Ce.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(he.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),i={interactionType:t},o=so.setRequestState(this.browserCrypto,e&&e.state||Ce.EMPTY_STRING,i),a={...await Re(f0,he.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Fs(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const A=e.account||this.browserStorage.getActiveAccount();if(A&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${A.homeAccountId}`,this.correlationId),a.account=A),!a.loginHint&&!A){const c=this.browserStorage.getLegacyLoginHint();c&&(a.loginHint=c)}return a}}/*! @azure/msal-browser v3.28.0 2024-12-12 */const gq="ContentError",Xk="user_switch";/*! @azure/msal-browser v3.28.0 2024-12-12 */const pq="USER_INTERACTION_REQUIRED",mq="USER_CANCEL",wq="NO_NETWORK",Cq="PERSISTENT_ERROR",yq="DISABLED",vq="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.28.0 2024-12-12 */const Bq=-2147186943,bq={[Xk]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Ro extends yn{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Ro.prototype),this.name="NativeAuthError",this.ext=n}}function Rc(r){if(r.ext&&r.ext.status&&(r.ext.status===Cq||r.ext.status===yq)||r.ext&&r.ext.error&&r.ext.error===Bq)return!0;switch(r.errorCode){case gq:return!0;default:return!1}}function sy(r,e,t){if(t&&t.status)switch(t.status){case vq:return XC(sk);case pq:return new Ao(r,e);case mq:return We(EA);case wq:return We(yg)}return new Ro(r,bq[r]||e,t)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Zk extends pl{async acquireToken(e){this.performanceClient.addQueueMeasurement(he.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(ln.acquireTokenSilent_silentFlow),n=await Re(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new oV(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await Re(i.acquireCachedToken.bind(i),he.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof gu&&o.errorCode===i0&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Jc extends Jk{constructor(e,t,n,i,o,s,a,A,c,l,u,d){var m;super(e,t,n,i,o,s,A,c,d),this.apiId=a,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new Zk(e,this.nativeStorageManager,n,i,o,s,A,c,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const f=this.nativeMessageHandler.getExtensionId()===Kc.PREFERRED_EXTENSION_ID?"chrome":(m=this.nativeMessageHandler.getExtensionId())!=null&&m.length?"unknown":void 0;this.skus=tu.makeExtraSkuString({libraryName:wi.MSAL_SKU,libraryVersion:hp,extensionName:f,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[KG]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(he.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(he.NativeInteractionClientAcquireToken,e.correlationId),n=Go();try{const i=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...o}=i,s={method:AA.GetToken,request:o},a=await this.nativeMessageHandler.sendMessage(s),A=this.validateNativeResponse(a);return await this.handleNativeResponse(A,i,n).then(c=>(t.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),c)).catch(c=>{throw t.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError,isNativeBroker:!0}),c})}catch(i){throw i instanceof Ro&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Qn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Se($C);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw Se($C);try{const i=this.createSilentCacheRequest(t,n),o=await this.silentCacheClient.acquireToken(i),s={...n,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(i){throw i}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const i=await this.initializeNativeRequest(n),o={method:AA.GetToken,request:i};try{const A=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(A)}catch(A){if(A instanceof Ro&&(this.serverTelemetryManager.setNativeBrokerErrorCode(A.errorCode),Rc(A)))throw A}this.browserStorage.setTemporaryCache(Vt.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:ln.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:i,...o}=n;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Vt.NATIVE_REQUEST));const s={method:AA.GetToken,request:o},a=Go();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const A=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(A);const c=this.handleNativeResponse(A,o,a);this.browserStorage.setInteractionInProgress(!1);const l=await c;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),l}catch(A){throw this.browserStorage.setInteractionInProgress(!1),A}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var l;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=xA(e.id_token,Qo),o=this.createHomeAccountIdentifier(e,i),s=(l=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))==null?void 0:l.homeAccountId;if(o!==s&&e.account.id!==t.accountId)throw sy(Xk);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),A=Xv(this.browserStorage,a,o,Qo,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,i,A,a.canonicalAuthority,n);return this.cacheAccount(A),this.cacheNativeTokens(e,t,o,i,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return Xn.generateHomeAccountId(e.client_info||Ce.EMPTY_STRING,Zi.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?Qn.fromString(e.scope):Qn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Jt.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new cl(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Se(Ov);return n.signPopToken(e.access_token,t.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,t,n,i,o,s){const a=this.addTelemetryFromNativeResponse(e),A=e.scope?Qn.fromString(e.scope):Qn.fromString(t.scope),c=e.account.properties||{},l=c.UID||n.oid||n.sub||Ce.EMPTY_STRING,u=c.TenantId||n.tid||Ce.EMPTY_STRING,d=$v(i.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),m=t.tokenType===Jt.POP?Jt.POP:Jt.BEARER;return{authority:o,uniqueId:l,tenantId:u,scopes:A.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:f,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:m,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,n,i,o,s,a){const A=tp(n,t.authority,e.id_token||"",t.clientId,i.tid||""),c=t.tokenType===Jt.POP?Ce.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,l=a+c,u=this.generateScopes(e,t),d=np(n,t.authority,o,t.clientId,i.tid||s,u.printScopes(),l,0,Qo,void 0,t.tokenType,void 0,t.keyId),f={idToken:A,accessToken:d};this.nativeStorageManager.saveCacheRecord(f,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw p5(Uv,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Ut(t);n.validateAsUri();const{scopes:i,...o}=e,s=new Qn(i||[]);s.appendScopes(gl);const a=()=>{switch(this.apiId){case ln.ssoSilent:case ln.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),cr.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case cr.NONE:case cr.CONSENT:case cr.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),We(Lk)}},A={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(A.signPopToken&&e.popKid)throw We(Mk);if(this.handleExtraBrokerParams(A),A.extraParameters=A.extraParameters||{},A.extraParameters.telemetry=Kc.MATS_TELEMETRY,e.authenticationScheme===Jt.POP){const c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},l=new cl(this.browserCrypto);let u;if(A.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:A.keyId})),A.signPopToken=!1;else{const d=await Re(l.generateCnf.bind(l),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(c,this.logger);u=d.reqCnfString,A.keyId=d.kid,A.signPopToken=!0}A.reqCnf=u}return this.addRequestSKUs(A),A}handleExtraBrokerParams(e){var o;const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Wv)&&e.extraParameters.hasOwnProperty(JC)&&e.extraParameters.hasOwnProperty(bA);if(!e.embeddedClientId&&!t)return;let n="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[JC],n=e.extraParameters[bA]),e.extraParameters={child_client_id:n,child_redirect_uri:i},(o=this.performanceClient)==null||o.addFields({embeddedClientId:n,embeddedRedirectUri:i},e.correlationId)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Po{constructor(e,t,n,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(he.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Kc.CHANNEL_ID,extensionId:this.extensionId,responseId:Fs(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((n,i)=>{this.resolvers.set(t.responseId,{resolve:n,reject:i})})}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const i=new Po(e,t,n,Kc.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new Po(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Kc.CHANNEL_ID,extensionId:this.extensionId,responseId:Fs(),body:{method:AA.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(We(Rk)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==Kc.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===AA.HandshakeRequest){const n=this.handshakeResolvers.get(t.responseId);if(!n){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),n.reject(We(Nk))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{const o=t.body.method;if(o===AA.Response){if(!n)return;const s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")n.reject(sy(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?n.reject(sy(s.result.code,s.result.description,s.result.ext)):n.resolve(s.result);else throw p5(Uv,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(o===AA.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Jt.BEARER:case Jt.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class g0{constructor(e,t,n,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(he.HandleCodeResponse,t.correlationId);let n;try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof Ea&&i.subError===EA?We(EA):i}return Re(this.handleCodeResponseFromServer.bind(this),he.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(he.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Re(this.authModule.updateAuthority.bind(this.authModule),he.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(t);o&&(this.authCodeRequest.ccsCredential=o)}return await Re(this.authModule.acquireToken.bind(this.authModule),he.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:vi.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:vi.UPN}:null}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function eF(r,e,t){const n=mg(r);if(!n)throw X5(r)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${r}`),We(dk)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),We(uk));return n}function Iq(r,e,t){if(!r.state)throw We(n0);const n=Yk(e,r.state);if(!n)throw We(fk);if(n.interactionType!==t)throw We(gk)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Eq extends pl{constructor(e,t,n,i,o,s,a,A,c,l){super(e,t,n,i,o,s,a,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=A}acquireToken(e){try{const n={popupName:this.generatePopupName(e.scopes||gl,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,i,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t){var o;this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(ln.acquireTokenPopup),i=await Re(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,tt.Popup);Wk(i.authority);try{const s=await Re(this.initializeAuthorizationCodeRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),a=await Re(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),A=Po.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let c;A&&(c=this.performanceClient.startMeasurement(he.FetchAccountIdWithNativeBroker,e.correlationId));const l=await a.getAuthCodeUrl({...i,nativeBroker:A}),u=new g0(a,this.browserStorage,s,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(at.POPUP_OPENED,tt.Popup,{popupWindow:d},null);const f=await this.monitorPopupForHash(d,t.popupWindowParent),m=RA(eF,he.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(xo.removeThrottle(this.browserStorage,this.config.auth.clientId,s),m.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw We(fu);const B=new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ln.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,m.accountId,this.nativeStorage,i.correlationId),{userRequestState:y}=so.parseRequestState(this.browserCrypto,i.state);return await B.acquireToken({...i,state:y,prompt:void 0})}return await u.handleCodeResponse(m,i)}catch(s){throw(o=t.popup)==null||o.close(),s instanceof yn&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),s}}async logoutPopupAsync(e,t,n,i){var s,a,A,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(at.LOGOUT_START,tt.Popup,e);const o=this.initializeServerTelemetryManager(ln.logoutPopup);try{await this.clearCacheOnLogout(e.account);const l=await Re(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===Ss.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,tt.Popup,e),i){const f={apiId:ln.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ut.getAbsoluteUrl(i,Bs());await this.navigationClient.navigateInternal(m,f)}(A=t.popup)==null||A.close();return}}const u=l.getLogoutUri(e);this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,tt.Popup,e);const d=this.openPopup(u,t);if(this.eventHandler.emitEvent(at.POPUP_OPENED,tt.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,t.popupWindowParent).catch(()=>{}),i){const f={apiId:ln.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ut.getAbsoluteUrl(i,Bs());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("No main window navigation requested")}catch(l){throw(c=t.popup)==null||c.close(),l instanceof yn&&(l.setCorrelationId(this.correlationId),o.cacheFailedRequest(l)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(at.LOGOUT_FAILURE,tt.Popup,null,l),this.eventHandler.emitEvent(at.LOGOUT_END,tt.Popup),l}this.eventHandler.emitEvent(at.LOGOUT_END,tt.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),We(ap)}monitorPopupForHash(e,t){return new Promise((n,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(We(EA));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="";const A=this.config.auth.OIDCOptions.serverResponseType;e&&(A===du.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),n(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw We(wk);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),We(mk)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:n,popupWindowParent:i}){var f,m,w,B;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,A=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=(f=n.popupSize)==null?void 0:f.width,l=(m=n.popupSize)==null?void 0:m.height,u=(w=n.popupPosition)==null?void 0:w.top,d=(B=n.popupPosition)==null?void 0:B.left;return(!c||c<0||c>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=wi.POPUP_WIDTH),(!l||l<0||l>A)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=wi.POPUP_HEIGHT),(!u||u<0||u>A)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,A/2-wi.POPUP_HEIGHT/2+s)),(!d||d<0||d>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,a/2-wi.POPUP_WIDTH/2+o)),i.open(e,t,`width=${c}, height=${l}, top=${u}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(tt.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${wi.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${wi.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class AE{constructor(e,t,n,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Vt.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Vt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:ln.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await t.navigationClient.navigateExternal(e,n);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await t.navigationClient.navigateExternal(e,n);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),We(ap)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(n);if(!i)throw Se(dg,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(c){throw c instanceof Ea&&c.subError===EA?We(EA):c}const s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Re(this.authModule.updateAuthority.bind(this.authModule),he.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const c=this.checkCcsCredentials();c&&(this.authCodeRequest.ccsCredential=c)}const A=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),A}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(Vt.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function Sq(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const r=window.performance.getEntriesByType("navigation"),e=r.length?r[0]:void 0;return e==null?void 0:e.type}class Tq extends pl{constructor(e,t,n,i,o,s,a,A,c,l){super(e,t,n,i,o,s,a,c,l),this.nativeStorage=A}async acquireToken(e){const t=await Re(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,tt.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(ln.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(at.RESTORE_FROM_BFCACHE,tt.Redirect))};try{const o=await Re(this.initializeAuthorizationCodeRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),s=await Re(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new AE(s,this.browserStorage,o,this.logger,this.performanceClient),A=await s.getAuthCodeUrl({...t,nativeBroker:Po.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",i),await a.initiateAuthRequest(A,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof yn&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(e="",t){const n=this.initializeServerTelemetryManager(ln.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(tt.Redirect),Sq()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(Vt.ORIGIN_URI,!0)||Ce.EMPTY_STRING,a=Ut.removeHashFromUrl(s),A=Ut.removeHashFromUrl(window.location.href);if(a===A&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&NV(s),await this.handleResponse(i,n);if(this.config.auth.navigateToLoginRequestUrl){if(!h0()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Vt.URL_HASH,o,!0);const c={apiId:ln.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let l=!0;if(!s||s==="null"){const u=LV();this.browserStorage.setTemporaryCache(Vt.ORIGIN_URI,u,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),l=await this.navigationClient.navigateInternal(u,c)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),l=await this.navigationClient.navigateInternal(s,c);if(!l)return await this.handleResponse(i,n)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,n);return null}catch(i){throw i instanceof yn&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(tt.Redirect),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===du.QUERY?t=window.location.search:t=window.location.hash);let n=mg(t);if(n){try{Iq(n,this.browserCrypto,tt.Redirect)}catch(o){return o instanceof yn&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return RV(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const i=this.browserStorage.getTemporaryCache(Vt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Vt.URL_HASH)),i&&(n=mg(i),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,i]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw We(n0);const i=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw We(fu);const A=new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ln.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:c}=so.parseRequestState(this.browserCrypto,n);return A.acquireToken({...i,state:c,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(n)})}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw We(r0);const s=await Re(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});return xo.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new AE(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(ln.logout);try{this.eventHandler.emitEvent(at.LOGOUT_START,tt.Redirect,e),await this.clearCacheOnLogout(t.account);const s={apiId:ln.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await Re(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===Ss.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=t.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=t.account)==null?void 0:o.homeAccountId),this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,tt.Redirect,t);return}}const A=a.getLogoutUri(t);if(this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,tt.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(A)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(A,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(A,s);return}}catch(s){throw s instanceof yn&&(s.setCorrelationId(this.correlationId),n.cacheFailedRequest(s)),this.eventHandler.emitEvent(at.LOGOUT_FAILURE,tt.Redirect,null,s),this.eventHandler.emitEvent(at.LOGOUT_END,tt.Redirect),s}this.eventHandler.emitEvent(at.LOGOUT_END,tt.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Ut.getAbsoluteUrl(t,Bs())}}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function _q(r,e,t,n,i){if(e.addQueueMeasurement(he.SilentHandlerInitiateAuthRequest,n),!r)throw t.info("Navigate url is empty"),We(ap);return i?Re(Fq,he.SilentHandlerLoadFrame,t,e,n)(r,i,e,n):RA(Uq,he.SilentHandlerLoadFrameSync,t,e,n)(r)}async function kq(r,e,t,n,i,o,s){return n.addQueueMeasurement(he.SilentHandlerMonitorIframeForHash,o),new Promise((a,A)=>{e<ry&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${ry}ms). This may result in timeouts.`);const c=window.setTimeout(()=>{window.clearInterval(l),A(We(Ck))},e),l=window.setInterval(()=>{let u="";const d=r.contentWindow;try{u=d?d.location.href:""}catch{}if(!u||u==="about:blank")return;let f="";d&&(s===du.QUERY?f=d.location.search:f=d.location.hash),window.clearTimeout(c),window.clearInterval(l),a(f)},t)}).finally(()=>{RA(xq,he.RemoveHiddenIframe,i,n,o)(r)})}function Fq(r,e,t,n){return t.addQueueMeasurement(he.SilentHandlerLoadFrame,n),new Promise((i,o)=>{const s=tF();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=r,i(s)},e)})}function Uq(r){const e=tF();return e.src=r,e}function tF(){const r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(r),r}function xq(r){document.body===r.parentNode&&document.body.removeChild(r)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Rq extends pl{constructor(e,t,n,i,o,s,a,A,c,l,u){super(e,t,n,i,o,s,A,l,u),this.apiId=a,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(he.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==cr.NONE&&t.prompt!==cr.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${cr.NONE}`),t.prompt=cr.NONE):t.prompt=cr.NONE;const n=await Re(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,tt.Silent);Wk(n.authority);const i=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Re(this.createAuthCodeClient.bind(this),he.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Re(this.silentTokenHelper.bind(this),he.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(s){if(s instanceof yn&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof yn)||s.errorCode!==wi.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);const a=await Re(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,tt.Silent);return await Re(this.silentTokenHelper.bind(this),he.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}}logout(){return Promise.reject(We(Ap))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(he.SilentIframeClientTokenHelper,n);const i=await Re(this.initializeAuthorizationCodeRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,n)(t),o=await Re(e.getAuthCodeUrl.bind(e),he.GetAuthCodeUrl,this.logger,this.performanceClient,n)({...t,nativeBroker:Po.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),s=new g0(e,this.browserStorage,i,this.logger,this.performanceClient),a=await Re(_q,he.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),A=this.config.auth.OIDCOptions.serverResponseType,c=await Re(kq,he.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,A),l=RA(eF,he.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(c,A,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw We(fu);const u=new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,n),{userRequestState:d}=so.parseRequestState(this.browserCrypto,t.state);return Re(u.acquireToken.bind(u),he.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,n)({...t,state:d,prompt:t.prompt||cr.NONE})}return Re(s.handleCodeResponse.bind(s),he.HandleCodeResponse,this.logger,this.performanceClient,n)(l,t)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Nq extends pl{async acquireToken(e){this.performanceClient.addQueueMeasurement(he.SilentRefreshClientAcquireToken,e.correlationId);const t=await Re(f0,he.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(ln.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Re(o.acquireTokenByRefreshToken.bind(o),he.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(We(Ap))}async createRefreshTokenClient(e){const t=await Re(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new ZC(t,this.performanceClient)}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Pq{constructor(e,t,n,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=n,this.cryptoObj=i}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw We(cp);const i=t.id_token?xA(t.id_token,Qo):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Fr(Fr.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||Fs()):void 0,a=this.loadAccount(e,n.clientInfo||t.client_info||"",i,s),A=this.loadIdToken(t,a.homeAccountId,a.environment,a.realm),c=this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n),l=this.loadRefreshToken(t,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:A,accessToken:c,refreshToken:l},i,s)}loadAccount(e,t,n,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const A=Xn.createFromAccountInfo(e.account);return this.storage.setAccount(A),A}else if(!i||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),We(_k);const o=Xn.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,n),s=n==null?void 0:n.tid,a=Xv(this.storage,i,o,Qo,n,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,t,n,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=tp(t,n,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,n,i,o,s){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?Qn.fromString(t.scope):new Qn(e.scopes),A=s.expiresOn||t.expires_in+new Date().getTime()/1e3,c=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,l=np(n,i,t.access_token,this.config.auth.clientId,o,a.printScopes(),A,c,Qo);return this.storage.setAccessTokenCredential(l),l}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=L5(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,t,n,i){var l,u,d;let o="",s=[],a=null,A;t!=null&&t.accessToken&&(o=t.accessToken.secret,s=Qn.fromString(t.accessToken.target).asArray(),a=new Date(Number(t.accessToken.expiresOn)*1e3),A=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));const c=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:c.getAccountInfo(),idToken:((l=t.idToken)==null?void 0:l.secret)||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:A,familyId:((u=t.refreshToken)==null?void 0:u.familyId)||"",tokenType:((d=t==null?void 0:t.accessToken)==null?void 0:d.tokenType)||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Lq extends Ak{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.28.0 2024-12-12 */class Oq extends pl{constructor(e,t,n,i,o,s,a,A,c,l){super(e,t,n,i,o,s,A,c,l),this.apiId=a}async acquireToken(e){if(!e.code)throw We(kk);const t=await Re(this.initializeAuthorizationRequest.bind(this),he.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,tt.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const i={...t,code:e.code},o=await Re(this.getClientConfiguration.bind(this),he.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new Lq(o);this.logger.verbose("Auth code client created");const a=new g0(s,this.browserStorage,i,this.logger,this.performanceClient);return await Re(a.handleCodeResponseFromServer.bind(a),he.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof yn&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),i}}logout(){return Promise.reject(We(Ap))}}/*! @azure/msal-browser v3.28.0 2024-12-12 */function So(r){const e=r==null?void 0:r.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function lf(r,e){try{u0(r)}catch(t){throw e.end({success:!1},t),t}}class up{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new ll(this.logger,this.performanceClient):fg,this.eventHandler=new cq(this.logger),this.browserStorage=this.isBrowserEnvironment?new oy(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,WG(this.config.auth),this.performanceClient):tq(this.config.auth.clientId,this.logger);const t={cacheLocation:ii.MemoryStorage,temporaryCacheLocation:ii.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new oy(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new Pq(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const n=new up(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(at.INITIALIZE_END);return}const t=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(he.InitializeClientApplication,t);if(this.eventHandler.emitEvent(at.INITIALIZE_START),n)try{this.nativeExtensionProvider=await Po.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Re(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),he.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(at.INITIALIZE_END),i.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),zk(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),i=n&&Po.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?n==null?void 0:n.correlationId:this.browserStorage.getTemporaryCache(Vt.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(he.AcquireTokenRedirect,o);this.eventHandler.emitEvent(at.HANDLE_REDIRECT_START,tt.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const A=new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ln.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=Re(A.handleRedirectPromise.bind(A),he.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const A=this.createRedirectClient(o);a=Re(A.handleRedirectPromise.bind(A),he.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(A=>(A?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(at.LOGIN_SUCCESS,tt.Redirect,A),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_SUCCESS,tt.Redirect,A),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:So(A.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(at.HANDLE_REDIRECT_END,tt.Redirect),A)).catch(A=>{const c=A;throw t.length>0?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,tt.Redirect,null,c):this.eventHandler.emitEvent(at.LOGIN_FAILURE,tt.Redirect,null,c),this.eventHandler.emitEvent(at.HANDLE_REDIRECT_END,tt.Redirect),s.end({success:!1},c),A})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(he.AcquireTokenPreRedirect,t);n.add({accountType:So(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{const a=typeof i=="function"?i(s):void 0;return a!==!1?n.end({success:!0}):n.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const A=typeof s=="function"?s(a):void 0;return A!==!1?n.end({success:!0}):n.discard(),A}}const o=this.getAllAccounts().length>0;try{iE(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_START,tt.Redirect,e):this.eventHandler.emitEvent(at.LOGIN_START,tt.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ln.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch(A=>{if(A instanceof Ro&&Rc(A))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(A instanceof Ao)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),A}):s=this.createRedirectClient(t).acquireToken(e),await s}catch(s){throw n.end({success:!1},s),o?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,tt.Redirect,null,s):this.eventHandler.emitEvent(at.LOGIN_FAILURE,tt.Redirect,null,s),s}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(he.AcquireTokenPopup,t);n.add({scenarioId:e.scenarioId,accountType:So(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),lf(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_START,tt.Popup,e):this.eventHandler.emitEvent(at.LOGIN_START,tt.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative({...e,correlationId:t},ln.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:So(s.account)}),s)).catch(s=>{if(s instanceof Ro&&Rc(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(s instanceof Ao)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(t).acquireToken(e),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(at.LOGIN_SUCCESS,tt.Popup,s):this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_SUCCESS,tt.Popup,s),n.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:So(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,tt.Popup,null,s):this.eventHandler.emitEvent(at.LOGIN_FAILURE,tt.Popup,null,s),n.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,s;const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(he.SsoSilent,t),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:So(e.account)}),lf(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(at.SSO_SILENT_START,tt.Silent,n);let i;return this.canUseNative(n)?i=this.acquireTokenNative(n,ln.ssoSilent).catch(a=>{if(a instanceof Ro&&Rc(a))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw a}):i=this.createSilentIframeClient(n.correlationId).acquireToken(n),i.then(a=>{var A;return this.eventHandler.emitEvent(at.SSO_SILENT_SUCCESS,tt.Silent,a),(A=this.ssoSilentMeasurement)==null||A.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:So(a.account)}),a}).catch(a=>{var A;throw this.eventHandler.emitEvent(at.SSO_SILENT_FAILURE,tt.Silent,null,a),(A=this.ssoSilentMeasurement)==null||A.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(he.AcquireTokenByCode,t);lf(this.initialized,n),this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_START,tt.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw We(Uk);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(s=>(this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_SUCCESS,tt.Silent,s),this.hybridAuthCodeResponses.delete(i),n.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:So(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_FAILURE,tt.Silent,null,s),n.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:t},ln.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof Ro&&Rc(o)&&(this.nativeExtensionProvider=void 0),o});return n.end({accountType:So(i.account),success:!0}),i}else throw We(xk);else throw We(Fk)}catch(i){throw this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_FAILURE,tt.Silent,null,i),n.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(he.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(he.AcquireTokenFromCache,e.correlationId),t){case pi.Default:case pi.AccessToken:case pi.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(e.correlationId);return Re(n.acquireToken.bind(n),he.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Se(vs)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(he.AcquireTokenByRefreshToken,e.correlationId),t){case pi.Default:case pi.AccessTokenAndRefreshToken:case pi.RefreshToken:case pi.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(e.correlationId);return Re(n.acquireToken.bind(n),he.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Se(vs)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(he.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Re(t.acquireToken.bind(t),he.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return iE(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return u0(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return nq(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return rq(e,this.logger,this.browserStorage)}getAccountByUsername(e){return iq(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return oq(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return sq(e,this.logger,this.browserStorage)}setActiveAccount(e){aq(e,this.browserStorage)}getActiveAccount(){return Aq(this.browserStorage)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=Xn.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw We(fu);return new Jc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Po.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case cr.NONE:case cr.CONSENT:case cr.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Eq(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Tq(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Rq(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ln.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Zk(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Nq(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Oq(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ln.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return jk(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){var t;try{(t=e.key)!=null&&t.includes(ir.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(at.ACTIVE_ACCOUNT_CHANGED);const n=e.newValue||e.oldValue;if(!n)return;const i=JSON.parse(n);if(typeof i!="object"||!Xn.isAccountEntity(i))return;const s=Al.toObject(new Xn,i).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(at.ACCOUNT_ADDED,void 0,s)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(at.ACCOUNT_REMOVED,void 0,s))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Fs():Ce.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||tE})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||tE})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(he.AcquireTokenSilent,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),lf(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const i=e.account||this.getActiveAccount();if(!i)throw We(bk);n.add({accountType:So(i)});const o={clientId:this.config.auth.clientId,authority:e.authority||Ce.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const A=Re(this.acquireTokenSilentAsync.bind(this),he.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},i).then(c=>(this.activeSilentTokenRequests.delete(s),n.end({success:!0,fromCache:c.fromCache,isNativeBroker:c.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),c)).catch(c=>{throw this.activeSilentTokenRequests.delete(s),n.end({success:!1},c),c});return this.activeSilentTokenRequests.set(s,A),{...await A,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await a,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(he.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_START,tt.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const i=await Re(fq,he.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||pi.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async a=>{if(Mq(a,o))if(this.activeIframeRequest)if(o!==pi.Skip){const[c,l]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${l}`,i.correlationId);const u=this.performanceClient.startMeasurement(he.AwaitConcurrentIframe,i.correlationId);u.add({awaitIframeCorrelationId:l});const d=await c;if(u.end({success:d}),d)return this.logger.verbose(`Parallel iframe request with correlationId: ${l} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${l} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),Re(this.acquireTokenBySilentIframe.bind(this),he.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let c;return this.activeIframeRequest=[new Promise(l=>{c=l}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),Re(this.acquireTokenBySilentIframe.bind(this),he.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(l=>(c(!0),l)).catch(l=>{throw c(!1),l}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_SUCCESS,tt.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,tt.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(e,t){return Po.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ln.acquireTokenSilent_silentFlow).catch(async n=>{throw n instanceof Ro&&Rc(n)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,Se(vs)):n})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),Re(this.acquireTokenFromCache.bind(this),he.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(n=>{if(t===pi.AccessToken)throw n;return this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_NETWORK_START,tt.Silent,e),Re(this.acquireTokenByRefreshToken.bind(this),he.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}}function Mq(r,e){const t=!(r instanceof Ao&&r.subError!==sp),n=r.errorCode===wi.INVALID_GRANT_ERROR||r.errorCode===vs,i=t&&n||r.errorCode===Cg||r.errorCode===Jv,o=CV.includes(e);return i&&o}/*! @azure/msal-browser v3.28.0 2024-12-12 */async function Qq(r,e){const t=new SA(r);return await t.initialize(),up.createController(t,e)}/*! @azure/msal-browser v3.28.0 2024-12-12 */class p0{static async createPublicClientApplication(e){const t=await Qq(e);return new p0(e,t)}constructor(e,t){this.controller=t||new up(new SA(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const dw=new Map;function Hq(r){const e=r.name||"main";return t=>(t.on.auth.replace(async(n,i)=>{let o=dw.get(e);o||(dw.set(e,new p0(r.configuration)),o=dw.get(e),await o.initialize());let s="";try{s=(await o.acquireTokenSilent(r.authParams)).accessToken}catch(a){const A=await o.loginPopup(r.authParams).catch(c=>{throw r.logErrors&&console.error(c),c});if(A.accessToken&&(s=A.accessToken,o.setActiveAccount(A.account)),!s)throw r.logErrors&&console.error(a),a}return i.headers={...i.headers,Authorization:`Bearer ${s}`},[n,i]}),t)}Reflect.defineProperty(kv.prototype,"web",{configurable:!0,enumerable:!0,get:function(){return this.create(Ji)}});let ay=class extends ka{getById(e){return or(this).concat(`('${e}')`)}getByTitle(e){return or(this,`getByTitle('${mn(e)}')`)}async add(e,t="",n=100,i=!1,o={}){const s={AllowContentTypes:i,BaseTemplate:n,ContentTypesEnabled:i,Description:t,Title:e,...o};return Je(this,_n(s))}async ensure(e,t="",n=100,i=!1,o={}){const s={Title:e,Description:t,ContentTypesEnabled:i,...o},a=this.getByTitle(s.Title);try{return await a.select("Title")(),{created:!1,data:await a.update(s),list:this.getByTitle(s.Title)}}catch{return{created:!0,data:await this.add(e,t,n,i,s),list:this.getByTitle(s.Title)}}}async ensureSiteAssetsLibrary(){const e=await Je(Ay(this,"ensuresiteassetslibrary"));return or([this,eu(e)])}async ensureSitePagesLibrary(){const e=await Je(Ay(this,"ensuresitepageslibrary"));return or([this,eu(e)])}};ay=Qr([Fa("lists")],ay);const Ay=yr(ay);class m0 extends UA{constructor(){super(...arguments),this.delete=hu()}get effectiveBasePermissions(){return io(this,"EffectiveBasePermissions")}get eventReceivers(){return pA(this,"EventReceivers")}get relatedFields(){return io(this,"getRelatedFields")}get informationRightsManagementSettings(){return io(this,"InformationRightsManagementSettings")}async update(e,t="*"){return await _v(this,_n(e,Tv({"IF-Match":t})))}getChanges(e){return Je(or(this,"getchanges"),_n({query:e}))}getItemsByCAMLQuery(e,...t){return Je(or(this,"getitems").expand(...t),_n({query:e}))}getListItemChangesSinceToken(e){return Je(or(this,"getlistitemchangessincetoken").using(r5()),_n({query:e}))}async recycle(){return Je(or(this,"recycle"))}async renderListData(e){const t=or(this,"renderlistdata(@viewXml)");t.query.set("@viewXml",`'${e}'`);const n=await Je(t);return JSON.parse(n)}renderListDataAsStream(e,t=null,n=new Map){ar(e,"RenderOptions")&&ks(e.RenderOptions)&&(e.RenderOptions=e.RenderOptions.reduce((s,a)=>s+a));const i=or(this,"RenderListDataAsStream");n&&n.size>0&&n.forEach((s,a)=>i.query.set(a,s));const o=ro(t)?{parameters:e,overrideParameters:t}:{parameters:e};return Je(i,_n(o))}async renderListFormData(e,t,n){const i=await Je(or(this,`renderlistformdata(itemid=${e}, formid='${t}', mode='${n}')`));return JSON.parse(i)}async reserveListItemId(){return Je(or(this,"reservelistitemid"))}async addValidateUpdateItemUsingPath(e,t,n=!1,i,o){const s={FolderPath:mA(t)};return ro(o)&&(o.leafName&&(s.LeafName=mA(o.leafName)),o.objectType&&(s.UnderlyingObjectType=o.objectType)),Je(or(this,"AddValidateUpdateItemUsingPath()"),_n({bNewDocumentUpdate:n,checkInComment:i,formValues:e,listItemCreateInfo:s}))}async getParentInfos(){const e=await this.select("Id","RootFolder/UniqueId","RootFolder/ServerRelativeUrl","RootFolder/ServerRelativePath","ParentWeb/Id","ParentWeb/Url","ParentWeb/ServerRelativeUrl","ParentWeb/ServerRelativePath").expand("RootFolder","ParentWeb")();return{List:{Id:e.Id,RootFolderServerRelativePath:e.RootFolder.ServerRelativePath,RootFolderServerRelativeUrl:e.RootFolder.ServerRelativeUrl,RootFolderUniqueId:e.RootFolder.UniqueId},ParentWeb:{Id:e.ParentWeb.Id,ServerRelativePath:e.ParentWeb.ServerRelativePath,ServerRelativeUrl:e.ParentWeb.ServerRelativeUrl,Url:e.ParentWeb.Url}}}}const or=yr(m0);var cE;(function(r){r[r.None=0]="None",r[r.ContextInfo=1]="ContextInfo",r[r.ListData=2]="ListData",r[r.ListSchema=4]="ListSchema",r[r.MenuView=8]="MenuView",r[r.ListContentType=16]="ListContentType",r[r.FileSystemItemId=32]="FileSystemItemId",r[r.ClientFormSchema=64]="ClientFormSchema",r[r.QuickLaunch=128]="QuickLaunch",r[r.Spotlight=256]="Spotlight",r[r.Visualization=512]="Visualization",r[r.ViewMetadata=1024]="ViewMetadata",r[r.DisableAutoHyperlink=2048]="DisableAutoHyperlink",r[r.EnableMediaTAUrls=4096]="EnableMediaTAUrls",r[r.ParentInfo=8192]="ParentInfo",r[r.PageContextInfo=16384]="PageContextInfo",r[r.ClientSideComponentManifest=32768]="ClientSideComponentManifest",r[r.ListAvailableContentTypes=65536]="ListAvailableContentTypes",r[r.FolderContentTypeOrder=131072]="FolderContentTypeOrder",r[r.GridInitInfo=262144]="GridInitInfo",r[r.SiteUrlAsMediaTASPItemHost=524288]="SiteUrlAsMediaTASPItemHost",r[r.AddToOneDrive=1048576]="AddToOneDrive",r[r.SPFXCustomActions=2097152]="SPFXCustomActions",r[r.CustomActions=4194304]="CustomActions"})(cE||(cE={}));var lE;(function(r){r[r.Display=1]="Display",r[r.Edit=2]="Edit",r[r.New=3]="New"})(lE||(lE={}));uo(Cr,"lists",Ay);uo(Cr,"siteUserInfoList",or);uo(Cr,"defaultDocumentLibrary",or);uo(Cr,"customListTemplates",pA,"getcustomlisttemplates");Cr.prototype.getList=function(r){return or(this,`getList('${mn(r)}')`)};Cr.prototype.getCatalog=async function(r){const e=await Ji(this,`getcatalog(${r})`).select("Id")();return or([this,eu(e)])};let cy=class extends ka{getById(e){return gs(this).concat(`(${e})`)}getItemByStringId(e){return gs([this,this.parentUrl],`getItemByStringId('${e}')`)}skip(e,t=!1){return t?this.query.set("$skiptoken",`Paged=TRUE&PagedPrev=TRUE&p_ID=${e}`):this.query.set("$skiptoken",`Paged=TRUE&p_ID=${e}`),this}[Symbol.asyncIterator](){const e=pA(this).using(Us(async n=>{const i=await n.json(),o=ar(i,"d")&&ar(i.d,"__next")?i.d.__next:i["odata.nextLink"];return{hasNext:typeof o=="string"&&o.length>0,nextLink:o,value:o5(i)}})),t=["$top","$select","$expand","$filter","$orderby","$skiptoken"];for(let n=0;n<t.length;n++){const i=this.query.get(t[n]);ro(i)&&e.query.set(t[n],i)}return{_next:e,async next(){if(this._next===null)return{done:!0,value:void 0};const n=await this._next();return n.hasNext?(this._next=pA([this._next,n.nextLink]),{done:!1,value:n.value}):(this._next=null,{done:!1,value:n.value})}}}async add(e={}){return Je(this,_n(e))}};cy=Qr([Fa("items")],cy);const Dq=yr(cy);class w0 extends UA{constructor(){super(...arguments),this.delete=hu()}get effectiveBasePermissions(){return io(this,"EffectiveBasePermissions")}get effectiveBasePermissionsForUI(){return io(this,"EffectiveBasePermissionsForUI")}get fieldValuesAsHTML(){return ma(this,"FieldValuesAsHTML")}get fieldValuesAsText(){return ma(this,"FieldValuesAsText")}get fieldValuesForEdit(){return ma(this,"FieldValuesForEdit")}get versions(){return Kq(this)}get list(){return this.getParent(or,"",this.parentUrl.substring(0,this.parentUrl.lastIndexOf("/")))}async update(e,t="*"){const n=_n(e,Tv({"IF-Match":t,"X-HTTP-Method":"MERGE"}));return Je(gs(this).using(qq()),n)}recycle(){return Je(gs(this,"recycle"))}async deleteWithParams(e){return Je(gs(this,"DeleteWithParameters"),_n({parameters:e}))}async getWopiFrameUrl(e=0){const t=gs(this,"getWOPIFrameUrl(@action)");return t.query.set("@action",e),Je(t)}validateUpdateListItem(e,t=!1){return Je(gs(this,"validateupdatelistitem"),_n({formValues:e,bNewDocumentUpdate:t}))}async getParentInfos(){const e=await this.select("Id","ParentList/Id","ParentList/Title","ParentList/RootFolder/UniqueId","ParentList/RootFolder/ServerRelativeUrl","ParentList/RootFolder/ServerRelativePath","ParentList/ParentWeb/Id","ParentList/ParentWeb/Url","ParentList/ParentWeb/ServerRelativeUrl","ParentList/ParentWeb/ServerRelativePath").expand("ParentList","ParentList/RootFolder","ParentList/ParentWeb")();return{Item:{Id:e.Id},ParentList:{Id:e.ParentList.Id,Title:e.ParentList.Title,RootFolderServerRelativePath:e.ParentList.RootFolder.ServerRelativePath,RootFolderServerRelativeUrl:e.ParentList.RootFolder.ServerRelativeUrl,RootFolderUniqueId:e.ParentList.RootFolder.UniqueId},ParentWeb:{Id:e.ParentList.ParentWeb.Id,ServerRelativePath:e.ParentList.ParentWeb.ServerRelativePath,ServerRelativeUrl:e.ParentList.ParentWeb.ServerRelativeUrl,Url:e.ParentList.ParentWeb.Url}}}async setImageField(e,t,n){const i=await this.getParentInfos(),o=xs(this.toUrl()),s=io([this,o],"/_api/web/UploadImage");s.concat("(listTitle=@a1,imageName=@a2,listId=@a3,itemId=@a4)"),s.query.set("@a1",`'${i.ParentList.Title}'`),s.query.set("@a2",`'${t}'`),s.query.set("@a3",`'${i.ParentList.Id}'`),s.query.set("@a4",i.Item.Id);const a=await Je(s,{body:n}),A={type:"thumbnail",fileName:a.Name,nativeFile:{},fieldName:e,serverUrl:i.ParentWeb.Url.replace(i.ParentWeb.ServerRelativeUrl,""),serverRelativeUrl:a.ServerRelativeUrl,id:a.UniqueId};return this.validateUpdateListItem([{FieldName:e,FieldValue:JSON.stringify(A)}])}}const gs=yr(w0);let ly=class extends ka{getById(e){return Vq(this).concat(`(${e})`)}};ly=Qr([Fa("versions")],ly);const Kq=yr(ly);class Gq extends UA{constructor(){super(...arguments),this.delete=hu()}}const Vq=yr(Gq);function qq(){return Us(async r=>({etag:r.headers.get("etag")}))}uo(m0,"items",Dq);lu.prototype.getContextInfo=async function(r=this.parentUrl){const e=await Je(io([this,xs(r)],"_api/contextinfo"));if(ar(e,"GetContextWebInformation")){const t=e.GetContextWebInformation;return t.SupportedSchemaVersions=t.SupportedSchemaVersions.results,t}else return e};let hy=class extends ka{getByUrl(e){return ti(this).concat(`('${mn(e)}')`)}async addUsingPath(e,t=!1){return Je(C0(this,`addUsingPath(DecodedUrl='${mn(e)}',overwrite=${t})`))}};hy=Qr([Fa("folders")],hy);const C0=yr(hy);class dp extends UA{constructor(){super(...arguments),this.delete=hu()}get folders(){return C0(this)}get listItemAllFields(){return ma(this,"listItemAllFields")}get parentFolder(){return ti(this,"parentFolder")}get properties(){return ma(this,"properties")}get storageMetrics(){return ma(this,"storagemetrics")}async update(e){return _v(this,_n(e))}recycle(){return Je(ti(this,"recycle"))}async getItem(...e){const n=await this.listItemAllFields.select(...e)();if(n["odata.null"])throw Error("No associated item was found for this folder. It may be the root folder, which does not have an item.");return Object.assign(gs([this,eu(n)]),n)}async moveByPath(e,...t){let n={KeepBoth:!1,ShouldBypassSharedLocks:!0,RetainEditorAndModifiedOnMove:!1};return t.length===1&&(typeof t[0]=="boolean"?n.KeepBoth=t[0]:typeof t[0]=="object"&&(n={...n,...t[0]})),this.moveCopyImpl(e,n,"MoveFolderByPath")}async copyByPath(e,...t){let n={ShouldBypassSharedLocks:!0,ResetAuthorAndCreatedOnCopy:!0,KeepBoth:!1};return t.length===1&&(typeof t[0]=="boolean"?n.KeepBoth=t[0]:typeof t[0]=="object"&&(n={...n,...t[0]})),this.moveCopyImpl(e,n,"CopyFolderByPath")}async deleteWithParams(e){return Je(ti(this,"DeleteWithParameters"),_n({parameters:e}))}async addSubFolderUsingPath(e){return await Je(ti(this,"AddSubFolderUsingPath"),_n({leafPath:mA(e)})),this.folders.getByUrl(e)}async getParentInfos(){const e=await this.select("ServerRelativeUrl","ListItemAllFields/ParentList/Id","ListItemAllFields/ParentList/RootFolder/UniqueId","ListItemAllFields/ParentList/RootFolder/ServerRelativeUrl","ListItemAllFields/ParentList/RootFolder/ServerRelativePath","ListItemAllFields/ParentList/ParentWeb/Id","ListItemAllFields/ParentList/ParentWeb/Url","ListItemAllFields/ParentList/ParentWeb/ServerRelativeUrl","ListItemAllFields/ParentList/ParentWeb/ServerRelativePath").expand("ListItemAllFields/ParentList","ListItemAllFields/ParentList/RootFolder","ListItemAllFields/ParentList/ParentWeb")();return{Folder:{ServerRelativeUrl:e.ServerRelativeUrl},ParentList:{Id:e.ListItemAllFields.ParentList.Id,RootFolderServerRelativePath:e.ListItemAllFields.ParentList.RootFolder.ServerRelativePath,RootFolderServerRelativeUrl:e.ListItemAllFields.ParentList.RootFolder.ServerRelativeUrl,RootFolderUniqueId:e.ListItemAllFields.ParentList.RootFolder.UniqueId},ParentWeb:{Id:e.ListItemAllFields.ParentList.ParentWeb.Id,ServerRelativePath:e.ListItemAllFields.ParentList.ParentWeb.ServerRelativePath,ServerRelativeUrl:e.ListItemAllFields.ParentList.ParentWeb.ServerRelativeUrl,Url:e.ListItemAllFields.ParentList.ParentWeb.Url}}}moveCopyImpl(e,t,n){const i=ti(this);return i.on.pre(Z_(async(o,s,a)=>{const{ServerRelativeUrl:A,["odata.id"]:c}=await ti(this).using(uu()).select("ServerRelativeUrl")(),l=new URL(xs(c));return o=Yn(l.href,`/_api/SP.MoveCopyUtil.${n}()`),s=_n({destPath:mA(Ko(e)?e:Yn(l.origin,e)),options:t,srcPath:mA(Yn(l.origin,A))},s),[o,s,a]})),Je(i).then(()=>jq(this,e))}}Qr([_a],dp.prototype,"moveByPath",null);Qr([_a],dp.prototype,"copyByPath",null);const ti=yr(dp);function y0(r,e){return ti([r,xs(r.toUrl())],`_api/web/getFolderByServerRelativePath(decodedUrl='${A7(e)}')`)}async function $q(r,e){const{WebFullUrl:t}=await ti(r).using(uu()).getContextInfo(e),{pathname:n}=new URL(e);return y0(ti([r,Yn(t,"_api/web")]),decodeURIComponent(n))}async function jq(r,e){return(Ko(e)?$q:y0)(r,e)}function zq(){return Us(async r=>{var e;return{body:r.body,knownLength:parseInt(((e=r==null?void 0:r.headers)===null||e===void 0?void 0:e.get("content-length"))||"-1",10)}})}class nF extends UA{getText(){return this.getParsed(r5())}getBlob(){return this.getParsed(q8())}getBuffer(){return this.getParsed($8())}getJSON(){return this.getParsed(i5())}getStream(){return io(this,"$value").using(zq(),bI())(Tv({binaryStringResponseBody:"true"}))}getParsed(e){return io(this,"$value").using(e,bI())()}}let hl=class extends ka{getByUrl(e){if(/%#/.test(e))throw Error("For file names containing % or # please use web.getFileByServerRelativePath");return Ot(this).concat(`('${mn(e)}')`)}async addUsingPath(e,t,n={Overwrite:!1}){const i=[`AddUsingPath(decodedurl='${mn(e)}'`];return n&&(n.Overwrite&&i.push(",Overwrite=true"),n.EnsureUniqueFileName&&i.push(`,EnsureUniqueFileName=${n.EnsureUniqueFileName}`),n.AutoCheckoutOnInvalidData&&i.push(",AutoCheckoutOnInvalidData=true"),Ta(n.XorHash)||i.push(`,XorHash=${mn(n.XorHash)}`)),i.push(")"),Je(uy(this,i.join("")),{body:t})}async addChunked(e,t,n){const i=await this.addUsingPath(e,null,n),o=gp(this,i.ServerRelativeUrl);return o.using(s5(()=>Ot(o).delete())),o.setContentChunked(t,n)}async addTemplateFile(e,t){return Je(uy(this,`addTemplateFile(urloffile='${mn(e)}',templatefiletype=${t})`))}};Qr([_a],hl.prototype,"addUsingPath",null);Qr([_a],hl.prototype,"addChunked",null);Qr([_a],hl.prototype,"addTemplateFile",null);hl=Qr([Fa("files")],hl);const uy=yr(hl);class fp extends nF{constructor(){super(...arguments),this.delete=hu()}get listItemAllFields(){return ma(this,"listItemAllFields")}get versions(){return eA(this)}async getLockedByUser(){const e=await e7(Ot(this,"lockedByUser"));return e["odata.null"]===!0?null:e}approve(e=""){return Je(Ot(this,`approve(comment='${mn(e)}')`))}cancelUpload(e){return Je(Ot(this,`cancelUpload(uploadId=guid'${e}')`))}checkin(e="",t=fy.Major){if(e.length>1023)throw Error("The maximum comment length is 1023 characters.");return Je(Ot(this,`checkin(comment='${mn(e)}',checkintype=${t})`))}checkout(){return Je(Ot(this,"checkout"))}copyTo(e,t=!0){return Je(Ot(this,`copyTo(strnewurl='${mn(e)}',boverwrite=${t})`))}async copyByPath(e,...t){let n={ShouldBypassSharedLocks:!0,ResetAuthorAndCreatedOnCopy:!0,KeepBoth:!1};return t.length===2&&(typeof t[1]=="boolean"?n.KeepBoth=t[1]:typeof t[1]=="object"&&(n={...n,...t[1]})),this.moveCopyImpl(e,n,t[0],"CopyFileByPath")}deny(e=""){if(e.length>1023)throw Error("The maximum comment length is 1023 characters.");return Je(Ot(this,`deny(comment='${mn(e)}')`))}async moveByPath(e,...t){let n={KeepBoth:!1,ShouldBypassSharedLocks:!0,RetainEditorAndModifiedOnMove:!1};return t.length===2&&(typeof t[1]=="boolean"?n.KeepBoth=t[1]:typeof t[1]=="object"&&(n={...n,...t[1]})),this.moveCopyImpl(e,n,t[0],"MoveFileByPath")}publish(e=""){if(e.length>1023)throw Error("The maximum comment length is 1023 characters.");return Je(Ot(this,`publish(comment='${mn(e)}')`))}recycle(){return Je(Ot(this,"recycle"))}async deleteWithParams(e){return Je(Ot(this,"DeleteWithParameters"),_n({parameters:e}))}undoCheckout(){return Je(Ot(this,"undoCheckout"))}unpublish(e=""){if(e.length>1023)throw Error("The maximum comment length is 1023 characters.");return Je(Ot(this,`unpublish(comment='${mn(e)}')`))}async exists(){try{return(await Ot(this).select("Exists")()).Exists}catch{return!1}}async setContent(e){return await Je(Ot(this,"$value"),{body:e,headers:{"X-HTTP-Method":"PUT"}}),Ot(this)}async getItem(...e){const n=await this.listItemAllFields.select(...e)();return Object.assign(gs([this,eu(n)]),n)}async setContentChunked(e,t){const{progress:n,chunkSize:i=10485760}=Zq(t),o=Xh();let s=!0,a,A=0;const c=Ot(this).using(s5(()=>Ot(c).cancelUpload(o))),u=e$(e).getReader();let d=new Uint8Array;for(;a=await u.read();){if(a.value){const f=new Uint8Array(d.length+a.value.length);f.set(d),f.set(a.value,d.length),d=f}for(;d.length>=i;){const f=d.slice(0,i);d=d.slice(i),s?(n({offset:A,stage:"starting",uploadId:o}),A=await Je(Ot(c,`startUpload(uploadId=guid'${o}')`),{body:f}),s=!1):(n({offset:A,stage:"continue",uploadId:o}),A=await Je(Ot(c,`continueUpload(uploadId=guid'${o}',fileOffset=${A})`),{body:f}))}if(a.done)return s&&(n({offset:A,stage:"starting",uploadId:o}),A=await Je(Ot(c,`startUpload(uploadId=guid'${o}')`),{body:d}),s=!1,d=new Uint8Array),n({offset:A,stage:"finishing",uploadId:o}),Je(Ot(c,`finishUpload(uploadId=guid'${o}',fileOffset=${A})`),{body:d.length?d:""})}}moveCopyImpl(e,t,n,i){const o=Ot(this);return o.on.pre(Z_(async(s,a,A)=>{const{ServerRelativeUrl:c,["odata.id"]:l}=await Ot(this).using(uu()).select("ServerRelativeUrl")(),u=new URL(xs(l));return s=Yn(u.toString(),`/_api/SP.MoveCopyUtil.${i}(overwrite=@a1)?@a1=${n}`),a=_n({destPath:mA(Ko(e)?e:`${u.protocol}//${u.host}${e}`),options:t,srcPath:mA(Ko(c)?c:`${u.protocol}//${u.host}${c}`)},a),[s,a,A]})),Je(o).then(()=>Yq(this,e))}}Qr([_a],fp.prototype,"copyByPath",null);Qr([_a],fp.prototype,"moveByPath",null);Qr([_a],fp.prototype,"setContentChunked",null);const Ot=yr(fp);function gp(r,e){return Ot([r,xs(r.toUrl())],`_api/web/getFileByServerRelativePath(decodedUrl='${mn(e)}')`)}async function Wq(r,e){const{WebFullUrl:t}=await Ot(r).using(uu()).getContextInfo(e),{pathname:n}=new URL(e);return gp(Ot([r,Yn(t,"_api/web")]),decodeURIComponent(n))}async function Yq(r,e){return(Ko(e)?Wq:gp)(r,e)}let dy=class extends ka{getById(e){return Xq(this).concat(`(${e})`)}deleteAll(){return Je(eA(this,"deleteAll"))}deleteById(e){return Je(eA(this,`deleteById(vid=${e})`))}recycleByID(e){return Je(eA(this,`recycleByID(vid=${e})`))}deleteByLabel(e){return Je(eA(this,`deleteByLabel(versionlabel='${mn(e)}')`))}recycleByLabel(e){return Je(eA(this,`recycleByLabel(versionlabel='${mn(e)}')`))}restoreByLabel(e){return Je(eA(this,`restoreByLabel(versionlabel='${mn(e)}')`))}};dy=Qr([Fa("versions")],dy);const eA=yr(dy);class Jq extends nF{constructor(){super(...arguments),this.delete=a5()}}const Xq=yr(Jq);var fy;(function(r){r[r.Minor=0]="Minor",r[r.Major=1]="Major",r[r.Overwrite=2]="Overwrite"})(fy||(fy={}));var hE;(function(r){r[r.None=0]="None",r[r.Overwrite=1]="Overwrite",r[r.AllowBrokenThickets=8]="AllowBrokenThickets",r[r.RetainEditorAndModifiedOnMove=2048]="RetainEditorAndModifiedOnMove"})(hE||(hE={}));var uE;(function(r){r[r.StandardPage=0]="StandardPage",r[r.WikiPage=1]="WikiPage",r[r.FormPage=2]="FormPage",r[r.ClientSidePage=3]="ClientSidePage"})(uE||(uE={}));function Zq(r){return{progress:()=>null,...r}}function e$(r){return r$(r)?r.stream():n$(r)?new ReadableStream({start(e){r.on("data",t=>{e.enqueue(t)}),r.on("end",()=>{e.close()})}}):i$(r)?new ReadableStream({start(e){e.enqueue(r),e.close()}}):o$(r)?r.readable:r}const t$=Symbol.toStringTag;function n$(r){return typeof r.on=="function"}function r$(r){return typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&(/^(Blob|File)$/.test(r[t$])||/^(Blob|File)$/.test(r.constructor.name))}function i$(r){return typeof r=="object"&&typeof r.length=="number"}function o$(r){return typeof r=="object"&&typeof r.readable=="object"}uo(dp,"files",uy);uo(w0,"file",Ot,"file");Cr.prototype.getFileByServerRelativePath=function(r){return gp(this,r)};Cr.prototype.getFileById=function(r){return Ot(this,`getFileById('${r}')`)};Cr.prototype.getFileByUrl=function(r){return Ot(this,`getFileByUrl('${mn("!@p1::"+r)}')`)};uo(w0,"folder",ti);uo(m0,"rootFolder",ti);uo(Cr,"folders",C0);uo(Cr,"rootFolder",ti);Cr.prototype.getFolderByServerRelativePath=function(r){return y0(this,r)};Cr.prototype.getFolderById=function(r){return ti(this,`getFolderById('${r}')`)};const s$="7cf881e5-5436-4a63-bbbb-0be177900711",a$="d3800297-e145-4b6b-b3e3-d427676204aa",A$="https://reblinfelipe.sharepoint.com/sites/segpaciente",c$={configuration:{auth:{authority:`https://login.microsoftonline.com/${s$}/`,clientId:a$}},authParams:{scopes:["https://reblinfelipe.sharepoint.com/.default"],forceRefresh:!1}},nu=u5(A$).using(g7(),Hq(c$)),rF="Auditorias",l$="RespostasAuditoria",h$="FotosAuditoria";async function u$(r){return(await nu.web.lists.getByTitle(rF).items.add({Title:`${r.MetaKey} - ${r.Setor}`,MetaKey:r.MetaKey,Auditor:r.Auditor,Setor:r.Setor,DataAuditoria:r.DataAuditoria})).data.Id}async function d$(r,e){await nu.web.lists.getByTitle(rF).items.getById(r).update(e,"*")}async function f$(r,e,t){await nu.web.lists.getByTitle(l$).items.add({ItemIndex:e,Resposta:t,AuditoriaIDId:r})}async function g$(r,e){var a,A;const n=await nu.web.lists.getByTitle(h$).rootFolder.files.addUsingPath(encodeURIComponent(e.name),e,{Overwrite:!0}),i=((a=n==null?void 0:n.data)==null?void 0:a.ServerRelativeUrl)??(n==null?void 0:n.ServerRelativeUrl)??((A=n==null?void 0:n.file)==null?void 0:A.serverRelativeUrl);return await(await nu.web.getFileByServerRelativePath(i).getItem()).update({AuditoriaID:r},"*"),n}const ml=r=>document.getElementById(r),p$=()=>ml("form-title"),dE=()=>ml("form-items"),fE=()=>document.getElementById("photo-input"),iF=()=>ml("image-previews"),gE=()=>ml("pdf-content"),pE=()=>ml("loading-modal");let xf=null,wA=[];function m$(){document.getElementById("form-auditor").value="",document.getElementById("form-setor").value="",document.getElementById("form-date").valueAsDate=new Date,wA=[],iF().innerHTML=""}function w$(r){xf=r;const e=ua[r];ml("page-title").textContent=e.title,p$().textContent=e.title,dE().innerHTML="",m$(),e.items.forEach((t,n)=>{const i=`${r.replace("meta","")}.${n+1}`,o=document.createElement("div");o.className="p-4 border rounded-lg bg-gray-50",o.innerHTML=`
      <p class="font-semibold text-gray-700 mb-3">${i} - ${t}</p>
      <div class="flex space-x-6">
        <label class="flex items-center space-x-2 cursor-pointer">
          <input type="radio" name="item-${n}" value="C" class="h-5 w-5" required>
          <span class="text-green-600">Conforme</span>
        </label>
        <label class="flex items-center space-x-2 cursor-pointer">
          <input type="radio" name="item-${n}" value="NC" class="h-5 w-5">
          <span class="text-red-600">No Conforme</span>
        </label>
        <label class="flex items-center space-x-2 cursor-pointer">
          <input type="radio" name="item-${n}" value="NA" class="h-5 w-5">
          <span class="text-gray-600">No Aplicvel</span>
        </label>
      </div>
    `,dE().appendChild(o)})}function oF(){const r=iF();r.innerHTML="",wA.forEach((e,t)=>{const n=new FileReader;n.onload=i=>{var A;const o=document.createElement("div");o.className="relative";const s=document.createElement("img");s.src=(A=i.target)==null?void 0:A.result,s.className="w-full h-24 object-cover rounded-lg shadow-md";const a=document.createElement("button");a.className="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-700",a.textContent="",a.onclick=()=>{wA.splice(t,1),oF()},o.appendChild(s),o.appendChild(a),r.appendChild(o)},n.readAsDataURL(e)})}async function C$(){if(!xf)return;const r=document.getElementById("form-auditor").value.trim(),e=document.getElementById("form-setor").value.trim(),t=document.getElementById("form-date").value;if(!r||!e||!t){alert("Preencha Auditor, Setor e Data.");return}const n=ua[xf],i=Array.from(document.querySelectorAll("#form-view input[type='radio']:checked"));if(i.length!==n.items.length){alert("Responda a todos os itens da auditoria.");return}const o=[];for(const c of wA.slice(0,5)){const l=await oQ(c,5242880,1920);if(l.size>5*1024*1024){alert(`A foto ${l.name} ainda excede 5MB aps compresso.`);return}o.push(l)}const s={idLocal:`${Date.now()}`,MetaKey:xf,Auditor:r,Setor:e,DataAuditoria:t,statusSync:"pending"},a=i.map(c=>({itemIndex:Number(c.name.split("-")[1]),resposta:c.value})),A=await Zy;await A.put("audits",s,s.idLocal),await Promise.all(a.map(c=>A.put("answers",{...c,auditId:s.idLocal},`${s.idLocal}-${c.itemIndex}`)));for(let c=0;c<o.length;c++)await A.put("photos",{id:`${s.idLocal}-${c}`,auditId:s.idLocal,name:o[c].name,blob:o[c],size:o[c].size},`${s.idLocal}-${c}`);try{pE().classList.remove("hidden");const c=await u$({MetaKey:s.MetaKey,Auditor:s.Auditor,Setor:s.Setor,DataAuditoria:s.DataAuditoria});for(const u of a)await f$(c,u.itemIndex,u.resposta);const l=await A.getAllFromIndex("photos","byAudit",s.idLocal);for(const u of l)await g$(c,new File([u.blob],u.name,{type:u.blob.type}));await d$(c,{}),s.statusSync="synced",s.idSp=c,await A.put("audits",s,s.idLocal),alert("Auditoria salva e sincronizada!")}catch(c){console.error("Falha ao sincronizar agora, ficar pendente:",c),alert("Sem rede ou sem permisso no SharePoint. Salvamos offline e vamos sincronizar quando houver conexo.")}finally{pE().classList.add("hidden")}confirm("Deseja gerar o PDF agora?")&&await y$(s.idLocal),jh("metas")}async function y$(r){const e=await Zy,t=await e.get("audits",r),n=ua[t.MetaKey],i=new Date(t.DataAuditoria).toLocaleDateString("pt-BR",{timeZone:"UTC"});gE().innerHTML=`
    <style>
      body { font-family: Helvetica, Arial, sans-serif; font-size: 10px; }
      h1 { font-size: 18px; color: #0A3A6B; border-bottom: 2px solid #0A3A6B; padding-bottom: 5px; margin-bottom: 15px;}
      h2 { font-size: 14px; color: #1E63A1; margin-top: 20px; margin-bottom: 10px; }
      .info { background-color: #F0F5FA; padding: 10px; border-radius: 5px; margin-bottom: 15px; }
      .item { margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid #eee; }
      .conforme { color: green; }
      .nao-conforme { color: red; }
      .nao-aplicavel { color: grey; }
    </style>
    <h1>Relatrio de Auditoria - ${n.title}</h1>
    <div class="info">
      <strong>Auditor:</strong> ${t.Auditor}<br>
      <strong>Setor:</strong> ${t.Setor}<br>
      <strong>Data:</strong> ${i}
    </div>
    <h2>Itens Verificados</h2>
    ${n.items.map((s,a)=>`<div class="item">
        <p>${t.MetaKey.replace("meta","")}.${a+1} - ${s}</p>
        <p>Resposta: <span class="">(ver dashboard)</span></p>
      </div>`).join("")}
  `;const o=(await e.getAll("photos")).filter(s=>s.auditId===r).map(s=>new File([s.blob],s.name,{type:s.blob.type}));await _8(t,o),gE().innerHTML=""}function v$(){document.getElementById("save-form-button").addEventListener("click",C$),document.getElementById("cancel-form-button").addEventListener("click",()=>jh("metas")),document.getElementById("add-photo-button").addEventListener("click",()=>{if(wA.length>=5){alert("Mximo de 5 fotos.");return}fE().click()}),fE().addEventListener("change",async r=>{var t;const e=(t=r.target.files)==null?void 0:t[0];if(e){if(wA.length>=5){alert("Mximo de 5 fotos."),r.target.value="";return}wA.push(e),oF(),r.target.value=""}}),window.addEventListener("open-form",r=>{w$(r.detail.metaKey)})}document.addEventListener("DOMContentLoaded",v$);JF();document.getElementById("loginBtn").addEventListener("click",PN);document.getElementById("logoutBtn").addEventListener("click",LN);export{$t as _};
